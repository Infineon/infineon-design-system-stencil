import{r as c,c as p,h as l,g as u}from"./entry-IfvX8YCF.js";import{d as m,t as x}from"./chunk-BMsXG9Ok.js";import{i as F}from"./chunk-CZY0_Num.js";const g=':root{--ifx-font-family:"Source Sans 3", "Arial, sans-serif"}:host{font-family:var(--ifx-font-family, sans-serif)}.file-upload-wrapper{display:flex;flex-direction:column}.file-upload-wrapper.disabled{pointer-events:none}.file-upload-wrapper.disabled label,.file-upload-wrapper.disabled .file-upload-info{color:#575352}.file-upload-label{font-style:normal;font-weight:400;font-size:1rem;line-height:1.5rem;color:#1D1D1D}.file-upload-label .required{display:inline-block;margin-left:4px}.file-upload-label .required.error{color:#CD002F}.upload-dropzone{border:1px dashed #BFBBBB;padding:40px;text-align:center;cursor:pointer;color:#1D1D1D;transition:border-color 0.3s ease;border-radius:1px;background:#FFFFFF}.upload-dropzone ifx-icon{color:#0A8276}.upload-dropzone:hover{border:1px dashed #8D8786}.upload-dropzone.drag-over{border:1px solid #0A8276;background:#F7F7F7}.upload-dropzone.drag-over.error{border:1px solid #0A8276}.upload-dropzone.error{border-color:#CD002F}.disabled .upload-dropzone{pointer-events:none;border-color:#BFBBBB;color:#BFBBBB}.disabled .upload-dropzone ifx-icon{color:#BFBBBB}.upload-dropzone input{display:none}.file-upload-info{font-style:normal;font-weight:400;font-size:0.75rem;line-height:1rem;letter-spacing:0em;color:#1D1D1D;margin:0;margin-top:4px}.file-upload-status{font-style:normal;font-weight:400;font-size:0.75rem;line-height:1rem;letter-spacing:0.2px;margin-top:8px}.file-upload-status.file-upload-status__error{display:flex;align-items:center;color:#CD002F}.file-upload-status.file-upload-status__error ifx-icon{position:relative;top:-1px;color:#CD002F;margin-right:8px}.upload-heading{font:600 1.125rem/1.625rem "Source Sans 3";margin-bottom:8px}.file-list-wrapper{margin-top:16px}.file-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:16px}.file-item{border:1px solid #BFBBBB;padding-top:12px;padding-right:16px;padding-bottom:8px;padding-left:16px;display:flex;gap:8px}.file-info{width:100%;min-width:0}.file-top-row{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-top:-8px}.file-top-row ifx-icon{flex-shrink:0}.file-name-wrapper{display:flex;min-width:0;max-width:100%;white-space:nowrap;overflow:hidden;font-weight:400;font-size:0.875rem}.file-name-base{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex-shrink:1;min-width:0}.file-name-ext{flex-shrink:0;margin-left:0}.file-middle-row{display:flex;align-items:center;font-size:0.75rem;line-height:1rem;flex-wrap:wrap;color:#575352}.file-middle-row .file-status{margin-left:12px}.file-middle-row .file-status ifx-icon{margin-right:8px}.file-progress-row{margin-top:4px}.file-progress-row ifx-progress-bar{width:100%}.upload-success{border-color:#0A8276}.upload-success .file-status ifx-icon{position:relative;top:1px;color:#4CA460}.upload-failed{border-color:#CD002F}.upload-failed .file-status{color:#CD002F;margin-left:0}',b=class{constructor(e){c(this,e),this.ifxFileUploadAdd=p(this,"ifxFileUploadAdd",7),this.ifxFileUploadRemove=p(this,"ifxFileUploadRemove",7),this.ifxFileUploadChange=p(this,"ifxFileUploadChange",7),this.ifxFileUploadError=p(this,"ifxFileUploadError",7),this.ifxFileUploadInvalid=p(this,"ifxFileUploadInvalid",7),this.ifxFileUploadStart=p(this,"ifxFileUploadStart",7),this.ifxFileUploadComplete=p(this,"ifxFileUploadComplete",7),this.ifxFileUploadAllComplete=p(this,"ifxFileUploadAllComplete",7),this.ifxFileUploadAbort=p(this,"ifxFileUploadAbort",7),this.ifxFileUploadDrop=p(this,"ifxFileUploadDrop",7),this.ifxFileUploadClick=p(this,"ifxFileUploadClick",7),this.ifxFileUploadMaxFilesExceeded=p(this,"ifxFileUploadMaxFilesExceeded",7),this.ifxFileUploadValidation=p(this,"ifxFileUploadValidation",7),this.ifxFileUploadRetry=p(this,"ifxFileUploadRetry",7),this.dragAndDrop=!1,this.required=!1,this.disabled=!1,this.maxFileSizeMB=7,this.allowedFileTypes=void 0,this.additionalAllowedFileTypes=[],this.allowAnyFileType=!1,this.allowedFileExtensions=[],this.label="Label",this.labelRequiredError="At least one file must be uploaded",this.labelBrowseFiles="Browse files",this.labelDragAndDrop="Drag & Drop or browse files to upload",this.labelUploadedFilesHeading="Uploaded files",this.labelFileTooLarge="Upload failed. Max file size: {{size}}MB.",this.labelUnsupportedFileType="Unsupported file type.",this.labelUploaded="Successfully uploaded",this.labelUploadFailed="Upload failed. Please try again.",this.labelSupportedFormatsTemplate="Supported file formats: {{types}}. Max file size: {{size}}MB.",this.labelFileSingular="file",this.labelFilePlural="files",this.labelMaxFilesInfo="Up to {{count}} {{files}}.",this.labelMaxFilesExceeded="Upload limit exceeded. Only {{count}} {{files}} allowed.",this.ariaLabelBrowseFiles="Browse files",this.ariaLabelDropzone="Upload area. Click to browse or drag and drop files.",this.ariaLabelFileInput="Upload file",this.ariaLabelRemoveFile="Remove file",this.ariaLabelCancelUpload="Cancel upload",this.ariaLabelRetryUpload="Retry upload",this.ariaLabelUploadingStatus="Upload in progress",this.ariaLabelUploadedStatus="Upload completed",this.ariaLabelUploadFailedStatus="Upload failed",this.internalId=`ifx-file-upload-${Math.random().toString(36).substr(2,9)}`,this.isDragOver=!1,this.files=[],this.uploadTasks=[],this.rejectedSizeFiles=[],this.rejectedTypeFiles=[],this.requiredError=!1,this.statusMessage=null,this.fileInputEl=null,this.extensionToMimeMap={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",webp:"image/webp",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",txt:"text/plain",csv:"text/csv",json:"application/json",mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm",zip:"application/zip",rar:"application/vnd.rar",tar:"application/x-tar",gz:"application/gzip",xml:"application/xml",html:"text/html",css:"text/css",js:"application/javascript"}}get maxFiles(){return this._maxFiles}set maxFiles(e){typeof e=="number"&&e<1?(console.warn("Invalid `maxFiles` value. Must be >= 1. Value ignored."),this._maxFiles=void 0):this._maxFiles=e}validateRequired(){var e,s;this.required&&this.files.length===0?(this.requiredError=!0,((e=this.statusMessage)===null||e===void 0?void 0:e.text)!==this.labelRequiredError&&(this.statusMessage={type:"error",text:this.labelRequiredError}),this.ifxFileUploadValidation.emit({valid:!1})):(this.requiredError=!1,((s=this.statusMessage)===null||s===void 0?void 0:s.text)===this.labelRequiredError&&(this.statusMessage=null),this.ifxFileUploadValidation.emit({valid:!0}))}pluralize(e){return this.allowAnyFileType?e===1?"file":"files":e===1?this.labelFileSingular:this.labelFilePlural}getNormalizedFileTypes(){if(!this.allowedFileTypes&&this.allowedFileExtensions&&this.getNormalizedFileExtensions().length>0)return[];if(!this.allowedFileTypes)return["jpg","jpeg","png","pdf","mov","mp3","mp4"];if(Array.isArray(this.allowedFileTypes))return this.allowedFileTypes;try{return JSON.parse(this.allowedFileTypes)}catch{return this.allowedFileTypes.split(",").map(s=>s.trim())}}getNormalizedFileExtensions(){if(!this.allowedFileExtensions)return[];if(Array.isArray(this.allowedFileExtensions))return this.allowedFileExtensions;try{return JSON.parse(this.allowedFileExtensions)}catch{return this.allowedFileExtensions.split(",").map(s=>s.trim())}}isFileTypeAllowed(e){if(this.allowAnyFileType)return!0;const s=this.getFileExtension(e.name);if(this.getNormalizedFileTypes().map(o=>this.extensionToMimeMap[o.toLowerCase()]).filter(Boolean).includes(e.type)||this.getAdditionalMimeTypes().includes(e.type))return!0;const t=this.getNormalizedFileExtensions();if(t.length>0&&s)for(const o of t){const n=o.startsWith(".")?o.substring(1).toLowerCase():o.toLowerCase();if(s===n)return!0}return!1}getFileExtension(e){const s=e.lastIndexOf(".");return s===-1||s===e.length-1?null:e.substring(s+1).toLowerCase()}getLabelFromMimeType(e){for(const[s,i]of Object.entries(this.extensionToMimeMap))if(i===e)return s.toUpperCase();return e}handleFileChange(e){const s=e.target;s.files&&this.processFiles(s.files)}handleDrop(e){var s;if(!this.disabled&&(e.preventDefault(),e.stopPropagation(),this.isDragOver=!1,!((s=e.dataTransfer)===null||s===void 0)&&s.files)){const i=Array.from(e.dataTransfer.files),r=[],a=[];i.forEach(t=>{const o=this.isFileTypeAllowed(t),n=t.size<=this.maxFileSizeMB*1024*1024;o&&n?r.push(t):a.push(t)}),this.ifxFileUploadDrop.emit({droppedFiles:i,acceptedFiles:r,rejectedFiles:a}),this.processFiles(e.dataTransfer.files)}}handleDragOver(e){this.disabled||(e.preventDefault(),this.isDragOver=!0)}handleDragLeave(e){this.disabled||(e.preventDefault(),this.isDragOver=!1)}processFiles(e){const s=Array.from(e),i=[],r=[],a=[];if(s.forEach(t=>{const o=this.isFileTypeAllowed(t),n=t.size<=this.maxFileSizeMB*1024*1024;if(this.files.some(h=>h.name===t.name&&h.size===t.size)){this.ifxFileUploadInvalid.emit({file:t,reason:"duplicate"}),this.ifxFileUploadError.emit({file:t,errorType:"duplicate",message:`File "${t.name}" is already added`,reason:"duplicate"});return}o&&n?i.push(t):(o||(a.push(t.name),this.ifxFileUploadInvalid.emit({file:t,reason:"invalid-type"})),n||(r.push(t.name),this.ifxFileUploadInvalid.emit({file:t,reason:"invalid-size"})),this.ifxFileUploadError.emit({file:t,errorType:o?"file-too-large":"invalid-type",message:"Invalid file rejected",reason:o?"file-too-large":"unsupported-type"}))}),this.rejectedSizeFiles=[...this.rejectedSizeFiles,...r],this.rejectedTypeFiles=[...this.rejectedTypeFiles,...a],this.maxFiles&&this.files.length+i.length>this.maxFiles){const t=this.maxFiles-this.files.length,o=i.slice(0,Math.max(t,0)),n=i.slice(t);this.files=[...this.files,...o],o.forEach(d=>this.startUpload(d)),o.length>0&&(this.ifxFileUploadAdd.emit({addedFiles:o,files:this.files}),this.ifxFileUploadChange.emit({files:this.files})),n.forEach(d=>{this.ifxFileUploadInvalid.emit({file:d,reason:"too-many-files"}),this.ifxFileUploadError.emit({file:d,errorType:"too-many-files",message:`Upload limit exceeded. Max ${this.maxFiles} files allowed.`,reason:"too-many-files"})}),n.length>0&&(this.statusMessage={type:"error",text:this.labelMaxFilesExceeded.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",this.pluralize(this.maxFiles))},this.ifxFileUploadMaxFilesExceeded.emit({maxFiles:this.maxFiles,attempted:this.files.length+i.length}));return}i.forEach(t=>this.startUpload(t)),this.files=[...this.files,...i],i.length>0&&(this.ifxFileUploadAdd.emit({addedFiles:i,files:this.files}),this.ifxFileUploadChange.emit({files:this.files})),this.validateRequired()}retryUpload(e){const s=this.uploadTasks.findIndex(i=>i.file.name===e.name);s!==-1&&(this.uploadTasks.splice(s,1),this.uploadTasks=[...this.uploadTasks]),this.ifxFileUploadRetry.emit({file:e}),this.startUpload(e)}startUpload(e){this.ifxFileUploadStart.emit({file:e});const s={file:e,progress:3,intervalId:null,completed:!1};if(this.uploadTasks=[...this.uploadTasks,s],this.uploadHandler)this.uploadHandler(e,i=>{i>s.progress&&(s.progress=Math.min(100,i),this.uploadTasks=[...this.uploadTasks])}).then(()=>{if(s.progress=100,s.completed=!0,this.uploadTasks=[...this.uploadTasks],this.ifxFileUploadComplete.emit({file:e}),this.ifxFileUploadChange.emit({files:this.files}),this.uploadTasks.every(i=>i.completed||i.error)&&this.uploadTasks.some(r=>r.completed&&!r.error)){const r=this.uploadTasks.filter(a=>a.completed&&!a.error).map(a=>a.file);this.ifxFileUploadAllComplete.emit({files:r})}}).catch(()=>{if(s.error=!0,this.uploadTasks=[...this.uploadTasks],this.ifxFileUploadError.emit({file:e,errorType:"upload-failed",message:"Upload handler rejected file",reason:"custom"}),this.uploadTasks.every(i=>i.completed||i.error)&&this.uploadTasks.some(r=>r.completed&&!r.error)){const r=this.uploadTasks.filter(a=>a.completed&&!a.error).map(a=>a.file);this.ifxFileUploadAllComplete.emit({files:r})}});else{const i=e.size,r=1e5;let a=0;s.intervalId=window.setInterval(()=>{a+=r/5;const t=Math.min(100,Math.round(a/i*100));if(s.progress=t,this.uploadTasks=[...this.uploadTasks],t>=100&&(clearInterval(s.intervalId),s.completed=!0,s.intervalId=null,this.uploadTasks=[...this.uploadTasks],this.ifxFileUploadComplete.emit({file:e}),this.ifxFileUploadChange.emit({files:this.files}),this.uploadTasks.every(o=>o.completed||o.error)&&this.uploadTasks.some(n=>n.completed&&!n.error))){const n=this.uploadTasks.filter(d=>d.completed&&!d.error).map(d=>d.file);this.ifxFileUploadAllComplete.emit({files:n})}},200)}}cancelUpload(e){const s=this.uploadTasks.findIndex(i=>i.file.name===e.name);if(s!==-1){const i=this.uploadTasks[s];(i==null?void 0:i.intervalId)!==null&&clearInterval(i.intervalId),this.uploadTasks=this.uploadTasks.filter((r,a)=>a!==s)}this.files=this.files.filter(i=>i.name!==e.name),this.ifxFileUploadAbort.emit({file:e}),this.ifxFileUploadChange.emit({files:this.files}),this.fileInputEl&&(this.fileInputEl.value=""),this.validateRequired()}removeFile(e){var s;this.uploadTasks=this.uploadTasks.filter(i=>i.file.name!==e.name),this.files=this.files.filter(i=>i.name!==e.name),this.ifxFileUploadRemove.emit({removedFile:e,files:this.files}),this.ifxFileUploadChange.emit({files:this.files}),this.validateRequired(),this.fileInputEl&&(this.fileInputEl.value=""),this.maxFiles&&this.files.length<this.maxFiles&&((s=this.statusMessage)===null||s===void 0?void 0:s.text)!==this.labelRequiredError&&(this.statusMessage=null)}clearRejectedFile(e,s){s==="size"?this.rejectedSizeFiles=this.rejectedSizeFiles.filter(i=>i!==e):this.rejectedTypeFiles=this.rejectedTypeFiles.filter(i=>i!==e),this.fileInputEl&&(this.fileInputEl.value=""),this.maxFiles&&this.files.length<this.maxFiles&&(this.statusMessage=null),this.validateRequired()}splitFileNameParts(e){const s=e.name,i=s.lastIndexOf(".");return i===-1?{base:s,ext:""}:{base:s.substring(0,i),ext:s.substring(i)}}getFileIcon(e){var s;switch((s=e.name.split(".").pop())===null||s===void 0?void 0:s.toLowerCase()){case"pdf":return"file-pdf-16";case"jpg":case"jpeg":return"file-jpg-16";case"png":return"file-png-16";case"mov":return"file-mov-16";case"mp3":return"file-mp3-16";case"mp4":return"file-mp4-16";default:return"file-16"}}formatSize(e){return e>=1024*1024*1024?`${(e/(1024*1024*1024)).toFixed(1)} GB`:e>=1024*1024?`${(e/(1024*1024)).toFixed(1)} MB`:e>=1024?`${(e/1024).toFixed(0)} KB`:`${e} B`}getAcceptAttribute(){if(this.allowAnyFileType)return"";const e=[],s=this.getNormalizedFileTypes().map(a=>"."+a.toLowerCase());e.push(...s);const i=this.getAdditionalMimeTypes();return e.push(...i),this.getNormalizedFileExtensions().forEach(a=>{const t=a.startsWith(".")?a:"."+a;e.push(t)}),e.join(",")}getFormattedProgressText(e){const s=Math.round(e.progress/100*e.file.size),i=this.formatSize(s),r=this.formatSize(e.file.size);return`${i} / ${r} uploaded`}getAdditionalMimeTypes(){return this.additionalAllowedFileTypes?Array.isArray(this.additionalAllowedFileTypes)?this.additionalAllowedFileTypes:this.additionalAllowedFileTypes.split(",").map(e=>e.trim()):[]}getSupportedFileText(){if(this.allowAnyFileType){let o=`All file types allowed. Max file size: ${this.maxFileSizeMB}MB.`;if(this.labelMaxFilesInfo&&this.maxFiles){const n=this.pluralize(this.maxFiles),d=this.labelMaxFilesInfo.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",n);o+=` ${d}`}return o}const e=[],s=this.getNormalizedFileTypes().map(o=>o.toUpperCase());e.push(...s);const i=this.getAdditionalMimeTypes().map(o=>this.getLabelFromMimeType(o));e.push(...i);const r=this.getNormalizedFileExtensions().map(o=>(o.startsWith(".")?o.substring(1):o).toUpperCase());e.push(...r);const a=e.join(", ");let t=this.labelSupportedFormatsTemplate.replace("{{types}}",a).replace("{{size}}",this.maxFileSizeMB.toString());if(this.labelMaxFilesInfo&&this.maxFiles){const o=this.pluralize(this.maxFiles),n=this.labelMaxFilesInfo.replace("{{count}}",this.maxFiles.toString()).replace("{{files}}",o);t+=` ${n}`}return t}getFormattedFileTooLargeText(){return this.labelFileTooLarge.replace("{{size}}",this.maxFileSizeMB.toString())}renderStatusMessage(){return this.statusMessage?l("div",{class:`file-upload-status file-upload-status__${this.statusMessage.type}`},this.statusMessage.type==="error"&&l("ifx-icon",{icon:"c-warning-16"}),this.statusMessage.text):null}isInputDisabled(){return this.disabled||this.maxFiles!==void 0&&this.files.length>=this.maxFiles}async componentDidLoad(){if(!F(this.hostElement)){const e=m();x("ifx-file-upload",await e)}this.hostElement.hasAttribute("show-demo-states")&&(this.showDemoStates=!0),this.showDemoStates&&this.injectDemoState()}async injectDemoState(){const e=new Array(5e4).fill("a").join(""),s=e+e,i=new File([e],"Image.jpg",{type:"image/jpeg"}),r=new File([s],"File.pdf",{type:"application/pdf"}),a=new File([e],"Text.docx",{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),t=new File([s+s+s],"Video.mp4",{type:"video/mp4"}),o=new File(["demo"],"Script.exe",{type:"application/x-msdownload"});this.files=[r,i,a],this.uploadTasks=[{file:r,progress:100,intervalId:null,completed:!0},{file:i,progress:40,intervalId:null,completed:!1},{file:a,progress:80,intervalId:null,completed:!1,error:!0}],this.rejectedSizeFiles=[t.name],this.rejectedTypeFiles=[o.name]}async triggerDemoValidation(){this.validateRequired()}render(){return l("div",{key:"dff7916240739f9b2db7a859eaf7f2f24eb2a6fb",class:{"file-upload-wrapper":!0,disabled:this.disabled}},this.label&&l("label",{key:"d951fabeecd6aeb50206f527f003607fad675984",class:"file-upload-label",htmlFor:this.internalId},this.label,this.required&&l("span",{key:"7f700a3a51bc0da70bf77c248c1bc4fda6d81496",class:`required ${this.requiredError?"error":""}`},"*")),this.dragAndDrop?this.renderDragAndDropArea():this.renderUploadArea(),(this.files.length>0||this.rejectedSizeFiles.length>0||this.rejectedTypeFiles.length>0)&&l("div",{key:"d3cc91750385e48626ec832ad15b623994055361",class:"file-list-wrapper"},l("div",{key:"123953f9b85259f5f0df8c44b9041778f3417d54",class:"upload-heading"},this.labelUploadedFilesHeading),l("ul",{key:"0e9dcc3b32fc79342f2810717cf1700ab62a673e",class:"file-list"},this.rejectedSizeFiles.map(e=>l("li",{class:"file-item upload-failed",key:`rejected-size-${e}`},l("div",{class:"file-icon"},l("ifx-icon",{icon:"file-16"})),l("div",{class:"file-info"},l("div",{class:"file-top-row"},l("span",{class:"file-name-wrapper"},l("span",{class:"file-name-base"},this.splitFileNameParts({name:e}).base),l("span",{class:"file-name-ext"},this.splitFileNameParts({name:e}).ext)),l("div",{class:"file-actions"},l("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.clearRejectedFile(e,"size")}))),l("div",{class:"file-middle-row"},l("span",{class:"file-status","aria-label":this.labelFileTooLarge.replace("{{size}}",this.maxFileSizeMB.toString())},this.getFormattedFileTooLargeText()))))),this.rejectedTypeFiles.map(e=>l("li",{class:"file-item upload-failed",key:`rejected-type-${e}`},l("div",{class:"file-icon"},l("ifx-icon",{icon:"file-16"})),l("div",{class:"file-info"},l("div",{class:"file-top-row"},l("span",{class:"file-name-wrapper"},l("span",{class:"file-name-base"},this.splitFileNameParts({name:e}).base),l("span",{class:"file-name-ext"},this.splitFileNameParts({name:e}).ext)),l("div",{class:"file-actions"},l("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.clearRejectedFile(e,"type")}))),l("div",{class:"file-middle-row"},l("span",{class:"file-status","aria-label":this.labelUnsupportedFileType},this.labelUnsupportedFileType))))),this.files.map(e=>{var s;const i=this.uploadTasks.find(f=>f.file.name===e.name),r=(s=i==null?void 0:i.progress)!==null&&s!==void 0?s:100,a=i&&!i.completed,t=(i==null?void 0:i.error)===!0,o=t?"file-item upload-failed":a?"file-item uploading":"file-item upload-success",n=`${e.name}-${e.size}`,{base:d,ext:h}=this.splitFileNameParts(e);return l("li",{class:o,key:n},l("div",{class:"file-icon"},l("ifx-icon",{icon:this.getFileIcon(e)})),l("div",{class:"file-info"},l("div",{class:"file-top-row"},l("span",{class:"file-name-wrapper"},l("span",{class:"file-name-base"},d),l("span",{class:"file-name-ext"},h)),l("div",{class:"file-actions"},l("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"refresh-16",size:"s","aria-label":this.ariaLabelRetryUpload,onClick:()=>this.retryUpload(e),style:{display:t?"inline-flex":"none"}}),l("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"cross-16",size:"s","aria-label":this.ariaLabelCancelUpload,onClick:()=>this.cancelUpload(e),style:{display:a?"inline-flex":"none"}}),l("ifx-icon-button",{shape:"square",variant:"tertiary",icon:"delete-forever-16",size:"s","aria-label":this.ariaLabelRemoveFile,onClick:()=>this.removeFile(e),style:{display:a?"none":"inline-flex"}}))),l("div",{class:"file-middle-row"},a&&i&&!i.error&&l("span",{class:"file-uploading","aria-label":this.ariaLabelUploadingStatus},this.getFormattedProgressText(i)),!a&&!t&&l("span",null,l("span",{class:"file-size"},this.formatSize(e.size)),l("span",{class:"file-status","aria-label":this.ariaLabelUploadedStatus},l("ifx-icon",{icon:"check-16"}),this.labelUploaded)),t&&l("span",{class:"file-status","aria-label":this.ariaLabelUploadFailedStatus},this.labelUploadFailed)),a&&i&&!i.error&&l("div",{class:"file-progress-row"},l("ifx-progress-bar",{size:"s",value:r,"show-label":"true"}))))}))))}renderUploadArea(){const e=s=>{this.fileInputEl=s};return l("div",{class:{"upload-button":!0}},l("ifx-button",{variant:"secondary",onClick:()=>{var s;return(s=this.fileInputEl)===null||s===void 0?void 0:s.click()},disabled:this.isInputDisabled(),"aria-label":this.ariaLabelBrowseFiles},l("ifx-icon",{icon:"upload-16"}),this.labelBrowseFiles),l("input",{id:this.internalId,ref:e,type:"file",accept:this.getAcceptAttribute(),multiple:!0,onChange:s=>this.handleFileChange(s),style:{display:"none"},disabled:this.isInputDisabled(),"aria-label":this.ariaLabelFileInput}),l("p",{class:"file-upload-info"},this.getSupportedFileText()),this.renderStatusMessage())}renderDragAndDropArea(){const e=i=>{this.fileInputEl=i},s=()=>{this.fileInputEl&&this.fileInputEl.click()};return l("div",{class:{disabled:this.isInputDisabled()}},l("div",{class:{"upload-dropzone":!0,"drag-over":this.isDragOver,error:this.requiredError},onClick:s,onDragOver:i=>this.handleDragOver(i),onDragLeave:i=>this.handleDragLeave(i),onDrop:i=>this.handleDrop(i),role:"button",tabIndex:0,"aria-label":this.ariaLabelDropzone},l("ifx-icon",{icon:"upload-16",class:"custom-icon"}),l("p",null,this.labelDragAndDrop),l("p",{class:"file-upload-info"},this.getSupportedFileText()),l("div",{style:{height:"0px",overflow:"hidden"}},l("input",{id:this.internalId,ref:e,type:"file",accept:this.getAcceptAttribute(),multiple:!0,onChange:i=>this.handleFileChange(i),disabled:this.isInputDisabled(),"aria-label":this.ariaLabelFileInput}))),this.renderStatusMessage())}get hostElement(){return u(this)}};b.style=g;export{b as ifx_file_upload};
