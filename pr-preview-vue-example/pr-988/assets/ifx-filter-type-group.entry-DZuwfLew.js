import{r as h,c as d,h as a,H as f,g}from"./index-CuPXhU9k.js";const p=":host{display:flex}.filter-type-group{width:260px;flex-direction:column;align-items:flex-start;gap:8px}",x=p,S=class{constructor(o){h(this,o),this.ifxSidebarFilterChange=d(this,"ifxSidebarFilterChange",7),this.handleResetEvent=()=>{this.el.shadowRoot.querySelector('slot[name="filter-accordion"]').assignedElements({flatten:!0}).forEach(t=>{t.querySelectorAll("ifx-list").forEach(n=>{n.resetTrigger=!n.resetTrigger})}),this.el.shadowRoot.querySelector('slot[name="filter-search"]').assignedElements({flatten:!0}).forEach(t=>{const n=t.querySelector("ifx-filter-search").shadowRoot.querySelectorAll("ifx-search-field");n.length>0&&n.forEach(c=>{c.value=""})}),this.selectedOptions=[],this.ifxSidebarFilterChange.emit(this.selectedOptions)},this.handleAccordionChange=e=>{this.handleFilterChange(e)},this.handleSearchChange=e=>{this.handleFilterChange(e)},this.handleFilterChange=e=>{const i=[...this.selectedOptions];if(e.type==="ifxFilterSearchChange"){const{filterName:r,filterValue:s}=e.detail,t=i.findIndex(l=>typeof l!="string"&&l.filterGroupName===r);t!==-1?i[t].value=s:i.push({filterGroupName:r,value:s})}else if(e.type==="ifxFilterAccordionChange"){const{filterGroupName:r,selectedItems:s}=e.detail,t=i.findIndex(l=>l.filterGroupName===r);t!==-1?i[t]={filterGroupName:r,selectedItems:s}:i.push({filterGroupName:r,selectedItems:s})}this.selectedOptions=i,this.ifxSidebarFilterChange.emit(this.selectedOptions)},this.selectedOptions=[]}connectedCallback(){this.el.addEventListener("ifxFilterAccordionChange",this.handleAccordionChange),this.el.addEventListener("ifxFilterSearchChange",this.handleSearchChange),window.addEventListener("ifxResetFiltersEvent",this.handleResetEvent)}componentWillUnload(){this.el.removeEventListener("ifxFilterAccordionChange",this.handleAccordionChange),this.el.removeEventListener("ifxFilterSearchChange",this.handleSearchChange),window.removeEventListener("ifxResetFiltersEvent",this.handleResetEvent)}render(){return a(f,{key:"4f69d19d8b83d36b4f8012899847b110a7db5c60"},a("div",{key:"8f9b5eb59dfd76f8aa3e0c454896965386387ac4",class:"filter-type-group"},a("slot",{key:"1896a7a1538f850ab397e163da15cdd35cb3a123",name:"filter-search"}),a("slot",{key:"06f246e7e2cceeffe535034e9bf8ff00d6d00361",name:"filter-accordion"})))}get el(){return g(this)}};S.style=x;export{S as ifx_filter_type_group};
