import{r as o,c as a,h as s,g as h}from"./index-b-pvXNyC.js";const n=".link-wrapper{display:flex;align-items:center;gap:8px;margin-top:8px}",c=n,d=class{constructor(e){o(this,e),this.ifxListUpdate=a(this,"ifxListUpdate",7),this.toggleList=t=>{t.stopPropagation(),this.expanded=!this.expanded},this.toggleShowMore=t=>{t.stopPropagation(),this.showMore=!this.showMore},this.handleCheckedChange=t=>{t&&t.detail.type==="radio-button"&&t.detail.value&&Array.from(this.el.querySelectorAll("ifx-list-entry")).filter(l=>l.getAttribute("type")==="radio-button"&&l!==t.target).forEach(l=>l.setAttribute("value","false"));const i=this.getSelectedItems(this.el);this.selectedCount=i.length,this.ifxListUpdate.emit({name:this.name,selectedItems:i})},this.expanded=!1,this.showMore=!1,this.selectedCount=0,this.totalItems=0,this.name="",this.maxVisibleItems=6}componentWillLoad(){this.el.addEventListener("ifxListEntryChange",this.handleCheckedChange),this.selectedCount=this.getSelectedItems(this.el).length,this.totalItems=this.getTotalItems(),this.observer=new MutationObserver(()=>{const e=this.getTotalItems();e!==this.totalItems&&(this.totalItems=e,this.handleCheckedChange())}),this.observer.observe(this.el,{childList:!0})}componentWillUnload(){this.el.removeEventListener("ifxListEntryChange",this.handleCheckedChange),this.observer.disconnect()}getTotalItems(){return this.el.querySelectorAll("ifx-list-entry").length}getSelectedItems(e){return Array.from(e.querySelectorAll("ifx-list-entry")).filter(t=>t.getAttribute("value")==="true").map(t=>({label:t.getAttribute("label"),value:t.getAttribute("value")}))}render(){const e=Array.from(this.el.querySelectorAll("ifx-list-entry")),t=this.showMore?e:e.slice(0,this.maxVisibleItems),i=e.length-t.length;return s("div",{key:"99be603ef281c1013ccd4b6f2767f5b9a77897f0",class:"list-wrapper"},t.map(r=>s("slot",{name:r.getAttribute("slot")})),s("div",{key:"fe841103a010dab899a2771a994037207080968a",class:"link-wrapper",onClick:this.toggleShowMore},s("ifx-icon",{key:this.showMore.toString(),icon:this.showMore?"chevron-up-12":"chevron-down-12"}),s("ifx-link",{key:"ef428d5aed05b73429cbfc8da17184c5d034b39a",size:"s",href:"",target:"_blank",variant:"underlined",disabled:!1},this.showMore?"Show less":`Show ${i} more`)))}get el(){return h(this)}};d.style=c;export{d as ifx_list};
