<script setup lang="ts">
import Prism from "prismjs";
import { ref, onBeforeUnmount, watch, nextTick, onMounted } from "vue";
import "prismjs/components/prism-markup";

// @ts-expect-error
import packageJson from "../package.json";

const declaredVersion = (packageJson.dependencies as Record<string, string>)[
	"@infineon/infineon-design-system-vue"
];

import { version as installedVersion } from "@infineon/infineon-design-system-vue/package.json";

/* <AUTO-GENERATED-IMPORTS> */
import IfxAccordionExample from './generated/IfxAccordionExample.vue';
import IfxActionListExample from './generated/IfxActionListExample.vue';
import IfxAlertExample from './generated/IfxAlertExample.vue';
import IfxAiLabelExample from './generated/IfxAiLabelExample.vue';
import IfxButtonExample from './generated/IfxButtonExample.vue';
import IfxCardExample from './generated/IfxCardExample.vue';
import IfxCheckboxExample from './generated/IfxCheckboxExample.vue';
import IfxCheckboxGroupExample from './generated/IfxCheckboxGroupExample.vue';
import IfxChipExample from './generated/IfxChipExample.vue';
import IfxContentSwitcherExample from './generated/IfxContentSwitcherExample.vue';
import IfxDatePickerExample from './generated/IfxDatePickerExample.vue';
import IfxDropdownExample from './generated/IfxDropdownExample.vue';
import IfxFooterMediumExample from './generated/IfxFooterMediumExample.vue';
import IfxIconButtonExample from './generated/IfxIconButtonExample.vue';
import IfxIndicatorExample from './generated/IfxIndicatorExample.vue';
import IfxLinkExample from './generated/IfxLinkExample.vue';
import IfxNavbarExample from './generated/IfxNavbarExample.vue';
import IfxSidebarExample from './generated/IfxSidebarExample.vue';
import IfxNotificationExample from './generated/IfxNotificationExample.vue';
import IfxPaginationExample from './generated/IfxPaginationExample.vue';
import IfxProgressBarExample from './generated/IfxProgressBarExample.vue';
import IfxRadioButtonExample from './generated/IfxRadioButtonExample.vue';
import IfxRadioButtonGroupExample from './generated/IfxRadioButtonGroupExample.vue';
import IfxSearchBarExample from './generated/IfxSearchBarExample.vue';
import IfxSearchFieldExample from './generated/IfxSearchFieldExample.vue';
import IfxSegmentedControlExample from './generated/IfxSegmentedControlExample.vue';
import IfxSelectExample from './generated/IfxSelectExample.vue';
import IfxSpinnerExample from './generated/IfxSpinnerExample.vue';
import IfxStatusExample from './generated/IfxStatusExample.vue';
import IfxStepperExample from './generated/IfxStepperExample.vue';
import IfxStepperCompactExample from './generated/IfxStepperCompactExample.vue';
import IfxSwitchExample from './generated/IfxSwitchExample.vue';
import IfxBasicTableExample from './generated/IfxBasicTableExample.vue';
import IfxTableDefaultStateExample from './generated/IfxTableDefaultStateExample.vue';
import IfxTabsExample from './generated/IfxTabsExample.vue';
import IfxTextFieldExample from './generated/IfxTextFieldExample.vue';
import IfxTextareaExample from './generated/IfxTextareaExample.vue';
import IfxTooltipExample from './generated/IfxTooltipExample.vue';
/* </AUTO-GENERATED-IMPORTS> */

// Manual examples
import ModalExample from "./manual/ModalExample.vue";

// Default id (generated)
const defaultId = 
  /* <AUTO-GENERATED-DEFAULT-ID> */
"ifx-accordion-example"
  /* </AUTO-GENERATED-DEFAULT-ID> */;

const getHashId = () => window.location.hash?.slice(1) || "";

// active example id
const activeId = ref(getHashId() || defaultId);

const onHashChange = () => {
  const next = getHashId();
  if (next) activeId.value = next;
};

onMounted(() => {
  if (!getHashId()) {
    window.location.hash = `#${activeId.value}`;
  }

  window.addEventListener("hashchange", onHashChange);
});

onBeforeUnmount(() => {
  window.removeEventListener("hashchange", onHashChange);
});

// Hightlight code blocks whenever activeId changes
watch(activeId, async () => {
	nextTick(() => {
		Prism.highlightAll();
	});
});
</script>

<template>
  <ifx-navbar 
    show-logo-and-appname="true" 
    application-name="Infineon Design System - Vue Example" 
    :fixed="false"
  >
  
    <ifx-navbar-item icon="calendar-16" slot="left-item">
      All Components
      <!-- <AUTO-GENERATED-NAVBAR-ITEMS> -->
<ifx-navbar-item href="#ifx-accordion-example">Accordion</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-action-list-example">Action List</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-alert-example">Alert</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-ai-label-example">AI Label</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-button-example">Button</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-card-example">Card</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-checkbox-example">Checkbox</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-checkbox-group-example">Checkbox Group</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-chip-example">Chip</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-content-switcher-example">Content Switcher</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-date-picker-example">Date Picker</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-dropdown-example">Dropdown</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-footer-example-medium">Footer - Medium</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-icon-button-example">Icon Button</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-indicator-example">Indicator</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-link-example">Link</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-navbar-example">Navigation/Navbar</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-sidebar-example">Navigation/Sidebar</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-notification-example">Notification</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-pagination-example">Pagination</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-progress-bar-example">Progress Bar</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-radio-button-example">Radio Button</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-radio-button-group-example">Radio Button Group</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-search-bar-example">Search Bar</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-search-field-example">Search Field</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-segmented-control-example">Segmented Control</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-select-example">Select/Single Select</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-spinner-example">Spinner</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-status-example">Status</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-stepper-example">Stepper</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-stepper-example-compact">Stepper - Compact</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-switch-example">Switch</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-basic-table-example">Table (basic)</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-table-example-defaultstate">Table (advanced) - DefaultState</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-tabs-example">Tabs</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-text-field-example">Text Field</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-textarea-example">Textarea</ifx-navbar-item>
      <ifx-navbar-item href="#ifx-tooltip-example">Tooltip</ifx-navbar-item>
      <!-- </AUTO-GENERATED-NAVBAR-ITEMS> -->
      <ifx-navbar-item href="#ifx-modal-example">Modal</ifx-navbar-item>
    </ifx-navbar-item>
   </ifx-navbar>

  <div class="version-info">@infineon/infineon-design-system-vue@{{ declaredVersion.includes('workspace') ? 'workspace' : installedVersion }}</div>

  <div class="components">
    <!-- <AUTO-GENERATED-COMPONENTS> -->
    <section v-if="activeId === 'ifx-accordion-example'" id="ifx-accordion-example" class="component-example">
          <h2>Accordion</h2>
          <div class="demo">
            <IfxAccordionExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-action-list-example'" id="ifx-action-list-example" class="component-example">
          <h2>Action List</h2>
          <div class="demo">
            <IfxActionListExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-alert-example'" id="ifx-alert-example" class="component-example">
          <h2>Alert</h2>
          <div class="demo">
            <IfxAlertExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-ai-label-example'" id="ifx-ai-label-example" class="component-example">
          <h2>AI Label</h2>
          <div class="demo">
            <IfxAiLabelExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-button-example'" id="ifx-button-example" class="component-example">
          <h2>Button</h2>
          <div class="demo">
            <IfxButtonExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-card-example'" id="ifx-card-example" class="component-example">
          <h2>Card</h2>
          <div class="demo">
            <IfxCardExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-checkbox-example'" id="ifx-checkbox-example" class="component-example">
          <h2>Checkbox</h2>
          <div class="demo">
            <IfxCheckboxExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-checkbox-group-example'" id="ifx-checkbox-group-example" class="component-example">
          <h2>Checkbox Group</h2>
          <div class="demo">
            <IfxCheckboxGroupExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-chip-example'" id="ifx-chip-example" class="component-example">
          <h2>Chip</h2>
          <div class="demo">
            <IfxChipExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-content-switcher-example'" id="ifx-content-switcher-example" class="component-example">
          <h2>Content Switcher</h2>
          <div class="demo">
            <IfxContentSwitcherExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-date-picker-example'" id="ifx-date-picker-example" class="component-example">
          <h2>Date Picker</h2>
          <div class="demo">
            <IfxDatePickerExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-dropdown-example'" id="ifx-dropdown-example" class="component-example">
          <h2>Dropdown</h2>
          <div class="demo">
            <IfxDropdownExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-footer-example-medium'" id="ifx-footer-example-medium" class="component-example">
          <h2>Footer - Medium</h2>
          <div class="demo">
            <IfxFooterMediumExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-icon-button-example'" id="ifx-icon-button-example" class="component-example">
          <h2>Icon Button</h2>
          <div class="demo">
            <IfxIconButtonExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-indicator-example'" id="ifx-indicator-example" class="component-example">
          <h2>Indicator</h2>
          <div class="demo">
            <IfxIndicatorExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-link-example'" id="ifx-link-example" class="component-example">
          <h2>Link</h2>
          <div class="demo">
            <IfxLinkExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-navbar-example'" id="ifx-navbar-example" class="component-example">
          <h2>Navigation/Navbar</h2>
          <div class="demo">
            <IfxNavbarExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-sidebar-example'" id="ifx-sidebar-example" class="component-example">
          <h2>Navigation/Sidebar</h2>
          <div class="demo">
            <IfxSidebarExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-notification-example'" id="ifx-notification-example" class="component-example">
          <h2>Notification</h2>
          <div class="demo">
            <IfxNotificationExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-pagination-example'" id="ifx-pagination-example" class="component-example">
          <h2>Pagination</h2>
          <div class="demo">
            <IfxPaginationExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-progress-bar-example'" id="ifx-progress-bar-example" class="component-example">
          <h2>Progress Bar</h2>
          <div class="demo">
            <IfxProgressBarExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-radio-button-example'" id="ifx-radio-button-example" class="component-example">
          <h2>Radio Button</h2>
          <div class="demo">
            <IfxRadioButtonExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-radio-button-group-example'" id="ifx-radio-button-group-example" class="component-example">
          <h2>Radio Button Group</h2>
          <div class="demo">
            <IfxRadioButtonGroupExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-search-bar-example'" id="ifx-search-bar-example" class="component-example">
          <h2>Search Bar</h2>
          <div class="demo">
            <IfxSearchBarExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-search-field-example'" id="ifx-search-field-example" class="component-example">
          <h2>Search Field</h2>
          <div class="demo">
            <IfxSearchFieldExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-segmented-control-example'" id="ifx-segmented-control-example" class="component-example">
          <h2>Segmented Control</h2>
          <div class="demo">
            <IfxSegmentedControlExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-select-example'" id="ifx-select-example" class="component-example">
          <h2>Select/Single Select</h2>
          <div class="demo">
            <IfxSelectExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-spinner-example'" id="ifx-spinner-example" class="component-example">
          <h2>Spinner</h2>
          <div class="demo">
            <IfxSpinnerExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-status-example'" id="ifx-status-example" class="component-example">
          <h2>Status</h2>
          <div class="demo">
            <IfxStatusExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-stepper-example'" id="ifx-stepper-example" class="component-example">
          <h2>Stepper</h2>
          <div class="demo">
            <IfxStepperExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-stepper-example-compact'" id="ifx-stepper-example-compact" class="component-example">
          <h2>Stepper - Compact</h2>
          <div class="demo">
            <IfxStepperCompactExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-switch-example'" id="ifx-switch-example" class="component-example">
          <h2>Switch</h2>
          <div class="demo">
            <IfxSwitchExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-basic-table-example'" id="ifx-basic-table-example" class="component-example">
          <h2>Table (basic)</h2>
          <div class="demo">
            <IfxBasicTableExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-table-example-defaultstate'" id="ifx-table-example-defaultstate" class="component-example">
          <h2>Table (advanced) - DefaultState</h2>
          <div class="demo">
            <IfxTableDefaultStateExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-tabs-example'" id="ifx-tabs-example" class="component-example">
          <h2>Tabs</h2>
          <div class="demo">
            <IfxTabsExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-text-field-example'" id="ifx-text-field-example" class="component-example">
          <h2>Text Field</h2>
          <div class="demo">
            <IfxTextFieldExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-textarea-example'" id="ifx-textarea-example" class="component-example">
          <h2>Textarea</h2>
          <div class="demo">
            <IfxTextareaExample />
          </div>
        </section>

        <section v-if="activeId === 'ifx-tooltip-example'" id="ifx-tooltip-example" class="component-example">
          <h2>Tooltip</h2>
          <div class="demo">
            <IfxTooltipExample />
          </div>
        </section>
    <!-- </AUTO-GENERATED-COMPONENTS> -->

    <!-- Manual examples that require custom logic -->
    <section v-if="activeId === 'ifx-modal-example'"id="ifx-modal-example" class="component-example">
      <h2>Modal (Manual Example)</h2>
      <div class="demo">
        <ModalExample />
      </div>
    </section>
  </div>
</template>

<style>
body {
	background-color: #f7f7f7;
	margin: 0;
  font-family: "Source Sans 3", sans-serif;
}

.version-info {
	background-color: white;
	padding: 8px 16px;
	margin: 0;
	font-size: 14px;
	color: #666;
	font-family: monospace;
}

.components {
	display: flex;
	flex-direction: column;
	gap: 16px;
	padding: 16px;
}

.components > section {
	background-color: #ffffff;
	padding: 12px 20px;
}

h2 {
	margin: 4px 0px 12px 0px;
}

summary {
	cursor: pointer;
	font-weight: bold;
	margin-top: 20px;
}

.code-details {
	margin-top: 16px;
}

.code-details .code-blocks h3 {
	margin: 16px 0 8px 0;
	font-size: 14px;
	font-weight: 600;
	color: #333;
}

.code-details .code-blocks h3:first-child {
	margin-top: 0;
}

.code-blocks {
	margin-top: 12px;
}
</style>
