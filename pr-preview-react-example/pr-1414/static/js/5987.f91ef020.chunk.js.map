{"version":3,"file":"static/js/5987.f91ef020.chunk.js","mappings":"yLAAA,MC8BaA,EAAQ,M,6KACY,e,kBAGA,E,qBAEI,E,qBAGD,E,iDAUO,E,yBACH,E,qCAYtCC,iBAAAA,GAEEC,KAAKC,oBACLD,KAAKE,mBAAmBF,KAAKG,YAAaH,KAAKI,e,CAGjDC,gBAAAA,IACEC,EAAAA,EAAAA,GAAmB,W,CAIrBJ,kBAAAA,CAAmBK,EAAmBC,GAChCD,IAAaC,GAAYD,IAAaP,KAAKI,iBACzCG,EACFP,KAAKS,eAELT,KAAKU,gB,CAMXC,oBAAAA,CAAqBJ,GACfP,KAAKY,UACNZ,KAAKY,QAA6DC,SAAWN,E,CAMlFO,gBAAAA,GACEd,KAAKC,mB,CAMPA,iBAAAA,GAEED,KAAKY,QAAUZ,KAAKe,GAAGC,cAAc,qDACjChB,KAAKY,UACNZ,KAAKY,QAA6DC,SAAWb,KAAKa,SACnFb,KAAKY,QAAQK,oBAAoB,QAASjB,KAAKkB,oBAAoBC,KAAKnB,OACxEA,KAAKY,QAAQQ,iBAAiB,QAASpB,KAAKkB,oBAAoBC,KAAKnB,QAGlEA,KAAKqB,eAURrB,KAAKsB,KAAOtB,KAAKe,GAAGC,cAAc,sBAT9BhB,KAAKsB,MACPtB,KAAKsB,KAAKC,SAGZvB,KAAKsB,KAAOtB,KAAKe,GAAGC,cAAc,qBAGlCQ,SAASC,KAAKC,OAAO1B,KAAKsB,OAK5BtB,KAAKsB,KAAKL,oBAAoB,QAASjB,KAAK2B,iBAAiBR,KAAKnB,OAClEA,KAAKsB,KAAKF,iBAAiB,QAASpB,KAAK2B,iBAAiBR,KAAKnB,M,CAIjE2B,gBAAAA,GACO3B,KAAK4B,oBACR5B,KAAKU,e,CAITQ,mBAAAA,GACOlB,KAAKI,eAGRJ,KAAKU,gBAFLV,KAAKS,c,CAMToB,oBAAAA,GAEM7B,KAAK8B,iBACP9B,KAAK8B,eAAeC,UACpB/B,KAAK8B,eAAiB,MAGpB9B,KAAKsB,MACPtB,KAAKsB,KAAKC,Q,CAKd,YAAMS,GACJ,OAAOhC,KAAKI,c,CAId,mBAAMM,GACAV,KAAKI,iBACPJ,KAAKI,gBAAiB,EAErBJ,KAAKY,QAAiCoB,QAAS,EAC/ChC,KAAKsB,KAA8BU,QAAS,EAE7ChC,KAAKiC,SAASC,QAGZlC,KAAK8B,iBACP9B,KAAK8B,eAAeC,UACpB/B,KAAK8B,eAAiB,K,CAK1B,kBAAMrB,GACCT,KAAKI,gBAAmBJ,KAAKa,WAChCb,KAAKI,gBAAiB,EAErBJ,KAAKY,QAAiCoB,QAAS,EAC/ChC,KAAKsB,KAA8BU,QAAS,EAE7ChC,KAAK8B,gBAAiBK,EAAAA,EAAAA,GACpBnC,KAAKe,GACLf,KAAKsB,KACL,CAAEc,UAAWpC,KAAKoC,YAEpBpC,KAAKqC,QAAQH,O,CAYjBI,kBAAAA,CAAmBC,GACjB,MAAMC,EAASD,EAAMC,OAEhBxC,KAAKyC,uBAA0BzC,KAAKe,GAAG2B,SAASF,IAAYxC,KAAKsB,KAAKoB,SAASF,IAClFxC,KAAKU,e,CAITiC,MAAAA,GACE,OACEC,EAAAA,EAAAA,GAAA,OAAAC,IAAA,wDAAgB,gBAAgBC,MAAM,aACpCF,EAAAA,EAAAA,GAAA,QAAAC,IAAA,6C,2IDlNY,6B","sources":["../node_modules/@infineon/infineon-design-system-stencil/dist/esm/src/components/dropdown/dropdown.scss?tag=ifx-dropdown&encapsulation=shadow","../node_modules/@infineon/infineon-design-system-stencil/dist/esm/src/components/dropdown/dropdown.tsx"],"sourcesContent":["@use \"~@infineon/design-system-tokens/dist/tokens\";\n\n:host {\n    display: inline-block;\n}","//dropdown.tsx\nimport { Component, Prop, h, Element, Listen, Method, Watch, State, EventEmitter, Event } from \"@stencil/core\";\nimport { createPopper } from '@popperjs/core';\nimport { trackComponentView } from '../../global/utils/tracking';\n\nimport { IOpenable } from './IOpenable';\n\nexport type Placement =\n  | 'auto'\n  | 'auto-start'\n  | 'auto-end'\n  | 'top'\n  | 'top-start'\n  | 'top-end'\n  | 'bottom'\n  | 'bottom-start'\n  | 'bottom-end'\n  | 'right'\n  | 'right-start'\n  | 'right-end'\n  | 'left'\n  | 'left-start'\n  | 'left-end';\n\n@Component({\n  tag: 'ifx-dropdown',\n  styleUrl: 'dropdown.scss',\n  shadow: true\n})\n\nexport class Dropdown {\n  @Prop() placement: Placement = 'bottom-start';\n\n  // isOpen prop\n  @Prop() defaultOpen: boolean = false;\n  // internal state for isOpen prop\n  @State() internalIsOpen: boolean = false;\n\n  // isOpen prop\n  @Prop() noAppendToBody: boolean = false;\n\n  // Custom events for opening and closing dropdown\n  @Event() ifxOpen: EventEmitter;\n  @Event() ifxClose: EventEmitter;\n  @Event() ifxDropdown: EventEmitter;\n\n  // determine if dropdown is disabled\n  @Prop() disabled: boolean;\n\n  @Prop() noCloseOnOutsideClick: boolean = false;\n  @Prop() noCloseOnMenuClick: boolean = false;\n\n  // Reference to host element\n  @Element() el;\n  // Dropdown trigger and menu\n  @State() trigger: HTMLElement;\n  @State() menu: HTMLElement\n  // Popper instance for positioning\n  popperInstance: any;\n\n\n\n  componentWillLoad() {\n    //maybe not needed\n    this.updateSlotContent();\n    this.watchHandlerIsOpen(this.defaultOpen, this.internalIsOpen);\n  }\n\n  componentDidLoad() {\n    trackComponentView('Dropdown');\n  }\n\n  @Watch('defaultOpen')\n  watchHandlerIsOpen(newValue: boolean, oldValue: boolean) {\n    if (newValue !== oldValue && newValue !== this.internalIsOpen) {\n      if (newValue) {\n        this.openDropdown();\n      } else {\n        this.closeDropdown();\n      }\n    }\n  }\n\n  @Watch('disabled')\n  watchHandlerDisabled(newValue: boolean) {\n    if (this.trigger) {\n      (this.trigger as undefined as HTMLIfxDropdownTriggerButtonElement).disabled = newValue;\n    }\n  }\n\n\n  @Listen('slotchange')\n  watchHandlerSlot() {\n    this.updateSlotContent();\n  }\n\n\n\n  // handling assignment of trigger and menu\n  updateSlotContent() {\n    // Get dropdown trigger. name has to start with ifx-dropdown-trigger\n    this.trigger = this.el.querySelector('ifx-dropdown-trigger-button, ifx-dropdown-trigger');\n    if (this.trigger) {\n      (this.trigger as undefined as HTMLIfxDropdownTriggerButtonElement).disabled = this.disabled;\n      this.trigger.removeEventListener('click', this.triggerClickHandler.bind(this));\n      this.trigger.addEventListener('click', this.triggerClickHandler.bind(this));\n    }\n    // Remove menu if exists from body\n    if (!this.noAppendToBody) {\n      if (this.menu) {\n        this.menu.remove();\n      }\n      // Get new menu and add to body\n      this.menu = this.el.querySelector('ifx-dropdown-menu');\n\n      // event handler for closing dropdown on menu click\n      document.body.append(this.menu);\n    } else {\n      this.menu = this.el.querySelector('ifx-dropdown-menu');\n\n    }\n    this.menu.removeEventListener('click', this.menuClickHandler.bind(this));\n    this.menu.addEventListener('click', this.menuClickHandler.bind(this));\n\n  }\n\n  menuClickHandler() {\n    if (!this.noCloseOnMenuClick) {\n      this.closeDropdown();\n    }\n  }\n\n  triggerClickHandler() {\n    if (!this.internalIsOpen) {\n      this.openDropdown();\n    } else {\n      this.closeDropdown();\n    }\n  }\n\n  disconnectedCallback() {\n    // Destroy popper instance if exists\n    if (this.popperInstance) {\n      this.popperInstance.destroy();\n      this.popperInstance = null;\n    }\n    // Remove menu if exists\n    if (this.menu) {\n      this.menu.remove();\n    }\n  }\n\n  @Method()\n  async isOpen() {\n    return this.internalIsOpen;\n  }\n\n  @Method()\n  async closeDropdown() {\n    if (this.internalIsOpen) {\n      this.internalIsOpen = false;\n      // sets isOpen prop on trigger and menu\n      (this.trigger as unknown as IOpenable).isOpen = false;\n      (this.menu as unknown as IOpenable).isOpen = false;\n      // Emit close event\n      this.ifxClose.emit();\n    }\n    // Destroy popper instance if exists\n    if (this.popperInstance) {\n      this.popperInstance.destroy();\n      this.popperInstance = null;\n    }\n  }\n\n  @Method()\n  async openDropdown() {\n    if (!this.internalIsOpen && !this.disabled) {\n      this.internalIsOpen = true;\n      // sets isOpen prop on trigger and menu\n      (this.trigger as unknown as IOpenable).isOpen = true;\n      (this.menu as unknown as IOpenable).isOpen = true;\n      // Create popper instance for positioning\n      this.popperInstance = createPopper(\n        this.el,\n        this.menu,\n        { placement: this.placement });\n\n      this.ifxOpen.emit();\n    }\n  }\n\n  //emitted by and listening to it from the dropdown menu right now\n  // @Listen('ifxDropdownMenu')\n  // handleDropdownMenuEvents(event: CustomEvent) {\n  //   this.ifxDropdown.emit(event.detail)\n  //   console.log('Selected item received in higher-level parent:');\n  // }\n\n  @Listen('mousedown', { target: 'document' })\n  handleOutsideClick(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n    // Close dropdown if outside click\n    if (!this.noCloseOnOutsideClick && !this.el.contains(target) && !this.menu.contains(target)) {\n      this.closeDropdown();\n    }\n  }\n\n  render() {\n    return (\n      <div aria-label='dropdown menu' class='dropdown'>\n        <slot />\n      </div>\n    )\n  }\n}"],"names":["Dropdown","componentWillLoad","this","updateSlotContent","watchHandlerIsOpen","defaultOpen","internalIsOpen","componentDidLoad","trackComponentView","newValue","oldValue","openDropdown","closeDropdown","watchHandlerDisabled","trigger","disabled","watchHandlerSlot","el","querySelector","removeEventListener","triggerClickHandler","bind","addEventListener","noAppendToBody","menu","remove","document","body","append","menuClickHandler","noCloseOnMenuClick","disconnectedCallback","popperInstance","destroy","isOpen","ifxClose","emit","createPopper","placement","ifxOpen","handleOutsideClick","event","target","noCloseOnOutsideClick","contains","render","h","key","class"],"sourceRoot":""}