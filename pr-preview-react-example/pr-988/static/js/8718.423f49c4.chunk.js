"use strict";(self.webpackChunkreact_javascript=self.webpackChunkreact_javascript||[]).push([[8718],{8718:(e,t,s)=>{s.r(t),s.d(t,{ifx_list:()=>h});var i=s(7770);const h=class{constructor(e){(0,i.r)(this,e),this.ifxListUpdate=(0,i.c)(this,"ifxListUpdate",7),this.toggleList=e=>{e.stopPropagation(),this.expanded=!this.expanded},this.toggleShowMore=e=>{e.stopPropagation(),this.showMore=!this.showMore},this.handleCheckedChange=e=>{if(e&&"radio-button"===e.detail.type&&e.detail.value){Array.from(this.el.querySelectorAll("ifx-list-entry")).filter((t=>"radio-button"===t.getAttribute("type")&&t!==e.target)).forEach((e=>e.setAttribute("value","false")))}const t=this.getSelectedItems(this.el);this.selectedCount=t.length,this.ifxListUpdate.emit({name:this.name,selectedItems:t})},this.expanded=!1,this.showMore=!1,this.selectedCount=0,this.totalItems=0,this.name="",this.maxVisibleItems=6,this.type="checkbox"}handleTypeChange(e){Array.from(this.el.querySelectorAll("ifx-list-entry")).forEach((t=>t.setAttribute("type",e)))}componentWillLoad(){if(this.el.addEventListener("ifxListEntryChange",this.handleCheckedChange),this.selectedCount=this.getSelectedItems(this.el).length,this.totalItems=this.getTotalItems(),this.handleTypeChange(this.type),"radio-button"===this.type&&this.selectedCount>1){this.getSelectedItems(this.el).slice(1).forEach((e=>e.element.setAttribute("value","false"))),this.selectedCount=this.getSelectedItems(this.el).length}this.observer=new MutationObserver((()=>{const e=this.getTotalItems();e!==this.totalItems&&(this.totalItems=e,this.handleCheckedChange()),this.handleTypeChange(this.type)})),this.observer.observe(this.el,{childList:!0})}disconnectedCallback(){this.el.removeEventListener("ifxListEntryChange",this.handleCheckedChange),this.observer.disconnect()}getTotalItems(){return this.el.querySelectorAll("ifx-list-entry").length}getSelectedItems(e){return Array.from(e.querySelectorAll("ifx-list-entry")).filter((e=>"true"===e.getAttribute("value"))).map((e=>({label:e.getAttribute("label"),value:e.getAttribute("value"),type:e.getAttribute("type"),element:e})))}render(){const e=Array.from(this.el.querySelectorAll("ifx-list-entry")),t=this.showMore?e:e.slice(0,this.maxVisibleItems),s=e.length-t.length;return(0,i.h)("div",{key:"88f1b0961d8701777b40de6b8dd70b98deb4ebd3",class:"list-wrapper"},t.map((e=>(0,i.h)("slot",{name:e.getAttribute("slot")}))),(s>0||this.showMore)&&(0,i.h)("div",{class:"link-wrapper",onClick:this.toggleShowMore},(0,i.h)("ifx-icon",{key:this.showMore.toString(),icon:this.showMore?"chevron-up-12":"chevron-down-12"}),(0,i.h)("ifx-link",{size:"s",href:"",target:"_blank",variant:"underlined",disabled:!1},this.showMore?"Show less":"Show ".concat(s," more"))))}get el(){return(0,i.g)(this)}static get watchers(){return{type:["handleTypeChange"]}}};h.style=".link-wrapper{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:8px}"}}]);
//# sourceMappingURL=8718.423f49c4.chunk.js.map