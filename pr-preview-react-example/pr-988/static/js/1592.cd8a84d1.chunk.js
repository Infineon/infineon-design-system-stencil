"use strict";(self.webpackChunkreact_javascript=self.webpackChunkreact_javascript||[]).push([[1592],{1592:(e,t,i)=>{i.r(t),i.d(t,{ifx_filter_bar:()=>s});var l=i(64);const s=class{constructor(e){(0,l.r)(this,e),this.ifxTopbarFilterChange=(0,l.c)(this,"ifxTopbarFilterChange",7),this.handleMoreFiltersClick=()=>{this.showAllFilters=!0,this.updateVisibleSlots()},this.handleResetEvent=()=>{var e;const t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelector('slot[name="filter-search"]');if(t instanceof HTMLSlotElement){t.assignedElements({flatten:!0}).forEach((e=>{const t=e.querySelector("ifx-filter-search").shadowRoot.querySelectorAll("ifx-search-field");t.length>0&&t.forEach((e=>{e.value=""}))}))}this.selectedOptions=[],this.ifxTopbarFilterChange.emit(this.selectedOptions)},this.handleSearchChange=e=>{this.handleTopbarFilterChange(e)},this.handleFilterSelect=e=>{this.handleTopbarFilterChange(e)},this.handleTopbarFilterChange=e=>{const t=[...this.selectedOptions];if("ifxFilterSearchChange"===e.type){const{filterName:i,filterValue:l}=e.detail,s=t.findIndex((e=>e.filterName===i));-1!==s?t[s].filterValues=[l]:t.push({filterName:i,filterValues:[l],type:"text"})}else if("ifxFilterSelect"===e.type){const{filterName:i,filterValues:l,type:s}=e.detail,a=t.findIndex((e=>e.filterName===i));-1!==a?(t[a].filterValues=l,t[a].type=s):t.push({filterName:i,filterValues:l,type:s})}this.selectedOptions=t,this.ifxTopbarFilterChange.emit(this.selectedOptions)},this.selectedOptions=[],this.showAllFilters=!1,this.maxShownFilters=4,this.visibleSlots=void 0,this.showMoreFiltersButton=!0}connectedCallback(){this.el.addEventListener("ifxFilterSelect",this.handleTopbarFilterChange),this.el.addEventListener("ifxFilterSearchChange",this.handleSearchChange),window.addEventListener("ifxResetFiltersEvent",this.handleResetEvent)}componentWillUnload(){this.el.removeEventListener("ifxFilterSelect",this.handleTopbarFilterChange),this.el.removeEventListener("ifxFilterSearchChange",this.handleSearchChange),window.removeEventListener("ifxResetFiltersEvent",this.handleResetEvent)}componentDidLoad(){this.updateVisibleSlots()}updateVisibleSlots(){this.visibleSlots=this.showAllFilters?Number.MAX_SAFE_INTEGER:this.maxShownFilters}render(){const e=Math.max(0,this.visibleSlots),t=this.el.querySelectorAll("ifx-set-filter").length,i=Math.min(e,t,Number.MAX_SAFE_INTEGER),s=Array.from({length:i},((e,t)=>(0,l.h)("div",{key:"760b01e1c711b72655cc0ce81b5d23a7ea7b8822",class:"filter-slot-wrapper"},(0,l.h)("slot",{key:"81af1b8c7b8f3f8d26a9f987b364538478075d98",name:`filter-component-${t+1}`}))));return(0,l.h)(l.a,{key:"f8fd23040a2fea030ff0e981a425148f6fdcc86c"},(0,l.h)("div",{key:"671f7bb2f44a8cbb1e320300bea062e2fcc25697",class:"search-container"},(0,l.h)("slot",{key:"9c070cb7bb2487b7db9b764b52aac1e6e4fd61f1",name:"filter-search"})," "),(0,l.h)("div",{key:"5bca687289a8aee3cc8e70f7471a8363b5d2e654",class:"components-container"},s.length>0?s:(0,l.h)("slot",{name:"filter-component"}),this.showMoreFiltersButton&&!this.showAllFilters&&(0,l.h)("div",{class:"more-filters-wrapper",onClick:this.handleMoreFiltersClick},(0,l.h)("ifx-button",{type:"button",disabled:!1,variant:"tertiary",size:"m",target:"_blank",theme:"default","full-width":"false"},(0,l.h)("ifx-icon",{icon:"filter-16"}),"More filters"))))}get el(){return(0,l.g)(this)}};s.style=":host{display:block;width:100%}.search-container{display:flex;width:calc(100% - 48px);padding-left:24px;padding-right:24px;flex-direction:row;align-items:flex-start;margin-bottom:16px}.components-container{display:flex;width:calc(100% - 48px);padding-left:24px;padding-right:24px;flex-direction:row;align-items:flex-end;align-content:flex-end;flex-wrap:wrap;gap:16px}.filter-slot-wrapper{flex-grow:1;flex-basis:100%;max-width:100%}@media (max-width: 1024px){.more-filters-wrapper{order:3;width:100%;display:flex;justify-content:center;padding-top:16px;}}@media (min-width: 720px) and (max-width: 1024px){.filter-slot-wrapper{flex-basis:calc((100% - 16px) / 2);max-width:calc((100% - 16px) / 2)}}@media (min-width: 1025px){.filter-slot-wrapper{flex-basis:auto;max-width:200px}::slotted([slot=filter-search]){max-width:828px}}::slotted([slot=filter-search]){flex-grow:1;flex-basis:100%;width:100%}"}}]);
//# sourceMappingURL=1592.cd8a84d1.chunk.js.map