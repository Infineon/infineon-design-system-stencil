import { Meta, Primary, Controls, Canvas, Story } from '@storybook/blocks';
import * as SearchFieldStories from './search-field.stories';
 
<Meta of={SearchFieldStories} />

# Search field

<Canvas of={SearchFieldStories.Default} sourceState="shown" />

## Props

<Controls />

## Search Suggestions & History

The search-field component offers the possibility to custom add search suggestions and history. 
The suggestions property is configured to accept an array of objects, each representing a search suggestion.

Below is an example of usage in vanilla JavaScript:

 ```js
  window.addEventListener('load', () => { 
    const myfield = document.getElementById('my-search-field');
    myfield.suggestions = [{ id: 's1', text: 'Berlin is the capital of Germany', type: 'suggestion'}, { id: 's2', text: 'Paris is the capital of France', type: 'history'}]
  })

  <ifx-search-field id="my-search-field" show-delete-icon="false" show-suggestions="true" enable-history="true" max-suggestions="10" max-history-items="5" history-key="ifx-search-history" history-header-text="Recent Searches"></ifx-search-field>
```

Note: Because the suggestions prop is defined as type JS array, it cannot accept string or JSON as proper values.


## Events
See the examples below for general usage of events in different JS frameworks.
For more information, please refer to our example applications.

<b>Angular</b>

```js
//app.component.js
handleSearchField(event: any) {
  console.log("searchField value change: ", event.detail)
}
//app.component.html
<ifx-search-field size="m" disabled="false" show-delete-icon="true" (ifxInput)="handleSearchField($event)"></ifx-search-field>
```

<b>React</b>

```js
//MyComponent.js
const handleSearch = (event) => {
  console.log("handling input: ", event.detail)
};
...
<IfxSearchField disabled="false" size='m' show-delete-icon="true" onIfxInput={handleSearch}></IfxSearchField>
```

<b>Vanilla</b>

```js
//index.html
const searchField = document.querySelector('#search-field');
searchField.addEventListener('ifxInput', (event) => {
  console.log("search field value", event.detail);
});
<ifx-search-field id="search-field" size="m" disabled="false" show-delete-icon="true"></ifx-search-field>
```
