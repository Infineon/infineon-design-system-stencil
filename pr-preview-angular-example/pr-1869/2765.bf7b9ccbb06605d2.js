"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[2765],{2765:(I,x,c)=>{c.r(x),c.d(x,{ifx_tree_view_item:()=>k});var u=c(6330),a=c(259);const k=(()=>{let v=class{constructor(t){(0,a.r)(this,t),this.ifxTreeViewItemExpandChange=(0,a.c)(this,"ifxTreeViewItemExpandChange",7),this.ifxTreeViewItemCheckChange=(0,a.c)(this,"ifxTreeViewItemCheckChange",7),this.ifxTreeViewItemDisableChange=(0,a.c)(this,"ifxTreeViewItemDisableChange",7),this.expanded=!1,this.initiallyExpanded=!1,this.disableItem=!1,this.hasChildren=!1,this.isChecked=!1,this.partialChecked=!1,this.level=0,this.disableAllItems=!1,this.expandAllItems=!1,this.findChildren=()=>Array.from(this.host.children).filter(e=>e instanceof HTMLElement&&"IFX-TREE-VIEW-ITEM"===e.tagName),this.calculateNodeLevel=()=>{let e=0,i=this.host.parentElement;for(;i;)"IFX-TREE-VIEW-ITEM"===i.tagName&&e++,i=i.parentElement;return e},this.handleStateChange=e=>{this.disabled||(e.stopPropagation(),this.updateCheckState(e.detail.checked))},this.handleCheckboxChange=e=>{var i,n;this.disabled||this.updateCheckState(null!==(n=null===(i=e.detail)||void 0===i?void 0:i.checked)&&void 0!==n?n:!this.isChecked)},this.handleHeaderClick=({target:e})=>{this.disabled||e.closest(".tree-item__checkbox-container, .tree-item__chevron-container")||this.updateCheckState(!this.isChecked)},this.toggleExpand=()=>{this.disabled||this.hasChildren&&(this.expanded=!this.expanded)},this.handleKeyDown=e=>{var i,n,l,r,d,o;const p=Array.from((null===(i=this.host.closest("ifx-tree-view"))||void 0===i?void 0:i.querySelectorAll("ifx-tree-view-item"))||[]).filter(s=>{var h,_;let f=null===(h=s.parentElement)||void 0===h?void 0:h.closest("ifx-tree-view-item");for(;f;){if(!f.expandAllItems&&!f.expanded)return!1;f=null===(_=f.parentElement)||void 0===_?void 0:_.closest("ifx-tree-view-item")}return!0}),C=p.findIndex(s=>s===this.host);function m(s){s?.focus()}switch(e.key){case"ArrowDown":{e.preventDefault();let s=C+1;for(;s<p.length;){const h=p[s];if(!h.disabled){m(null===(n=h.shadowRoot)||void 0===n?void 0:n.querySelector(".tree-item__label-icon-container"));break}s++}break}case"ArrowUp":{e.preventDefault();let s=C-1;for(;s>=0;){const h=p[s];if(!h.disabled){m(null===(l=h.shadowRoot)||void 0===l?void 0:l.querySelector(".tree-item__label-icon-container"));break}s--}break}case"ArrowRight":if(e.preventDefault(),!this.isExpanded&&this.hasChildren)this.expanded=!0;else if(this.isExpanded&&this.hasChildren){const s=this.host.querySelector("ifx-tree-view-item");s&&!s.disabled&&m(null===(r=s.shadowRoot)||void 0===r?void 0:r.querySelector(".tree-item__label-icon-container"))}break;case"ArrowLeft":if(e.preventDefault(),this.isExpanded&&this.hasChildren)this.expanded=!1;else{const s=null===(d=this.host.parentElement)||void 0===d?void 0:d.closest("ifx-tree-view-item");s&&!s.disabled&&m(null===(o=s.shadowRoot)||void 0===o?void 0:o.querySelector(".tree-item__label-icon-container"))}break;case" ":case"Enter":e.preventDefault(),this.updateCheckState(!this.isChecked)}}}get disabled(){return this.disableAllItems||this.disableItem}get isExpanded(){return this.expandAllItems||this.expanded}componentWillLoad(){this.initializeNode(),this.setupEventListeners()}componentDidLoad(){this.observeDisableAllItems(),this.observeExpandAllItems(),this.shouldExpandFromParent()&&this.expandAllDescendants(),this.host.__stencil_instance=this}shouldExpandFromParent(){let t=this.host.parentElement;for(;t;){if("IFX-TREE-VIEW"===t.tagName&&(t.hasAttribute("expand-all-items")||t.hasAttribute("data-expand-all-items")))return!0;t=t.parentElement}return!1}expandAllDescendants(){this.expanded=!0;const t=this.findChildren();for(const e of t)typeof e.expanded<"u"&&(e.expanded=!0),"function"==typeof e.expandAllDescendants&&e.expandAllDescendants()}observeDisableAllItems(){let t=this.host.parentElement;for(;t;){if("IFX-TREE-VIEW"===t.tagName){new MutationObserver(n=>{for(const l of n)"attributes"===l.type&&"disable-all-items"===l.attributeName&&(this.disableAllItems=!!t.disableAllItems||t.hasAttribute("disable-all-items"))}).observe(t,{attributes:!0}),this.disableAllItems=!!t.disableAllItems||t.hasAttribute("disable-all-items");break}t=t.parentElement}}observeExpandAllItems(){let t=this.host.parentElement;for(;t;){if("IFX-TREE-VIEW"===t.tagName||t.hasAttribute("data-expand-all-items")){new MutationObserver(i=>{for(const n of i)"attributes"===n.type&&"data-expand-all-items"===n.attributeName&&(this.expandAllItems=t.hasAttribute("data-expand-all-items"))}).observe(t,{attributes:!0}),this.expandAllItems=t.hasAttribute("data-expand-all-items");break}t=t.parentElement}}initializeNode(){this.expanded=this.initiallyExpanded,this.hasChildren=this.findChildren().length>0,this.level=this.calculateNodeLevel(),this.host.setAttribute("data-level",this.level.toString())}setupEventListeners(){this.host.addEventListener("internal-check-state-change",this.handleStateChange)}updateCheckState(t){var e=this;return(0,u.A)(function*(i,n=!1){if(!e.disabled)if(!n&&e.hasChildren){const l=e.collectDescendantStates(i);e.setNodeState({isChecked:i,partialChecked:!1},!1),yield e.updateChildrenSilently(i),e.ifxTreeViewItemCheckChange.emit({checked:i,indeterminate:!1,affectedChildItems:l}),e.updateParentState()}else n?e.setNodeState({isChecked:i,partialChecked:!1},!1):(e.setNodeState({isChecked:i,partialChecked:!1}),yield e.updateChildrenState(i),e.updateParentState())}).apply(this,arguments)}updateChildrenSilently(t){var e=this;return(0,u.A)(function*(){const i=e.findChildren();for(const n of i){const l=n.__stencil_instance;l&&(l.setNodeState({isChecked:t,partialChecked:!1},!1),yield l.updateChildrenSilently(t))}})()}handleExpandedChange(t){this.ifxTreeViewItemExpandChange.emit(t)}handleDisableItemChange(t){this.ifxTreeViewItemDisableChange.emit(t)}setNodeState(t,e=!0){this.isChecked=t.isChecked,this.partialChecked=t.partialChecked,e&&this.ifxTreeViewItemCheckChange.emit({checked:this.isChecked,indeterminate:this.partialChecked})}collectDescendantStates(t){const e=[],i=n=>{var l,r;let d=null;n===this.host?d=this:n.__stencil_instance&&(d=n.__stencil_instance);const o=null!==(r=null!==(l=d?.label)&&void 0!==l?l:n.label)&&void 0!==r?r:"";e.push({label:o,checked:t,indeterminate:!1}),Array.from(n.children).forEach(b=>{"IFX-TREE-VIEW-ITEM"===b.tagName&&i(b)})};return i(this.host),e}updateChildrenState(t){var e=this;return(0,u.A)(function*(){const i=e.findChildren();for(const n of i)yield n.componentOnReady(),n.dispatchEvent(new CustomEvent("internal-check-state-change",{detail:{checked:t},bubbles:!1,composed:!0}))})()}findSiblingNodes(t){const e=t.parentElement;return e?Array.from(e.querySelectorAll("ifx-tree-view-item")).map(i=>i):[]}updateParentState(){var t;const e=null===(t=this.host.parentElement)||void 0===t?void 0:t.closest("ifx-tree-view-item");e&&e.componentOnReady().then(i=>{const n=i;if(!n?.updateParentState)return;const l=this.findSiblingNodes(e),r=this.calculateSiblingStates(l);n.setNodeState({isChecked:r.allChecked,partialChecked:!r.allChecked&&r.someChecked}),n.updateParentState()})}calculateSiblingStates(t){return{allChecked:t.every(e=>e.isChecked),someChecked:t.some(e=>e.isChecked||e.partialChecked)}}render(){return(0,a.h)("div",{key:"a626535eaa7807016da9b015daecc1c4ecba4283",class:{"tree-item":!0,"tree-item--expanded":this.isExpanded,"tree-item--has-children":this.hasChildren,"tree-item--disabled":this.disabled},role:"treeitem","aria-expanded":this.isExpanded?"true":"false","data-level":this.level,"aria-disabled":this.disabled?"true":void 0,"aria-label":this.ariaLabel},(0,a.h)("div",{key:"e6e9bf260e0c1f5584826189ae44de0abbeed4e0",class:"tree-item__content"},this.renderCheckbox(),this.renderHeader()),this.isExpanded&&(0,a.h)("div",{key:"e24cad37fc29633023d9e2b7216c2281056fc76e",class:"tree-item__children"},(0,a.h)("slot",{key:"65d7afa55a28667bed348cafd784636256cd23d5"})))}renderHeader(){return(0,a.h)("div",{class:"tree-item__header",style:{paddingLeft:24*this.level+10+"px"},onClick:this.handleHeaderClick,tabIndex:-1,"aria-disabled":this.disabled?"true":void 0},this.renderControls())}renderCheckbox(){return(0,a.h)("div",{class:"tree-item__checkbox-container",onClick:t=>t.stopPropagation()},(0,a.h)("ifx-checkbox",{size:"s",checked:this.isChecked,indeterminate:this.partialChecked,onIfxChange:this.handleCheckboxChange,disabled:this.disabled}))}renderControls(){return[this.hasChildren&&(0,a.h)("div",{class:"tree-item__chevron-container",onClick:this.toggleExpand},(0,a.h)("ifx-icon",{class:"tree-item__chevron "+(this.isExpanded?"chevron-down":"chevron-right"),icon:"chevron-right-16"}),(0,a.h)("div",{class:"tree-item__line"})),(0,a.h)("div",{class:"tree-item__label-icon-container",tabIndex:this.disabled?-1:0,onKeyDown:this.handleKeyDown},(0,a.h)("div",{class:"tree-item__icon-container"},this.hasChildren?(0,a.h)(a.F,null,(0,a.h)("ifx-icon",{class:{"icon--hidden":this.isExpanded},icon:"folder-16"}),(0,a.h)("ifx-icon",{class:{"icon--hidden":!this.isExpanded},icon:"folder-open-16"})):(0,a.h)("ifx-icon",{icon:"file-16"})),(0,a.h)("span",{class:"tree-item__label"},this.label))]}get host(){return(0,a.g)(this)}static get watchers(){return{expanded:["handleExpandedChange"],disableItem:["handleDisableItemChange"]}}};return v.style='.tree-item{position:relative;cursor:pointer;list-style:none}.tree-item.tree-item--expanded{position:relative}.tree-item.tree-item--has-children{position:relative}.tree-item.tree-item--has-children .tree-item__header>.tree-item__chevron-container{display:flex}.tree-item.tree-item--has-children.tree-item--expanded .tree-item__header>.tree-item__chevron-container::after{display:block}.tree-item--disabled{cursor:not-allowed;pointer-events:none;color:#BFBBBB}.tree-item__content{display:flex;flex-direction:row}.tree-item__content:hover .tree-item__checkbox-container,.tree-item__content:hover .tree-item__header{background-color:#F7F7F7}.tree-item__checkbox-container{position:sticky;left:0;z-index:10;padding:4px;background-color:#FFFFFF}.tree-item__header{flex-grow:1;display:flex;align-items:center;white-space:nowrap;height:20px;padding-top:4px;padding-right:16px;padding-bottom:4px;padding-left:8px}.tree-item__chevron-container{display:none;align-items:center;margin-right:8px;height:20px}.tree-item__chevron-container::after{--height-line-start:28px;display:none;content:"";position:absolute;z-index:1;top:var(--height-line-start);left:auto;margin-left:8px;width:1px;height:calc(100% - var(--height-line-start));background-color:#EEEDED}.tree-item--disabled .tree-item__chevron-container::after{color:#EEEDED}.tree-item__chevron.chevron-down{transform:rotate(90deg)}.tree-item__chevron.chevron-right{transform:rotate(0)}.tree-item__label-icon-container{display:flex;align-items:center}.tree-item__label-icon-container:focus{outline:none}.tree-item__label-icon-container:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.tree-item__icon-container{position:relative;width:16px;height:16px}.tree-item__icon-container ifx-icon{position:absolute;left:0;top:0;opacity:1;transition:opacity 0.2s ease-in-out}.tree-item__icon-container ifx-icon.icon--hidden{opacity:0}.tree-item__label{padding-left:8px}.tree-item__children{display:none}.tree-item[aria-expanded=true]>.tree-item__children{display:block}',v})()}}]);