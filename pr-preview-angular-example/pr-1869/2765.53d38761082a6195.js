"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[2765],{2765:(g,_,o)=>{o.r(_),o.d(_,{ifx_tree_view_item:()=>E});var m=o(6330),n=o(259);const E=(()=>{let x=class{constructor(t){(0,n.r)(this,t),this.ifxTreeViewItemExpandChange=(0,n.c)(this,"ifxTreeViewItemExpandChange",7),this.ifxTreeViewItemCheckChange=(0,n.c)(this,"ifxTreeViewItemCheckChange",7),this.ifxTreeViewItemDisableChange=(0,n.c)(this,"ifxTreeViewItemDisableChange",7),this.expanded=!1,this.initiallyExpanded=!1,this.disableItem=!1,this.initiallySelected=!1,this.hasChildren=!1,this.isChecked=!1,this.partialChecked=!1,this.level=0,this.disableAllItems=!1,this.expandAllItems=!1,this.suppressExpandEvents=!1,this.findChildren=()=>Array.from(this.host.children).filter(e=>e instanceof HTMLElement&&"IFX-TREE-VIEW-ITEM"===e.tagName),this.calculateNodeLevel=()=>{let e=0,i=this.host.parentElement;for(;i;)"IFX-TREE-VIEW-ITEM"===i.tagName&&e++,i=i.parentElement;return e},this.handleStateChange=e=>{this.disabled||(e.stopPropagation(),this.updateCheckState(e.detail.checked))},this.handleCheckboxChange=e=>{var i,a;this.disabled||this.updateCheckState(null!==(a=null===(i=e.detail)||void 0===i?void 0:i.checked)&&void 0!==a?a:!this.isChecked)},this.handleHeaderClick=({target:e})=>{if(!this.disabled&&!e.closest(".tree-item__checkbox-container, .tree-item__chevron-container"))if(this.hasChildren){const i=!this.isChecked;this.updateCheckState(i);const a=this.expandOrCollapseAllDescendants(!!i);this.ifxTreeViewItemExpandChange.emit({expanded:i,affectedItems:a})}else this.updateCheckState(!this.isChecked)},this.toggleExpand=()=>{this.disabled||!this.hasChildren||(this.expanded=!this.expanded)},this.handleKeyDown=e=>{var i,a,l,d,h,b;const c=Array.from((null===(i=this.host.closest("ifx-tree-view"))||void 0===i?void 0:i.querySelectorAll("ifx-tree-view-item"))||[]).filter(s=>{var r,u;let p=null===(r=s.parentElement)||void 0===r?void 0:r.closest("ifx-tree-view-item");for(;p;){if(!p.expandAllItems&&!p.expanded)return!1;p=null===(u=p.parentElement)||void 0===u?void 0:u.closest("ifx-tree-view-item")}return!0}),C=c.findIndex(s=>s===this.host),f=s=>s?.focus();switch(e.key){case"ArrowDown":e.preventDefault();for(let s=C+1;s<c.length;s++){const r=c[s];if(!r.disabled){f(null===(a=r.shadowRoot)||void 0===a?void 0:a.querySelector(".tree-item__label-icon-container"));break}}break;case"ArrowUp":e.preventDefault();for(let s=C-1;s>=0;s--){const r=c[s];if(!r.disabled){f(null===(l=r.shadowRoot)||void 0===l?void 0:l.querySelector(".tree-item__label-icon-container"));break}}break;case"ArrowRight":if(e.preventDefault(),!this.isExpanded&&this.hasChildren)this.expanded=!0;else if(this.isExpanded&&this.hasChildren){const s=this.host.querySelector("ifx-tree-view-item");s&&!s.disabled&&f(null===(d=s.shadowRoot)||void 0===d?void 0:d.querySelector(".tree-item__label-icon-container"))}break;case"ArrowLeft":if(e.preventDefault(),this.isExpanded&&this.hasChildren)this.expanded=!1;else{const s=null===(h=this.host.parentElement)||void 0===h?void 0:h.closest("ifx-tree-view-item");s&&!s.disabled&&f(null===(b=s.shadowRoot)||void 0===b?void 0:b.querySelector(".tree-item__label-icon-container"))}break;case" ":case"Enter":if(e.preventDefault(),this.hasChildren){const s=!this.isChecked;this.updateCheckState(s);const r=this.expandOrCollapseAllDescendants(!!s);this.ifxTreeViewItemExpandChange.emit({expanded:s,affectedItems:r})}else this.updateCheckState(!this.isChecked)}}}get disabled(){return this.disableAllItems||this.disableItem}get isExpanded(){return this.expandAllItems||this.expanded}componentWillLoad(){this.expanded=this.initiallyExpanded,this.hasChildren=this.findChildren().length>0,this.level=this.calculateNodeLevel(),this.host.setAttribute("data-level",this.level.toString()),this.isChecked=this.initiallySelected,this.host.addEventListener("internal-check-state-change",this.handleStateChange)}componentDidLoad(){this.observeParentAttribute("disable-all-items",t=>this.disableAllItems=t),this.observeParentAttribute("data-expand-all-items",t=>this.expandAllItems=t,!0),this.shouldExpandFromParent()&&this.expandAllDescendants(),this.host.__stencil_instance=this,this.initiallySelected&&setTimeout(()=>this.updateParentState(),0)}observeParentAttribute(t,e,i=!1){let a=this.host.parentElement;for(;a;){if("IFX-TREE-VIEW"===a.tagName||i&&a.hasAttribute(t)){new MutationObserver(()=>e(a.hasAttribute(t))).observe(a,{attributes:!0}),e(a.hasAttribute(t));break}a=a.parentElement}}shouldExpandFromParent(){let t=this.host.parentElement;for(;t;){if("IFX-TREE-VIEW"===t.tagName&&(t.hasAttribute("expand-all-items")||t.hasAttribute("data-expand-all-items")))return!0;t=t.parentElement}return!1}expandAllDescendants(){this.expanded=!0,this.findChildren().forEach(t=>{var e,i;t.expanded=!0,null===(i=(e=t).expandAllDescendants)||void 0===i||i.call(e)})}expandOrCollapseAllDescendants(t){this.suppressExpandEvents=!0;const e=[];return this.expanded=t,this.hasChildren&&e.push({label:this.label,expanded:t}),this.findChildren().forEach(i=>{const a=i.__stencil_instance;if(a&&a.hasChildren&&(a.suppressExpandEvents=!0,a.expanded=t,e.push({label:a.label,expanded:t}),a.hasChildren)){const l=a.expandOrCollapseAllDescendants(t);e.push(...l.filter(d=>d.label!==a.label))}}),this.suppressExpandEvents=!1,e}updateCheckState(t){var e=this;return(0,m.A)(function*(i,a=!1){if(!e.disabled)if(!a&&e.hasChildren){const l=e.collectDescendantStates(i);e.setNodeState({isChecked:i,partialChecked:!1},!1),yield e.updateChildrenSilently(i),e.ifxTreeViewItemCheckChange.emit({checked:i,indeterminate:!1,affectedChildItems:l}),e.updateParentState()}else a?e.setNodeState({isChecked:i,partialChecked:!1},!1):(e.setNodeState({isChecked:i,partialChecked:!1}),yield e.updateChildrenState(i),e.updateParentState())}).apply(this,arguments)}updateChildrenSilently(t){var e=this;return(0,m.A)(function*(){for(const i of e.findChildren()){const a=i.__stencil_instance;a&&!a.disabled&&(a.setNodeState({isChecked:t,partialChecked:!1},!1),yield a.updateChildrenSilently(t))}})()}handleExpandedChange(t){this.suppressExpandEvents||this.ifxTreeViewItemExpandChange.emit({expanded:t,affectedItems:[{label:this.label,expanded:t}]})}handleDisableItemChange(t){this.ifxTreeViewItemDisableChange.emit(t)}setNodeState(t,e=!0){this.isChecked=t.isChecked,this.partialChecked=t.partialChecked,e&&this.ifxTreeViewItemCheckChange.emit({checked:this.isChecked,indeterminate:this.partialChecked,label:this.label,level:this.level,disabled:this.disabled})}collectDescendantStates(t){const e=[],i=a=>{var l;let d=a===this.host?this:a.__stencil_instance;d?.disabled||e.push({label:null!==(l=d?.label)&&void 0!==l?l:"",checked:t,indeterminate:!1}),Array.from(a.children).forEach(h=>{"IFX-TREE-VIEW-ITEM"===h.tagName&&i(h)})};return i(this.host),e}updateChildrenState(t){var e=this;return(0,m.A)(function*(){for(const i of e.findChildren()){const a=i.__stencil_instance;a&&!a.disabled&&(yield i.componentOnReady(),i.dispatchEvent(new CustomEvent("internal-check-state-change",{detail:{checked:t},bubbles:!1,composed:!0})))}})()}findSiblingNodes(t){return Array.from(t.children).filter(e=>e instanceof HTMLElement&&"IFX-TREE-VIEW-ITEM"===e.tagName)}updateParentState(){var t;const e=null===(t=this.host.parentElement)||void 0===t?void 0:t.closest("ifx-tree-view-item");e&&setTimeout(()=>{const i=e.__stencil_instance;if(!i)return;const a=this.findSiblingNodes(e),{allChecked:l,someChecked:d}=this.calculateSiblingStates(a);i.setNodeState({isChecked:l,partialChecked:!l&&d},!1),i.updateParentState()},0)}calculateSiblingStates(t){const e=t.map(l=>{const d=l.__stencil_instance;return{checked:d?.isChecked,partial:d?.partialChecked}}),i=e.filter(l=>l.checked).length,a=e.filter(l=>l.partial).length;return{allChecked:e.length>0&&i===e.length&&0===a,someChecked:i>0||a>0}}render(){return(0,n.h)("div",{key:"6042bbacfb52a1f967b69838df351d2411e93e02",class:{"tree-item":!0,"tree-item--expanded":this.isExpanded,"tree-item--has-children":this.hasChildren,"tree-item--disabled":this.disabled},role:"treeitem","aria-expanded":this.isExpanded?"true":"false","data-level":this.level,"aria-disabled":this.disabled?"true":void 0,"aria-label":this.ariaLabel},(0,n.h)("div",{key:"dd1c3dd7d7ac52856fa5521151575d8f6e56a595",class:"tree-item__content"},(0,n.h)("div",{key:"f9acf69a45e6895cb8bce4685bf89410c5fd44d9",class:"tree-item__checkbox-container",onClick:t=>t.stopPropagation()},(0,n.h)("ifx-checkbox",{key:"0100c66fcf54caf9ec72aba23ca54cf7c89b8f3e",size:"s",checked:!this.partialChecked&&this.isChecked,indeterminate:this.partialChecked,onIfxChange:this.handleCheckboxChange,disabled:this.disabled})),(0,n.h)("div",{key:"80bd2380b3503281c7930e1a5a0577e1684f915e",class:"tree-item__header",style:{paddingLeft:24*this.level+10+"px"},onClick:this.handleHeaderClick,tabIndex:-1,"aria-disabled":this.disabled?"true":void 0},this.hasChildren&&(0,n.h)("div",{key:"b0d54b95c7141d162f9b3d3b8482793c5b362cfa",class:"tree-item__chevron-container",onClick:this.toggleExpand},(0,n.h)("ifx-icon",{key:"8bb64082299f6f8c9498e56a00f330fd759890a7",class:"tree-item__chevron "+(this.isExpanded?"chevron-down":"chevron-right"),icon:"chevron-right-16"}),(0,n.h)("div",{key:"f73af0fad6a30b70fbc9b8a86cb62789590e6c2b",class:"tree-item__line"})),(0,n.h)("div",{key:"a6dd60b5c2d41d54fffc9cb5d8c9d107bc656aa7",class:"tree-item__label-icon-container",tabIndex:this.disabled?-1:0,onKeyDown:this.handleKeyDown},(0,n.h)("div",{key:"f9c093688eedf085258e76a599436e95231200f8",class:"tree-item__icon-container"},this.hasChildren?(0,n.h)(n.F,null,(0,n.h)("ifx-icon",{class:{"icon--hidden":this.isExpanded},icon:"folder-16"}),(0,n.h)("ifx-icon",{class:{"icon--hidden":!this.isExpanded},icon:"folder-open-16"})):(0,n.h)("ifx-icon",{icon:"file-16"})),(0,n.h)("span",{key:"03ad70fa86d4925ea470dadde8b61a64a3316711",class:"tree-item__label"},this.label)))),this.isExpanded&&(0,n.h)("div",{key:"89565044494dab81e5625ee16bb628c56329ad98",class:"tree-item__children"},(0,n.h)("slot",{key:"ebb9dcba2eb87c257823bcea9b1efa6f30ad99dd"})))}get host(){return(0,n.g)(this)}static get watchers(){return{expanded:["handleExpandedChange"],disableItem:["handleDisableItemChange"]}}};return x.style='.tree-item{position:relative;cursor:pointer;list-style:none}.tree-item.tree-item--expanded{position:relative}.tree-item.tree-item--has-children{position:relative}.tree-item.tree-item--has-children .tree-item__header>.tree-item__chevron-container{display:flex}.tree-item.tree-item--has-children.tree-item--expanded .tree-item__header>.tree-item__chevron-container::after{display:block}.tree-item--disabled{cursor:not-allowed;pointer-events:none;color:#BFBBBB}.tree-item__content{display:flex;flex-direction:row}.tree-item__content:hover .tree-item__checkbox-container,.tree-item__content:hover .tree-item__header{background-color:#F7F7F7}.tree-item__checkbox-container{position:sticky;left:0;z-index:10;padding:4px;background-color:#FFFFFF}.tree-item__header{flex-grow:1;display:flex;align-items:center;white-space:nowrap;height:20px;padding-top:4px;padding-right:16px;padding-bottom:4px;padding-left:8px}.tree-item__chevron-container{display:none;align-items:center;margin-right:8px;height:20px}.tree-item__chevron-container::after{--height-line-start:28px;display:none;content:"";position:absolute;z-index:1;top:var(--height-line-start);left:auto;margin-left:8px;width:1px;height:calc(100% - var(--height-line-start));background-color:#EEEDED}.tree-item--disabled .tree-item__chevron-container::after{color:#EEEDED}.tree-item__chevron.chevron-down{transform:rotate(90deg)}.tree-item__chevron.chevron-right{transform:rotate(0)}.tree-item__label-icon-container{display:flex;align-items:center}.tree-item__label-icon-container:focus{outline:none}.tree-item__label-icon-container:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.tree-item__icon-container{position:relative;width:16px;height:16px}.tree-item__icon-container ifx-icon{position:absolute;left:0;top:0;opacity:1;transition:opacity 0.2s ease-in-out}.tree-item__icon-container ifx-icon.icon--hidden{opacity:0}.tree-item__label{padding-left:8px}.tree-item__children{display:none}.tree-item[aria-expanded=true]>.tree-item__children{display:block}',x})()}}]);