"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[4380],{4380:(C,y,m)=>{m.r(y),m.d(y,{ifx_multiselect:()=>p,ifx_multiselect_option:()=>x});var v=m(467),l=m(7395),h=m(6262),S=m(5331);const p=(()=>{let f=class{constructor(e){(0,l.r)(this,e),this.ifxSelect=(0,l.c)(this,"ifxSelect",7),this.ifxOpen=(0,l.c)(this,"ifxOpen",7),e.$hostElement$["s-ei"]?this.internals=e.$hostElement$["s-ei"]:(this.internals=e.$hostElement$.attachInternals(),e.$hostElement$["s-ei"]=this.internals),this.disabled=!1,this.required=!1,this.error=!1,this.caption="",this.label="",this.placeholder="",this.showSearch=!0,this.showSelectAll=!0,this.showClearButton=!0,this.showExpandCollapse=!0,this.noResultsMessage="No results found.",this.showNoResultsMessage=!0,this.searchPlaceholder="Search",this.selectAllLabel="Select all",this.expandLabel="Expand",this.collapseLabel="Collapse",this.ariaMultiSelectLabel="Multi-select dropdown",this.ariaMultiSelectLabelledBy="",this.ariaMultiSelectDescribedBy="",this.ariaSearchLabel="Search options",this.ariaClearLabel="Clear all selections",this.ariaToggleLabel="Toggle dropdown",this.ariaSelectAllLabel="Select all options",this.ariaExpandAllLabel="Expand all categories",this.ariaCollapseAllLabel="Collapse all categories",this.internalError=!1,this.persistentSelectedOptions=[],this.dropdownOpen=!1,this.searchTerm="",this.handleSearch=function E(f,e){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),f(...n)},e)}}(t=>{const i=t.value.toLowerCase(),n=""!==i;this.searchTerm=i;const s=this.el.shadowRoot.querySelector(".ifx-multiselect-wrapper");if(s)if(n)s.classList.remove("active");else{const a=this.el.shadowRoot.querySelector("ifx-search-field");a&&a.matches(":focus-within")||s.classList.add("active")}const o=this.el.shadowRoot.querySelector(".ifx-multiselect-options");o&&(n?o.classList.add("has-search-filter"):o.classList.remove("has-search-filter")),requestAnimationFrame(()=>{if(this.el.querySelectorAll("ifx-multiselect-option").forEach(c=>{const u=new CustomEvent("ifx-search-filter",{detail:{searchTerm:i,isActive:n}});c.dispatchEvent(u)}),n)setTimeout(()=>{const c=this.el.querySelectorAll("ifx-multiselect-option");let u=0;c.forEach(g=>{const w=window.getComputedStyle(g),_=g.getBoundingClientRect();"none"!==w.display&&"hidden"!==w.visibility&&"0"!==w.opacity&&_.height>0&&u++});const b=this.el.shadowRoot.querySelector(".ifx-multiselect-options");b&&(0===u?b.classList.add("show-no-results"):b.classList.remove("show-no-results"))},200);else{const c=this.el.shadowRoot.querySelector(".ifx-multiselect-options");c&&c.classList.remove("show-no-results")}})},150),this.handleDocumentClick=t=>{t.composedPath().includes(this.dropdownElement)||(this.dropdownOpen=!1,document.removeEventListener("click",this.handleDocumentClick),this.resetSearch(),this.ifxOpen.emit(this.dropdownOpen))}}parseChildOptions(){const e=[];return Array.from(this.el.children).forEach((i,n)=>{if("IFX-MULTISELECT-OPTION"===i.tagName){const s=this.parseOptionElement(i,n);s&&e.push(s)}}),e}parseOptionElement(e,t){const a={value:e.getAttribute("value")||`option-${t}`,selected:e.hasAttribute("selected"),disabled:e.hasAttribute("disabled"),indeterminate:e.hasAttribute("indeterminate")},c=Array.from(e.children).filter(u=>"IFX-MULTISELECT-OPTION"===u.tagName).map((u,b)=>this.parseOptionElement(u,b)).filter(u=>null!==u);return c.length>0&&(a.children=c),a}loadInitialOptions(){this.internalError=this.error;const e=this.parseChildOptions(),i=this.collectSelectedOptions(e).filter(n=>!this.persistentSelectedOptions.some(s=>s.value==n.value));this.persistentSelectedOptions=[...this.persistentSelectedOptions,...i]}collectSelectedOptions(e){let t=[];for(const i of e)i.selected?i.children&&i.children.length>0?t=t.concat(this.collectLeafOptions(i.children)):t.some(n=>n.value===i.value)||t.push(i):i.children&&i.children.length>0&&(t=t.concat(this.collectSelectedOptions(i.children)));return t}collectLeafOptions(e){let t=[];for(const i of e)i.children&&i.children.length>0?t=t.concat(this.collectLeafOptions(i.children)):t.push(i);return t}handleSearchFocus(e){const t=this.el.shadowRoot.querySelector(".ifx-multiselect-wrapper");t&&(e||""!==this.searchTerm?t.classList.remove("active"):t.classList.add("active"))}positionDropdown(){var e;const t=null===(e=this.el.shadowRoot.querySelector(".ifx-multiselect-wrapper"))||void 0===e?void 0:e.getBoundingClientRect(),i=window.innerHeight-t.bottom;this.dropdownFlipped=t.top>i&&t.height>i||t.bottom>window.innerHeight}updateSlotBasedSelections(e=!1){const t=this.el.querySelectorAll("ifx-multiselect-option"),i=[];t.forEach(n=>{const s=n.__stencil_instance;s&&s.selected&&!s.hasChildren&&i.push({value:s.value,selected:!0,disabled:s.disabled,label:s.getTextContent()||s.value})}),this.persistentSelectedOptions=i,e&&this.ifxSelect.emit(this.persistentSelectedOptions)}updateInitialParentStates(){const e=this.el.querySelectorAll("ifx-multiselect-option");Array.from(e).map(i=>({element:i,instance:i.__stencil_instance,depth:parseInt(i.getAttribute("data-level")||"0")})).filter(i=>i.instance).sort((i,n)=>n.depth-i.depth).forEach(({instance:i})=>{i.hasChildren&&this.updateParentState(i)})}updateParentState(e){const t=Array.from(e.el.children).filter(o=>"IFX-MULTISELECT-OPTION"===o.tagName).map(o=>o.__stencil_instance).filter(o=>null!==o),i=t.filter(o=>o.selected).length,n=t.filter(o=>o.indeterminate).length;i===t.length&&0===n?(e.selected=!0,e.indeterminate=!1):0===i&&0===n?(e.selected=!1,e.indeterminate=!1):(e.selected=!1,e.indeterminate=!0)}componentDidLoad(){var e=this;return(0,v.A)(function*(){if(!(0,S.i)(e.el)){const t=(0,h.d)();(0,h.t)("ifx-multiselect",yield t)}setTimeout(()=>{e.positionDropdown()},500),e.el.addEventListener("ifx-option-changed",t=>{var i;const n=null===(i=t.target)||void 0===i?void 0:i.__stencil_instance;n&&!n.hasChildren&&e.updateSlotBasedSelections(!0)}),setTimeout(()=>{e.updateSlotBasedSelections(!1),e.updateInitialParentStates()},100)})()}componentWillLoad(){this.loadInitialOptions()}updateInternalError(){this.internalError=this.error}onSelectionChange(e,t){const i=new FormData;e.forEach(n=>i.append(this.name,n.value))}collapseAll(){this.el.querySelectorAll("ifx-multiselect-option").forEach(t=>{const i=t.__stencil_instance;i&&i.hasChildren&&(i.isExpanded=!1)})}expandAll(){this.el.querySelectorAll("ifx-multiselect-option").forEach(t=>{const i=t.__stencil_instance;i&&i.hasChildren&&(i.isExpanded=!0)})}selectAll(){this.resetSearch(),this.el.querySelectorAll("ifx-multiselect-option").forEach(t=>{const i=t.__stencil_instance;i&&(i.hasChildren?i.isExpanded=!0:i.selected=!0)}),setTimeout(()=>{this.updateInitialParentStates(),this.updateSlotBasedSelections(!1),this.ifxSelect.emit(this.persistentSelectedOptions)},0)}clearSelection(){var e=this;return(0,v.A)(function*(){e.el.querySelectorAll("ifx-multiselect-option").forEach(i=>{const n=i.__stencil_instance;n&&(n.selected=!1,n.indeterminate=!1,n.hasChildren&&(n.isExpanded=!1))}),e.persistentSelectedOptions=[],setTimeout(()=>{e.updateSlotBasedSelections(!1),e.ifxSelect.emit(e.persistentSelectedOptions)},0)})()}toggleDropdown(){this.dropdownOpen=!this.dropdownOpen,setTimeout(()=>{this.dropdownOpen?document.addEventListener("click",this.handleDocumentClick):this.resetSearch(),this.ifxOpen.emit(this.dropdownOpen)},0)}resetSearch(){this.searchTerm="";const e=this.el.shadowRoot.querySelector("ifx-search-field");e&&(e.value="");const t=this.el.shadowRoot.querySelector(".ifx-multiselect-options");t&&t.classList.remove("has-search-filter"),this.el.querySelectorAll("ifx-multiselect-option").forEach(n=>{const s=new CustomEvent("ifx-search-filter",{detail:{searchTerm:"",isActive:!1}});n.dispatchEvent(s)})}handleWrapperClick(e){this.positionDropdown(),e.currentTarget===e.target&&this.toggleDropdown()}handleKeyDown(e){if(!this.disabled){if(!this.dropdownOpen){switch(e.code){case"Enter":case"Space":case"ArrowDown":e.preventDefault(),this.toggleDropdown()}return}switch(e.code){case"Escape":e.preventDefault(),this.toggleDropdown();break;case"Enter":case"Space":e.target.closest(".ifx-multiselect-dropdown-functions")||(e.preventDefault(),this.toggleDropdown());break;case"ArrowDown":case"ArrowUp":e.preventDefault(),this.focusFirstOption()}}}focusFirstOption(){var e;const t=this.el.querySelector("ifx-multiselect-option:not(.search-hidden)");if(t){const i=null===(e=t.shadowRoot)||void 0===e?void 0:e.querySelector(".option-label");i?.focus()}}renderSelectAll(){const e=this.el.querySelectorAll("ifx-multiselect-option"),t=Array.from(e).filter(o=>!o.hasChildren),i=Array.from(e).filter(o=>!o.hasChildren&&o.selected),n=t.length>0&&i.length===t.length,s=o=>{o&&(o.preventDefault(),o.stopPropagation()),n?this.clearSelection():this.selectAll()};return(0,l.h)("div",{class:"select-all-wrapper"},(0,l.h)("ifx-checkbox",{id:"selectAll",checked:n,size:"s","aria-label":this.ariaSelectAllLabel,onClick:s,onKeyDown:o=>{("Enter"===o.key||" "===o.key)&&(o.preventDefault(),o.stopPropagation(),s(o))}},this.selectAllLabel))}renderNoResultsMessage(){return(0,l.h)("div",{class:"ifx-multiselect-no-results"},(0,l.h)("div",{class:"no-results-content"},(0,l.h)("span",{class:"no-results-text"},this.noResultsMessage)))}render(){const e=this.persistentSelectedOptions.map(s=>s.label||s.value).join(", "),t=this.persistentSelectedOptions.length>0;let i=!1;const n=this.el.querySelectorAll("ifx-multiselect-option");return n.length>0&&(i=Array.from(n).every(s=>0===s.children.length)),(0,l.h)("div",{key:"bc670b92ab950f53c0232a4da4a04bf3991c75b9",class:"ifx-multiselect-container "+(this.disabled&&!this.error?"disabled":""),ref:s=>this.dropdownElement=s},(0,l.h)("div",{key:"85a07b30b146495543967883a7aa452f188230ab",class:"ifx-label-wrapper"},this.label&&(0,l.h)("span",{key:"083c0ebd17b0d84c26ada036288018067f4cfb42",class:"wrapper-label"},(0,l.h)("span",{key:"79a4665cc558bf4b52956de153ba806ecacc5355"},this.label),this.required&&(0,l.h)("span",{key:"24419974b24d840636a1f017a283c5d9a718922a",class:"required "+(this.error?"error":"")},"*"))),(0,l.h)("div",{key:"1ec74864b8e10f12eef74039e96521db3869c767",class:`ifx-multiselect-wrapper\n        ${this.dropdownOpen?"active":""}\n        ${this.dropdownFlipped?"is-flipped":""}\n        ${this.internalError?"error":""}\n        ${this.disabled&&!this.error?"disabled":""}`,role:"combobox","aria-label":this.ariaMultiSelectLabel,"aria-labelledby":this.ariaMultiSelectLabelledBy||void 0,"aria-describedby":this.ariaMultiSelectDescribedBy||void 0,"aria-expanded":this.dropdownOpen,"aria-haspopup":"listbox","aria-disabled":this.disabled&&!this.error,tabindex:"0",onClick:this.disabled&&!this.error?void 0:s=>this.handleWrapperClick(s),onKeyDown:this.disabled&&!this.error?void 0:s=>this.handleKeyDown(s)},(0,l.h)("div",{key:"dc70bf124006db33c243e508f77561768f317c3c",class:`ifx-multiselect-input\n          ${t?"":"placeholder"}\n          `,onClick:this.disabled&&!this.error?void 0:()=>this.toggleDropdown()},t?e:this.placeholder),this.dropdownOpen&&(0,l.h)("div",{key:"09b8085a88d621b326a628be9abe6f6ba7ff1495",class:"ifx-multiselect-dropdown-menu"},(this.showSearch||this.showSelectAll||this.showExpandCollapse&&!i)&&(0,l.h)("div",{key:"3332790106886da45c8ce6c3514ba6f8a0190b0c",class:"ifx-multiselect-dropdown-functions",onClick:s=>s.stopPropagation()},this.showSearch&&(0,l.h)("div",{key:"5e4e7f25f2bee231860a362b7c5f586de1384a44",class:"ifx-multiselect-dropdown-search"},(0,l.h)("ifx-search-field",{key:"4a2f784afae35dd6f0073dcbb6e30bc59aafc1fe",class:"search-input",placeholder:this.searchPlaceholder,size:"s","show-delete-icon":"true","aria-label":this.ariaSearchLabel,onKeyDown:s=>{s.stopPropagation()},onIfxInput:s=>this.handleSearch(s.target),onFocus:()=>this.handleSearchFocus(!0),onBlur:()=>this.handleSearchFocus(!1)})),(0,l.h)("div",{key:"0a43f6057da497fe1d584fefd51591d4b7b87af2",class:"ifx-multiselect-dropdown-controls"},this.showSelectAll&&this.renderSelectAll(),this.showExpandCollapse&&!i&&(0,l.h)("div",{key:"70bfd869473dd23aa8c402aa1e15bc827e04e194",class:"expand-collapse-controls"},(0,l.h)("span",{key:"ceb3f801a55ad6fae1ce161cbd81471143520a31",class:"control-item",role:"button",tabIndex:0,"aria-label":this.ariaExpandAllLabel,onClick:s=>{s.stopPropagation(),this.expandAll()},onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),s.stopPropagation(),this.expandAll())}},this.expandLabel),(0,l.h)("span",{key:"1f01204c979bfc715914666d226bf119cd64cf43",class:"control-item",role:"button",tabIndex:0,"aria-label":this.ariaCollapseAllLabel,onClick:s=>{s.stopPropagation(),this.collapseAll()},onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),s.stopPropagation(),this.collapseAll())}},this.collapseLabel)))),(0,l.h)("div",{key:"27f7a0af06502f7f0a95ce659bea645d831ef1e1",class:"ifx-multiselect-options",role:"listbox","aria-multiselectable":"true"},(0,l.h)("slot",{key:"f13072e1321d2e086fde2112aa9ac7e77f490a45"}),this.searchTerm&&this.showNoResultsMessage&&this.renderNoResultsMessage())),(0,l.h)("div",{key:"43639dc417acde6fd9d9d8de37700f44da8dbbf5",class:"ifx-multiselect-icon-container"},this.persistentSelectedOptions.length>0&&(0,l.h)("div",{key:"e8c2f17cdba64efa1ca712b01bf67399f079e21a",class:"ifx-clear-button "+(this.showClearButton?"":"hide"),onClick:this.disabled&&!this.error?void 0:()=>this.clearSelection()},(0,l.h)("ifx-icon",{key:"44378c935050e9372af6b55271ce4f5f6ecb1934",icon:"cRemove16"})),(0,l.h)("div",{key:"e1fd51d919a29df624e2090c0dd1bf60850ee1e0",class:"icon-wrapper-up",onClick:this.disabled&&!this.error?void 0:()=>this.toggleDropdown()},(0,l.h)("ifx-icon",{key:"icon-up",icon:"chevron-up-16"})),(0,l.h)("div",{key:"70b103038d5d6296d407eb981c387070173b8ea9",class:"icon-wrapper-down",onClick:this.disabled&&!this.error?void 0:()=>this.toggleDropdown()},(0,l.h)("ifx-icon",{key:"icon-down",icon:"chevron-down-16"})))),this.caption&&(0,l.h)("div",{key:"b460be2a5c8384cbc915571ec0a794eeb9c42cce",class:`multi__select-caption ${this.error?"error":""} ${this.disabled&&!this.error?"disabled":""}`},this.caption))}get el(){return(0,l.a)(this)}static get watchers(){return{error:["updateInternalError"],persistentSelectedOptions:["onSelectionChange"]}}};return f.style=':root{--ifx-font-family:"Source Sans 3", \'Arial, sans-serif\'}.ifx-multiselect-container{position:relative;box-sizing:border-box;font-family:var(--ifx-font-family)}.ifx-multiselect-container.disabled .ifx-label-wrapper{color:#BFBBBB}.ifx-multiselect-container.disabled .ifx-multiselect-wrapper{background:#BFBBBB;color:#FFFFFF;border-color:#BFBBBB;cursor:default;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ifx-multiselect-container:hover{cursor:pointer}.ifx-multiselect-container .ifx-label-wrapper{font-size:1rem;line-height:1.5rem;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:anywhere;max-width:100%}.ifx-multiselect-container .ifx-label-wrapper .required{margin-left:4px}.ifx-multiselect-container .ifx-label-wrapper .required.error{color:#CD002F}.ifx-multiselect-container .multi__select-caption{font-style:normal;font-weight:400;font-size:0.75rem;line-height:1rem;color:#1D1D1D;flex:none;order:1;align-self:stretch;flex-grow:0}.ifx-multiselect-container .multi__select-caption.error{color:#CD002F}.ifx-multiselect-container .multi__select-caption.disabled{color:#BFBBBB}.ifx-multiselect-container .ifx-multiselect-wrapper{background-color:#FFFFFF;box-sizing:border-box;display:flex;align-items:center;border:1px solid #8D8786;border-radius:1px;width:100%;font-weight:400;font-style:normal;height:40px;line-height:24px;padding:8px 16px;font-size:1rem;line-height:1.5rem}.ifx-multiselect-container .ifx-multiselect-wrapper:focus-visible{outline:none}.ifx-multiselect-container .ifx-multiselect-wrapper:focus-visible:not(.active):not(:active){outline:none}.ifx-multiselect-container .ifx-multiselect-wrapper:focus-visible:not(.active):not(:active)::before{content:"";position:absolute;width:calc(100% + 4px);height:calc(100% + 4px);top:50%;left:50%;transform:translate(-50%, -50%);border:2px solid #0A8276;border-radius:2px}.ifx-multiselect-container .ifx-multiselect-wrapper.error{border-color:#CD002F}.ifx-multiselect-container .ifx-multiselect-wrapper.active{border-color:#0A8276 !important}.ifx-multiselect-container .ifx-multiselect-wrapper.active .icon-wrapper-up{display:flex;align-items:center;justify-content:center;padding-left:8px}.ifx-multiselect-container .ifx-multiselect-wrapper.active .icon-wrapper-down{display:none}.ifx-multiselect-container .ifx-multiselect-wrapper .icon-wrapper-up{display:none}.ifx-multiselect-container .ifx-multiselect-wrapper .icon-wrapper-down{display:flex;align-items:center;justify-content:center;padding-left:8px}.ifx-multiselect-container .ifx-multiselect-wrapper.is-flipped .ifx-multiselect-dropdown-menu{top:auto;bottom:100%}.ifx-multiselect-container .ifx-multiselect-input{flex-grow:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ifx-multiselect-container .ifx-multiselect-input.placeholder{opacity:0.5}.ifx-multiselect-container .ifx-multiselect-icon-container{margin-left:auto;display:flex;align-items:center;gap:8px}.ifx-multiselect-container .ifx-multiselect-icon-container .ifx-multiselect-icon-container{display:flex}.ifx-multiselect-container .ifx-multiselect-icon-container .icon-wrapper{display:flex;align-items:center;transition:transform 0.2s ease-in-out}.ifx-multiselect-container .ifx-multiselect-icon-container .icon-wrapper--open{transform:rotate(180deg)}.ifx-multiselect-container .ifx-clear-button{display:flex;align-items:center}.ifx-multiselect-container .ifx-clear-button.hide{display:none}.ifx-multiselect-container .ifx-multiselect-dropdown-menu{box-sizing:border-box;position:absolute;top:100%;left:0;width:100%;margin-top:4px;padding-bottom:8px;border:1px solid #EEEDED;background-color:#FFFFFF;box-shadow:0px 6px 9px 0px rgba(29, 29, 29, 0.1);max-height:300px;z-index:1000;display:flex;flex-direction:column}.ifx-multiselect-container:not(.disabled) .ifx-multiselect-wrapper:hover:not(.focus,:focus){border-color:#575352}.ifx-multiselect-dropdown-functions{padding:12px 16px;border-bottom:1px solid #EEEDED;flex-shrink:0}.ifx-multiselect-dropdown-search{margin-bottom:12px}.ifx-multiselect-dropdown-controls{display:flex;flex-wrap:wrap;justify-content:space-between;gap:8px}.ifx-multiselect-dropdown-controls .select-all-wrapper{display:flex}.ifx-multiselect-dropdown-controls .expand-collapse-controls{display:flex;gap:12px}.ifx-multiselect-dropdown-controls .control-item{font-size:16px;line-height:24px}.ifx-multiselect-dropdown-controls .control-item:hover{color:#0A8276}.ifx-multiselect-dropdown-controls .control-item:active{color:#08665C}.ifx-multiselect-dropdown-controls .control-item:focus{outline:none}.ifx-multiselect-dropdown-controls .control-item:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.ifx-multiselect-options{flex:1;overflow-y:auto;padding-top:8px}.ifx-multiselect-options.show-no-results .ifx-multiselect-no-results{display:block}.ifx-multiselect-no-results{padding-left:16px;padding-right:16px;display:none}',f})(),x=(()=>{let f=class{constructor(e){(0,l.r)(this,e),this.selected=!1,this.disabled=!1,this.indeterminate=!1,this.isExpanded=!1,this.hasChildren=!1,this.depth=0,this.searchTerm="",this.isSearchActive=!1,this.isSearchDisabled=!1,this.handleSearchFilter=t=>{const{searchTerm:i,isActive:n}=t.detail;this.searchTerm=i.toLowerCase(),this.isSearchActive=n,requestAnimationFrame(()=>{this.updateSearchClasses()})},this.handleCheckboxClick=t=>{if(this.disabled||this.isSearchActive&&this.isSearchDisabled)return;let i;t.stopPropagation(),i=!!this.indeterminate||!this.selected,this.selected=i,this.indeterminate=!1,this.hasChildren&&(this.isExpanded=i,requestAnimationFrame(()=>{this.selectAllChildren(i),this.expandAllChildren(i)})),this.updateParentStates(),this.notifyMultiselect()},this.handleHeaderClick=t=>{t.stopPropagation(),!this.disabled&&(!this.isSearchActive||!this.isSearchDisabled)&&this.handleClick(t)}}componentWillLoad(){this.hasChildren=this.el.children.length>0,this.depth=this.calculateDepth(),this.el.setAttribute("data-level",this.depth.toString()),this.hasChildren&&this.hasAnySelectedChildren()&&(this.isExpanded=!0)}componentDidLoad(){this.el.__stencil_instance=this,this.notifyMultiselect(),this.el.addEventListener("ifx-search-filter",this.handleSearchFilter)}disconnectedCallback(){this.el.removeEventListener("ifx-search-filter",this.handleSearchFilter)}updateSearchClasses(){var e;const t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelector(".option");if(!t)return;if(!this.isSearchActive)return t.classList.remove("search-hidden","search-parent","search-match"),this.removeHighlighting(),void(this.isSearchDisabled=!1);const n=this.getTextContent().toLowerCase().includes(this.searchTerm),s=this.hasMatchingParent();requestAnimationFrame(()=>{const o=this.hasMatchingChildren();t.classList.remove("search-hidden","search-parent","search-match"),this.isSearchDisabled=!1,n&&!this.hasChildren?(t.classList.add("search-match"),this.highlightSearchTerm()):n&&this.hasChildren?(t.classList.add("search-match"),this.highlightSearchTerm(),this.isExpanded=!0):!n&&this.hasChildren&&o?(t.classList.add("search-parent"),this.removeHighlighting(),this.isExpanded=!0,this.isSearchDisabled=!0):s?(t.classList.add("search-match"),this.removeHighlighting()):(t.classList.add("search-hidden"),this.removeHighlighting())})}highlightSearchTerm(){var e;if(!this.searchTerm)return;const t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelector(".option-label");if(!t)return;const i=t.querySelector("slot");if(!i)return;this.removeHighlighting();const n=this.getTextContent(),s=this.searchTerm.toLowerCase(),o=n.toLowerCase();if(!o.includes(s))return;const a=o.indexOf(s);if(-1===a)return;const c=n.substring(0,a),u=n.substring(a,a+s.length),b=n.substring(a+s.length),g=document.createElement("span");g.className="highlighted-text",c&&g.appendChild(document.createTextNode(c));const w=document.createElement("strong");w.className="search-highlight",w.textContent=u,g.appendChild(w),b&&g.appendChild(document.createTextNode(b)),t.setAttribute("data-original-content","true"),i.style.display="none",t.appendChild(g)}removeHighlighting(){var e;const t=null===(e=this.el.shadowRoot)||void 0===e?void 0:e.querySelector(".option-label");if(!t)return;const i=t.querySelector("slot"),n=t.querySelector(".highlighted-text");n&&t.removeChild(n),i&&(i.style.display=""),t.removeAttribute("data-original-content")}getTextContent(){let e="";return Array.from(this.el.childNodes).forEach(t=>{var i;t.nodeType===Node.TEXT_NODE&&(e+=(null===(i=t.textContent)||void 0===i?void 0:i.trim())||"")}),e||this.value||""}hasMatchingChildren(){return!!this.hasChildren&&Array.from(this.el.children).filter(t=>"IFX-MULTISELECT-OPTION"===t.tagName).some(t=>{const i=t.__stencil_instance;if(!i)return!1;const s=i.getTextContent().toLowerCase().includes(this.searchTerm),o=i.hasMatchingChildren();return s||o})}hasMatchingParent(){let e=this.el.parentElement;for(;e&&"IFX-MULTISELECT-OPTION"===e.tagName;){const t=e.__stencil_instance;if(t&&t.getTextContent().toLowerCase().includes(this.searchTerm))return!0;e=e.parentElement}return!1}calculateDepth(){let e=0,t=this.el.parentElement;for(;t&&"IFX-MULTISELECT"!==t.tagName;)"IFX-MULTISELECT-OPTION"===t.tagName&&e++,t=t.parentElement;return e}handleClick(e){if(this.disabled||this.isSearchActive&&this.isSearchDisabled)return;if(e.stopPropagation(),"click"===e.type&&e.target.closest(".chevron-wrapper"))return void this.toggleExpansion();let t;t=!!this.indeterminate||!this.selected,this.selected=t,this.indeterminate=!1,this.hasChildren&&(this.isExpanded=t,requestAnimationFrame(()=>{this.selectAllChildren(t),this.expandAllChildren(t)})),this.updateParentStates(),this.notifyMultiselect()}handleKeyDown(e){if(this.disabled||this.isSearchActive&&this.isSearchDisabled)return;const t=e.target;t.closest(".chevron-wrapper")||t.closest(".checkbox-wrapper")||("ArrowUp"!==e.key&&"ArrowDown"!==e.key&&e.stopPropagation(),"ArrowRight"===e.key&&this.hasChildren&&(this.isExpanded=!0),"ArrowLeft"===e.key&&this.hasChildren&&(this.isExpanded=!1))}notifyMultiselect(){const e=new CustomEvent("ifx-option-changed",{bubbles:!0,detail:{value:this.value,selected:this.selected,indeterminate:this.indeterminate}});this.el.dispatchEvent(e)}selectAllChildren(e){Array.from(this.el.children).filter(i=>"IFX-MULTISELECT-OPTION"===i.tagName).forEach(i=>{var n;const s=i.__stencil_instance;s&&(s.selected=e,s.indeterminate=!1,s.hasChildren&&(s.isExpanded=e,s.selectAllChildren(e)),null===(n=s.notifyMultiselect)||void 0===n||n.call(s))})}expandAllChildren(e){Array.from(this.el.children).filter(i=>"IFX-MULTISELECT-OPTION"===i.tagName).forEach(i=>{const n=i.__stencil_instance;n&&n.hasChildren&&(n.isExpanded=e,n.expandAllChildren(e))})}updateParentStates(){var e;let t=this.el.parentElement;for(;t&&"IFX-MULTISELECT-OPTION"===t.tagName;){const i=t.__stencil_instance;if(!i){t=t.parentElement;continue}const n=Array.from(t.children).filter(c=>"IFX-MULTISELECT-OPTION"===c.tagName).map(c=>c.__stencil_instance).filter(c=>null!==c),s=n.filter(c=>c.selected).length,o=n.filter(c=>c.indeterminate).length;s===n.length&&0===o?(i.selected=!0,i.indeterminate=!1):0===s&&0===o?(i.selected=!1,i.indeterminate=!1):(i.selected=!1,i.indeterminate=!0),null===(e=i.notifyMultiselect)||void 0===e||e.call(i),t=t.parentElement}}toggleExpansion(){this.isExpanded=!this.isExpanded}hasAnySelectedChildren(){return Array.from(this.el.children).filter(t=>"IFX-MULTISELECT-OPTION"===t.tagName).some(t=>{const i=t.hasAttribute("selected"),n=this.checkForSelectedDescendants(t);return i||n})}checkForSelectedDescendants(e){return Array.from(e.children).filter(i=>"IFX-MULTISELECT-OPTION"===i.tagName).some(i=>{const n=i.hasAttribute("selected"),s=this.checkForSelectedDescendants(i);return n||s})}render(){let e=!1;const t=this.el.closest("ifx-multiselect");return t&&(e=Array.from(t.querySelectorAll("ifx-multiselect-option")).every(c=>0===c.children.length)),(0,l.h)(l.d,{key:"99cf6964a51a1d521b42511862154995103e4171"},(0,l.h)("div",{key:"5f695d9fb437b5e729144a89422244794dbb6dfb",class:{option:!0,"option--has-children":this.hasChildren,"option--expanded":this.isExpanded,"option--disabled":this.disabled,"option--selected":this.selected},role:"option","aria-expanded":this.hasChildren?this.isExpanded?"true":"false":void 0,"aria-selected":this.selected?"true":"false","aria-disabled":this.disabled?"true":"false","data-level":this.depth,"data-value":this.value},(0,l.h)("div",{key:"d2a99106a75ab85fcda5c207acb1aed3e5143244",class:"option-item",style:e?void 0:{paddingLeft:28*this.depth+16+(this.hasChildren?0:28)+"px"}},(0,l.h)("div",{key:"4ec4859c9cc10a44537c3459c597213ee04b9a00",class:"chevron-wrapper",tabIndex:this.hasChildren?0:-1,role:this.hasChildren?"button":void 0,"aria-label":this.hasChildren?this.isExpanded?"Collapse":"Expand":void 0,onClick:a=>{a.stopPropagation(),this.toggleExpansion()},onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),a.stopPropagation(),this.toggleExpansion())}},this.hasChildren&&(0,l.h)("ifx-icon",{key:"0dec0f88865ff1aa536fd4b40e23ad120f8bd9fe",class:"chevron "+(this.isExpanded?"chevron--expanded":"chevron--collapsed"),icon:"chevron-right-16"})),(0,l.h)("div",{key:"6b8e515009070e525fe17ed933e89c32e5a6d9eb",class:"checkbox-wrapper",onClick:a=>a.stopPropagation()},(0,l.h)("ifx-checkbox",{key:"79b10528f3a566c5295c33d025a54951b0e0a42b",size:"s",checked:!(this.isSearchActive&&this.isSearchDisabled||this.indeterminate)&&this.selected,indeterminate:(!this.isSearchActive||!this.isSearchDisabled)&&this.indeterminate,onClick:this.handleCheckboxClick,disabled:this.disabled||this.isSearchActive&&this.isSearchDisabled,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),a.stopPropagation(),this.handleCheckboxClick(a))}})),(0,l.h)("div",{key:"c9e31cf61162b4d6e1d5c57e60dc48417042a4a1",class:"option-label",onClick:this.handleHeaderClick,tabIndex:-1},(0,l.h)("slot",{key:"441f5e4c7a51213caac5cd799d9f2deb4bfa711b"}))),this.isExpanded&&(0,l.h)("div",{key:"4fe118c3a2414fe1707162a015016ff951c3499d",class:"option-children"},(0,l.h)("slot",{key:"2d9af3cbe10f77f47d2bf8aa65a66c452fd762a7",name:"children"}))))}get el(){return(0,l.a)(this)}};return f.style=":host{display:block;width:100%}.option{display:flex;flex-direction:column;position:relative;cursor:pointer;list-style:none}.option.option--expanded{position:relative}.option.option--has-children{position:relative}.option.option--has-children .option-item>.chevron-wrapper{display:flex}.option--disabled{cursor:not-allowed;pointer-events:none;color:#BFBBBB}.option.search-hidden{display:none !important}.option.search-match .option-item .option-label .search-highlight{font-weight:bold}.option-item{display:flex;flex-direction:row;align-items:center;white-space:nowrap;min-height:20px;padding:4px 16px;background-color:#FFFFFF;transition:background-color 0.2s ease-in-out}.option-item:hover{background-color:#F7F7F7}.option--disabled .option-item:hover{background-color:transparent}.option-children{display:block}.chevron-wrapper{display:none;align-items:center;justify-content:center;margin-right:8px;width:20px;height:20px;flex-shrink:0}.chevron-wrapper:focus{outline:none}.chevron-wrapper:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.option--has-children .chevron-wrapper{display:flex}.chevron-wrapper .chevron{transition:transform 0.2s ease-in-out;color:#3C3A39}.chevron-wrapper .chevron.chevron--expanded{transform:rotate(90deg)}.chevron-wrapper .chevron.chevron--collapsed{transform:rotate(0deg)}.checkbox-wrapper{display:flex;align-items:center;margin-right:8px;flex-shrink:0}.option-label{flex-grow:1;display:flex;align-items:center;cursor:pointer;padding:2px 0;font-size:0.875rem}.option-label:focus{outline:none}.option-label:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.option--disabled .option-label{cursor:not-allowed;color:#BFBBBB}",f})()},5331:(C,y,m)=>{m.d(y,{i:()=>v});const v=l=>{let h=l.parentNode;for(;h;)if(h instanceof ShadowRoot)h=h.host;else{if(h instanceof HTMLElement&&h.tagName.toLowerCase().startsWith("ifx"))return!0;h=h.parentNode}return!1}},6262:(C,y,m)=>{m.d(y,{d:()=>E,t:()=>h});var v=m(467);function h(p,d){["jest","localhost","error"].includes(d)||(window.INFINEON_TRACKED_COMPONENTS||(window.INFINEON_TRACKED_COMPONENTS=new Set),!window.INFINEON_TRACKED_COMPONENTS.has(p)&&(window.INFINEON_TRACKED_COMPONENTS.add(p),window.btnt||function l(){var p,d,f,e;p=document,d="script","object"!=typeof window.btntConfig&&(window.btntConfig={domain:"https://ssgtm.infineon.com",withCookies:!0,maxBatchSize:10}),!window.btnt&&(window.btnt=function(t){"object"!=typeof t&&(t={}),"object"!=typeof window.btntQueue&&(window.btntQueue=[]),window.btntQueue.push(t)},f=p.createElement(d),(e=p.getElementsByTagName(d)[0])&&e.parentNode&&(f.async=1,f.src=window.btntConfig.domain+"/btnt.js",e.parentNode.insertBefore(f,e)))}(),window.btnt({event_name:"component_initialized",component_name:p,environment:d})))}typeof process<"u"&&process;let r=null;const E=function(){var p=(0,v.A)(function*(){if(r)return r;if(typeof window>"u"||typeof document>"u")return r="non-browser",r;const d=window,x=document;if(typeof process<"u"&&process,d.location.search.includes("viewMode")||d.location.href.includes("viewMode")||d.__STORYBOOK_ENV__)return r="Storybook",r;if(["localhost","127.0.0.1"].includes(d.location.hostname))return r="localhost",r;try{return d.React||d.ReactDOM?(r="React",r):d.ng||d.getAllAngularRootElements?(r="Angular",r):d.Vue||d.__VUE__?(r="Vue",r):(yield new Promise(p=>{if("complete"===document.readyState||"interactive"===document.readyState)p();else{const d=()=>{p(),document.removeEventListener("DOMContentLoaded",d)};document.addEventListener("DOMContentLoaded",d)}}),x.querySelector("[data-reactroot], [data-reactid]")||Array.from(x.querySelectorAll("body > div")).some(s=>Object.keys(s).some(a=>a.startsWith("__reactContainer")))?(r="React",r):x.querySelector("[ng-version], [ng-app]")?(r="Angular",r):x.querySelector("[data-v-app]")?(r="Vue",r):(r="Vanilla",r))}catch{return r="error",r}});return function(){return p.apply(this,arguments)}}()}}]);