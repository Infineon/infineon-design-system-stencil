"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[9152],{9152:(g,b,o)=>{o.r(b),o.d(b,{ifx_tree_view_item:()=>k});var m=o(467),s=o(2438);const k=(()=>{let x=class{constructor(t){(0,s.r)(this,t),this.ifxTreeViewItemExpandChange=(0,s.c)(this,"ifxTreeViewItemExpandChange",7),this.ifxTreeViewItemCheckChange=(0,s.c)(this,"ifxTreeViewItemCheckChange",7),this.ifxTreeViewItemDisableChange=(0,s.c)(this,"ifxTreeViewItemDisableChange",7),this.expanded=!1,this.initiallyExpanded=!1,this.disableItem=!1,this.initiallySelected=!1,this.hasChildren=!1,this.isChecked=!1,this.partialChecked=!1,this.level=0,this.disableAllItems=!1,this.expandAllItems=!1,this.suppressExpandEvents=!1,this.findChildren=()=>Array.from(this.host.children).filter(e=>e instanceof HTMLElement&&"IFX-TREE-VIEW-ITEM"===e.tagName),this.calculateNodeLevel=()=>{let e=0,a=this.host.parentElement;for(;a;)"IFX-TREE-VIEW-ITEM"===a.tagName&&e++,a=a.parentElement;return e},this.handleStateChange=e=>{this.disabled||(e.stopPropagation(),this.updateCheckState(e.detail.checked))},this.handleCheckboxChange=e=>{var a,i;this.disabled||this.updateCheckState(null!==(i=null===(a=e.detail)||void 0===a?void 0:a.checked)&&void 0!==i?i:!this.isChecked)},this.handleHeaderClick=({target:e})=>{if(!this.disabled&&!e.closest(".tree-item__checkbox-container, .tree-item__chevron-container"))if(this.hasChildren){const a=!this.isChecked;this.updateCheckState(a);const i=this.expandOrCollapseAllDescendants(!!a);this.ifxTreeViewItemExpandChange.emit({expanded:a,affectedItems:i,component:this})}else this.updateCheckState(!this.isChecked)},this.toggleExpand=()=>{this.disabled||!this.hasChildren||(this.expanded=!this.expanded)},this.handleKeyDown=e=>{var a,i,l,d,h,u;const c=Array.from((null===(a=this.host.closest("ifx-tree-view"))||void 0===a?void 0:a.querySelectorAll("ifx-tree-view-item"))||[]).filter(n=>{var r,_;let p=null===(r=n.parentElement)||void 0===r?void 0:r.closest("ifx-tree-view-item");for(;p;){if(!p.expandAllItems&&!p.expanded)return!1;p=null===(_=p.parentElement)||void 0===_?void 0:_.closest("ifx-tree-view-item")}return!0}),v=c.findIndex(n=>n===this.host),f=n=>n?.focus();switch(e.key){case"ArrowDown":e.preventDefault();for(let n=v+1;n<c.length;n++){const r=c[n];if(!r.disabled){f(null===(i=r.shadowRoot)||void 0===i?void 0:i.querySelector(".tree-item__label-icon-container"));break}}break;case"ArrowUp":e.preventDefault();for(let n=v-1;n>=0;n--){const r=c[n];if(!r.disabled){f(null===(l=r.shadowRoot)||void 0===l?void 0:l.querySelector(".tree-item__label-icon-container"));break}}break;case"ArrowRight":if(e.preventDefault(),!this.isExpanded&&this.hasChildren)this.expanded=!0;else if(this.isExpanded&&this.hasChildren){const n=this.host.querySelector("ifx-tree-view-item");n&&!n.disabled&&f(null===(d=n.shadowRoot)||void 0===d?void 0:d.querySelector(".tree-item__label-icon-container"))}break;case"ArrowLeft":if(e.preventDefault(),this.isExpanded&&this.hasChildren)this.expanded=!1;else{const n=null===(h=this.host.parentElement)||void 0===h?void 0:h.closest("ifx-tree-view-item");n&&!n.disabled&&f(null===(u=n.shadowRoot)||void 0===u?void 0:u.querySelector(".tree-item__label-icon-container"))}break;case" ":case"Enter":if(e.preventDefault(),this.hasChildren){const n=!this.isChecked;this.updateCheckState(n);const r=this.expandOrCollapseAllDescendants(!!n);this.ifxTreeViewItemExpandChange.emit({expanded:n,affectedItems:r,component:this})}else this.updateCheckState(!this.isChecked)}}}get disabled(){return this.disableAllItems||this.disableItem}get isExpanded(){return this.expandAllItems||this.expanded}componentWillLoad(){this.expanded=this.initiallyExpanded,this.hasChildren=this.findChildren().length>0,this.level=this.calculateNodeLevel(),this.host.setAttribute("data-level",this.level.toString()),this.isChecked=this.initiallySelected,this.host.addEventListener("internal-check-state-change",this.handleStateChange)}componentDidLoad(){this.observeParentAttribute("disable-all-items",t=>this.disableAllItems=t),this.observeParentAttribute("data-expand-all-items",t=>this.expandAllItems=t,!0),this.shouldExpandFromParent()&&this.expandAllDescendants(),this.host.__stencil_instance=this,this.initiallySelected&&setTimeout(()=>this.updateParentState(),0)}observeParentAttribute(t,e,a=!1){let i=this.host.parentElement;for(;i;){if("IFX-TREE-VIEW"===i.tagName||a&&i.hasAttribute(t)){new MutationObserver(()=>e(i.hasAttribute(t))).observe(i,{attributes:!0}),e(i.hasAttribute(t));break}i=i.parentElement}}shouldExpandFromParent(){let t=this.host.parentElement;for(;t;){if("IFX-TREE-VIEW"===t.tagName&&(t.hasAttribute("expand-all-items")||t.hasAttribute("data-expand-all-items")))return!0;t=t.parentElement}return!1}expandAllDescendants(){this.expanded=!0,this.findChildren().forEach(t=>{var e,a;t.expanded=!0,null===(a=(e=t).expandAllDescendants)||void 0===a||a.call(e)})}expandOrCollapseAllDescendants(t){this.suppressExpandEvents=!0;const e=[];return this.expanded=t,this.hasChildren&&e.push({expanded:t,value:this.value}),this.findChildren().forEach(a=>{const i=a.__stencil_instance;if(i&&i.hasChildren&&(i.suppressExpandEvents=!0,i.expanded=t,e.push({expanded:t,value:i.value}),i.hasChildren)){const l=i.expandOrCollapseAllDescendants(t);e.push(...l)}}),this.suppressExpandEvents=!1,e}updateCheckState(t){var e=this;return(0,m.A)(function*(a,i=!1){if(!e.disabled)if(!i&&e.hasChildren){const l=e.collectDescendantStates(a);e.setNodeState({isChecked:a,partialChecked:!1},!1),yield e.updateChildrenSilently(a),e.ifxTreeViewItemCheckChange.emit({checked:a,indeterminate:!1,value:e.value,affectedChildItems:l,component:e}),e.updateParentState()}else i?e.setNodeState({isChecked:a,partialChecked:!1},!1):(e.setNodeState({isChecked:a,partialChecked:!1}),yield e.updateChildrenState(a),e.updateParentState())}).apply(this,arguments)}updateChildrenSilently(t){var e=this;return(0,m.A)(function*(){for(const a of e.findChildren()){const i=a.__stencil_instance;i&&!i.disabled&&(i.setNodeState({isChecked:t,partialChecked:!1},!1),yield i.updateChildrenSilently(t))}})()}handleExpandedChange(t){this.suppressExpandEvents||this.ifxTreeViewItemExpandChange.emit({expanded:t,value:this.value,affectedItems:[{expanded:t,value:this.value}],component:this})}handleDisableItemChange(t){this.ifxTreeViewItemDisableChange.emit({disabled:t,component:this})}setNodeState(t,e=!0){this.isChecked=t.isChecked,this.partialChecked=t.partialChecked,e&&this.ifxTreeViewItemCheckChange.emit({checked:this.isChecked,indeterminate:this.partialChecked,value:this.value,level:this.level,disabled:this.disabled,component:this})}collectDescendantStates(t){const e=[],a=(i,l=!1)=>{let d=i===this.host?this:i.__stencil_instance;!l&&!d?.disabled&&e.push({checked:t,indeterminate:!1,value:d?.value}),Array.from(i.children).forEach(h=>{"IFX-TREE-VIEW-ITEM"===h.tagName&&a(h,!1)})};return Array.from(this.host.children).forEach(i=>{"IFX-TREE-VIEW-ITEM"===i.tagName&&a(i,!1)}),e}updateChildrenState(t){var e=this;return(0,m.A)(function*(){for(const a of e.findChildren()){const i=a.__stencil_instance;i&&!i.disabled&&(yield a.componentOnReady(),a.dispatchEvent(new CustomEvent("internal-check-state-change",{detail:{checked:t},bubbles:!1,composed:!0})))}})()}findSiblingNodes(t){return Array.from(t.children).filter(e=>e instanceof HTMLElement&&"IFX-TREE-VIEW-ITEM"===e.tagName)}updateParentState(){var t;const e=null===(t=this.host.parentElement)||void 0===t?void 0:t.closest("ifx-tree-view-item");e&&setTimeout(()=>{const a=e.__stencil_instance;if(!a)return;const i=this.findSiblingNodes(e),{allChecked:l,someChecked:d}=this.calculateSiblingStates(i);a.setNodeState({isChecked:l,partialChecked:!l&&d},!1),a.updateParentState()},0)}calculateSiblingStates(t){const e=t.map(l=>{const d=l.__stencil_instance;return{checked:d?.isChecked,partial:d?.partialChecked}}),a=e.filter(l=>l.checked).length,i=e.filter(l=>l.partial).length;return{allChecked:e.length>0&&a===e.length&&0===i,someChecked:a>0||i>0}}render(){return(0,s.h)("div",{key:"162ae23e62d1e72d51db7be555af269a404a8a8b",class:{"tree-item":!0,"tree-item--expanded":this.isExpanded,"tree-item--has-children":this.hasChildren,"tree-item--disabled":this.disabled},role:"treeitem","aria-expanded":this.isExpanded?"true":"false","data-level":this.level,"aria-disabled":this.disabled?"true":void 0,"aria-label":this.ariaLabel},(0,s.h)("div",{key:"befe8adcc6e30761593f89dcbc0b0afe3699e002",class:"tree-item__content"},(0,s.h)("div",{key:"5ad3f49e004fed83f1541ecef8bd94fd78ddc59f",class:"tree-item__checkbox-container",onClick:t=>t.stopPropagation()},(0,s.h)("ifx-checkbox",{key:"c038eb439265d26b74e6598a488f2d41a6d5dd96",size:"s",checked:!this.partialChecked&&this.isChecked,indeterminate:this.partialChecked,onIfxChange:this.handleCheckboxChange,disabled:this.disabled})),(0,s.h)("div",{key:"316f703d55730d34724c8ef8568d55fc69e6815b",class:"tree-item__header",style:{paddingLeft:24*this.level+10+"px"},onClick:this.handleHeaderClick,tabIndex:-1,"aria-disabled":this.disabled?"true":void 0},this.hasChildren&&(0,s.h)("div",{key:"d2a8e5a1a403e6a239056a353d3bc38d209e0907",class:"tree-item__chevron-container",onClick:this.toggleExpand},(0,s.h)("ifx-icon",{key:"ea9ea3c3e9dc083b53faf27a89b73df19d2e68ca",class:"tree-item__chevron "+(this.isExpanded?"chevron-down":"chevron-right"),icon:"chevron-right-16"}),(0,s.h)("div",{key:"14be28eda1a6d823f3416b6fdef0cd17cbc5a39f",class:"tree-item__line"})),(0,s.h)("div",{key:"488409621c1355737f0e5d7f5b90d6b94465cdaa",class:"tree-item__label-icon-container",tabIndex:this.disabled?-1:0,onKeyDown:this.handleKeyDown},(0,s.h)("div",{key:"163c36cdda49d36c94f7c7f18539f8e71bf04ed2",class:"tree-item__icon-container"},this.hasChildren?(0,s.h)(s.F,null,(0,s.h)("ifx-icon",{class:{"icon--hidden":this.isExpanded},icon:"folder-16"}),(0,s.h)("ifx-icon",{class:{"icon--hidden":!this.isExpanded},icon:"folder-open-16"})):(0,s.h)("ifx-icon",{icon:"file-16"})),(0,s.h)("span",{key:"42f0d9e90ae841e206318811c73e54bcf44c3cee",class:"tree-item__label"},(0,s.h)("slot",{key:"a06b08003dbaf058dee39508b193e4a5b94f65a7"}))))),this.isExpanded&&(0,s.h)("div",{key:"fc197474a8d0ba6d16cceede2ebef4c5db296501",class:"tree-item__children"},(0,s.h)("slot",{key:"cda8a8d46c3a59af25371545611bd6c9229be625",name:"children"})))}get host(){return(0,s.g)(this)}static get watchers(){return{expanded:["handleExpandedChange"],disableItem:["handleDisableItemChange"]}}};return x.style='.tree-item{position:relative;cursor:pointer;list-style:none}.tree-item.tree-item--expanded{position:relative}.tree-item.tree-item--has-children{position:relative}.tree-item.tree-item--has-children .tree-item__header>.tree-item__chevron-container{display:flex}.tree-item.tree-item--has-children.tree-item--expanded .tree-item__header>.tree-item__chevron-container::after{display:block}.tree-item--disabled{cursor:not-allowed;pointer-events:none;color:#BFBBBB}.tree-item__content{display:flex;flex-direction:row}.tree-item__content:hover .tree-item__checkbox-container,.tree-item__content:hover .tree-item__header{background-color:#F7F7F7}.tree-item__checkbox-container{position:sticky;left:0;z-index:10;padding:4px;background-color:#FFFFFF}.tree-item__header{flex-grow:1;display:flex;align-items:center;white-space:nowrap;height:20px;padding-top:4px;padding-right:16px;padding-bottom:4px;padding-left:8px}.tree-item__chevron-container{display:none;align-items:center;margin-right:8px;height:20px}.tree-item__chevron-container::after{--height-line-start:28px;display:none;content:"";position:absolute;z-index:1;top:var(--height-line-start);left:auto;margin-left:8px;width:1px;height:calc(100% - var(--height-line-start));background-color:#EEEDED}.tree-item--disabled .tree-item__chevron-container::after{color:#EEEDED}.tree-item__chevron.chevron-down{transform:rotate(90deg)}.tree-item__chevron.chevron-right{transform:rotate(0)}.tree-item__label-icon-container{display:flex;align-items:center}.tree-item__label-icon-container:focus{outline:none}.tree-item__label-icon-container:focus-visible{outline:2px solid #0A8276;outline-offset:2px;border-radius:1px}.tree-item__icon-container{position:relative;width:16px;height:16px}.tree-item__icon-container ifx-icon{position:absolute;left:0;top:0;opacity:1;transition:opacity 0.2s ease-in-out}.tree-item__icon-container ifx-icon.icon--hidden{opacity:0}.tree-item__label{padding-left:8px}.tree-item__children{display:none}.tree-item[aria-expanded=true]>.tree-item__children{display:block}',x})()}}]);