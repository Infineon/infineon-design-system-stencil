{"version":3,"file":"ifx-stepper.entry-C3gYr7lv.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.12.1/node_modules/@infineon/infineon-design-system-stencil/dist/esm/ifx-stepper.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, a as getElement, h } from './index-7C3ykVKu.js';\nimport { i as isNestedInIfxComponent } from './dom-utils-CtINY9El.js';\nimport { d as detectFramework, t as trackComponent } from './tracking-DNHOWgWh.js';\n\nconst stepperCss = () => `.stepper{display:flex;align-items:center}.stepper.compact{align-items:center;gap:8px}.stepper.compact.compact-right{flex-direction:row-reverse;text-align:left}.stepper.compact .stepper-wrapper{width:unset;flex-direction:column}.stepper.vertical{height:100%}.stepper.vertical .stepper-wrapper{flex-direction:column;width:unset;height:100%}.stepper-wrapper{display:flex;flex-direction:row;width:100%}.stepper-wrapper ::slotted(*){display:flex;flex:1;justify-content:flex-start}.stepper-progress{display:flex;justify-content:center;align-items:center;font:600 0.875rem/1.25rem \"Source Sans 3\";min-width:56px;height:56px;border-radius:9999px;background:conic-gradient(#0A8276 var(--pb, 0%), #BFBBBB 0)}.stepper-progress .progress-detail{display:flex;justify-content:center;align-items:center;text-align:center;width:48px;height:48px;border-radius:9999px;background:white}`;\n\nconst Stepper = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ifxChange = createEvent(this, \"ifxChange\", 7);\n    }\n    get el() { return getElement(this); }\n    ifxChange;\n    activeStep = 1;\n    indicatorPosition = \"left\";\n    showStepNumber = false;\n    variant = \"default\";\n    ariaLabel;\n    ariaCurrent;\n    stepsCount;\n    shouldEmitEvent = true;\n    emittedByClick = false;\n    onStepChange(event) {\n        const steps = this.getSteps();\n        const previousActiveStep = steps[event.detail.previousActiveStep - 1];\n        if (previousActiveStep && !previousActiveStep.complete) {\n            previousActiveStep.setAttribute(\"error\", \"true\");\n        }\n    }\n    handleActiveStep(newStep, oldStep) {\n        const steps = this.getSteps();\n        if (!this.shouldEmitEvent) {\n            this.shouldEmitEvent = true;\n            return;\n        }\n        // Skipping until the enabled step is found\n        if (steps[newStep - 1]) {\n            if (!steps[newStep - 1].disabled) {\n                this.emitIfxChange(newStep, oldStep);\n            }\n            else {\n                // If coming from higher step number to the lower step number\n                if (newStep < oldStep) {\n                    let i = newStep;\n                    this.shouldEmitEvent = false;\n                    while (i >= 1 && steps[i - 1].disabled)\n                        i--;\n                    // if all the steps are disabled no change.\n                    if (i < 1) {\n                        this.activeStep = oldStep;\n                    }\n                    else {\n                        this.emitIfxChange(i, oldStep);\n                        this.activeStep = i;\n                    }\n                }\n                // If coming from lower step number to the higher step number\n                else {\n                    let i = newStep;\n                    this.shouldEmitEvent = false;\n                    while (i <= this.stepsCount && steps[i - 1].disabled)\n                        i++;\n                    if (i > this.stepsCount) {\n                        this.activeStep = oldStep;\n                    }\n                    else {\n                        this.emitIfxChange(i, oldStep);\n                        this.activeStep = i;\n                    }\n                }\n            }\n        }\n    }\n    emitIfxChange(activeStep, previousActiveStep) {\n        this.ifxChange.emit({\n            activeStep: activeStep,\n            previousActiveStep: previousActiveStep,\n            totalSteps: this.stepsCount,\n            emittedByClick: this.emittedByClick,\n        });\n        this.emittedByClick = false;\n    }\n    getSteps() {\n        const steps = this.el.querySelectorAll(\"ifx-step\");\n        return steps;\n    }\n    addStepIdsToStepsAndCountSteps() {\n        const steps = this.getSteps();\n        steps[steps.length - 1].lastStep = true;\n        for (let i = 0; i < steps.length; i++) {\n            steps[i].stepId = i + 1;\n        }\n        this.stepsCount = steps.length;\n    }\n    setActiveStep(stepId, setByClick = false) {\n        this.emittedByClick = setByClick;\n        this.activeStep = stepId;\n    }\n    setStepsBeforeActiveToComplete() {\n        const steps = this.getSteps();\n        steps.forEach((step, stepId) => {\n            if (stepId + 1 < this.activeStep)\n                step.complete = true;\n        });\n    }\n    syncIfxSteps() {\n        const steps = this.getSteps();\n        for (let i = 0; i < steps.length; i++) {\n            const stepperState = {\n                activeStep: this.activeStep,\n                indicatorPosition: this.indicatorPosition !== \"right\" ? \"left\" : \"right\",\n                showStepNumber: this.showStepNumber,\n                variant: this.variant !== \"compact\" && this.variant !== \"vertical\"\n                    ? \"default\"\n                    : this.variant,\n                setActiveStep: this.setActiveStep.bind(this),\n            };\n            steps[i].stepperState = stepperState;\n        }\n    }\n    setInitialActiveStep() {\n        this.activeStep = Math.max(1, Math.min(this.stepsCount + (this.variant !== \"compact\" ? 1 : 0), this.activeStep));\n    }\n    componentWillLoad() {\n        this.addStepIdsToStepsAndCountSteps();\n        this.setInitialActiveStep();\n        this.setStepsBeforeActiveToComplete();\n    }\n    async componentDidLoad() {\n        if (!isNestedInIfxComponent(this.el)) {\n            const framework = detectFramework();\n            trackComponent(\"ifx-stepper\", await framework);\n        }\n        this.syncIfxSteps();\n    }\n    componentWillUpdate() {\n        this.syncIfxSteps();\n    }\n    render() {\n        return (h(\"div\", { key: 'a54d5abf2c578e6fc53223fe9b6110641eab6295', \"aria-label\": this.ariaLabel, \"aria-current\": this.ariaCurrent, role: \"navigation\", class: `stepper ${this.variant !== \"compact\" && this.variant !== \"vertical\" ? \"default\" : this.variant} ${this.variant === \"compact\" ? \"compact-\" + this.indicatorPosition : \"\"}` }, \n        /* Progress bar for compact variant. */\n        this.variant === \"compact\" && (h(\"div\", { key: '7706975eceb8f327c4908ed5c9e0c4f90d521fa9', class: \"stepper-progress\" }, h(\"div\", { key: 'ed968017b2edc088c3bf2b2717fd3eb079261ebc', class: \"progress-detail\" }, `${Math.min(this.activeStep, this.stepsCount)} of ${this.stepsCount}`))), h(\"div\", { key: '0e6aa2ec7fc4015035620018f4d2445da14de3fc', class: `stepper-wrapper` }, h(\"slot\", { key: 'c7f83b11954ee4cdd2b078aa9e26901f319e1e28' }))));\n    }\n    componentDidRender() {\n        /* Updating progress bar in compact version. */\n        if (this.variant == \"compact\") {\n            const progressBar = this.el.shadowRoot.querySelector(\".stepper-progress\");\n            progressBar.style.setProperty(\"--pb\", `${(this.activeStep / this.stepsCount) * 100}%`);\n        }\n    }\n    static get watchers() { return {\n        \"activeStep\": [{\n                \"handleActiveStep\": 0\n            }]\n    }; }\n};\nStepper.style = stepperCss();\n\nexport { Stepper as ifx_stepper };\n//# sourceMappingURL=ifx-stepper.entry.js.map\n\n//# sourceMappingURL=ifx-stepper.entry.js.map"],"names":["stepperCss","Stepper","hostRef","registerInstance","createEvent","getElement","event","previousActiveStep","newStep","oldStep","steps","i","activeStep","stepId","setByClick","step","stepperState","isNestedInIfxComponent","framework","detectFramework","trackComponent","h"],"mappings":"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","x_google_ignoreList":[0]}