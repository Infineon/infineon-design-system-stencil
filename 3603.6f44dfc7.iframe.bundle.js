"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[3603],{"./dist/esm/ifx-list.entry.js"(__unused_webpack_module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.ifx_list=void 0;var _indexDtIEDtZ=__webpack_require__("./dist/esm/index-DtIEDtZ8.js");const List=class{constructor(hostRef){(0,_indexDtIEDtZ.r)(this,hostRef),this.ifxListUpdate=(0,_indexDtIEDtZ.c)(this,"ifxListUpdate",7),this.expanded=!1,this.showMore=!1,this.selectedCount=0,this.totalItems=0,this.name="",this.maxVisibleItems=6,this.type="checkbox",this.internalResetTrigger=!1,this.handleMutation=()=>{const newTotalItems=this.getTotalItems();newTotalItems!==this.totalItems&&(this.totalItems=newTotalItems,this.handleCheckedChange()),this.updateListEntriesType(this.type)},this.toggleList=event=>{event.stopPropagation(),this.expanded=!this.expanded},this.toggleShowMore=event=>{event.stopPropagation(),this.showMore=!this.showMore},this.handleCheckedChange=event=>{if(event&&"radio-button"===event.detail.type&&event.detail.value){Array.from(this.el.querySelectorAll("ifx-list-entry")).filter(entry=>"radio-button"===entry.getAttribute("type")&&entry!==event.target).forEach(radioButton=>radioButton.setAttribute("value","false"))}const selectedItems=this.getSelectedItems(this.el);this.selectedCount=selectedItems.length,this.ifxListUpdate.emit({name:this.name,selectedItems})}}handleTypeChange(newType){this.updateListEntriesType(newType)}resetTriggerChanged(newValue){newValue&&(this.reset(),this.resetTrigger=!1)}componentWillLoad(){this.setupListenersAndObservers(),this.initializeList()}disconnectedCallback(){this.cleanupListenersAndObservers()}reset(){this.resetListEntries(),this.expanded=!1,this.showMore=!1,this.selectedCount=0,this.ifxListUpdate.emit({name:this.name,selectedItems:[]})}render(){return this.renderList()}setupListenersAndObservers(){this.el.addEventListener("ifxListEntryChange",this.handleCheckedChange),this.observer=new MutationObserver(this.handleMutation),this.observer.observe(this.el,{childList:!0})}cleanupListenersAndObservers(){this.el.removeEventListener("ifxListEntryChange",this.handleCheckedChange),this.observer.disconnect()}initializeList(){this.selectedCount=this.getSelectedItems(this.el).length,this.totalItems=this.getTotalItems(),this.updateListEntriesType(this.type),this.checkRadioButtonConstraint()}updateListEntriesType(newType){Array.from(this.el.querySelectorAll("ifx-list-entry")).forEach(entry=>entry.setAttribute("type",newType))}resetListEntries(){Array.from(this.el.querySelectorAll("ifx-list-entry")).forEach(entry=>{entry.value=!1,entry.setAttribute("value","false")})}checkRadioButtonConstraint(){"radio-button"===this.type&&this.selectedCount>1&&(this.resetListEntries(),this.selectedCount=0)}getTotalItems(){return this.el.querySelectorAll("ifx-list-entry").length}getSelectedItems(el){return Array.from(el.querySelectorAll("ifx-list-entry")).filter(entry=>"true"===entry.getAttribute("value")).map(entry=>({label:entry.getAttribute("label"),value:entry.getAttribute("value"),type:entry.getAttribute("type"),element:entry}))}renderList(){const listEntries=Array.from(this.el.querySelectorAll("ifx-list-entry")),visibleItems=this.showMore?listEntries:listEntries.slice(0,this.maxVisibleItems),remainingItems=listEntries.length-visibleItems.length;return(0,_indexDtIEDtZ.h)("div",{class:"list-wrapper"},visibleItems.map(entry=>(0,_indexDtIEDtZ.h)("slot",{name:entry.getAttribute("slot")})),(remainingItems>0||this.showMore)&&(0,_indexDtIEDtZ.h)("div",{class:"link-wrapper",onClick:this.toggleShowMore},(0,_indexDtIEDtZ.h)("ifx-icon",{key:this.showMore.toString(),icon:this.showMore?"chevron-up-16":"chevron-down-16"}),(0,_indexDtIEDtZ.h)("ifx-link",{size:"s",href:"",target:"_blank",variant:"underlined",disabled:!1},this.showMore?"Show less":`Show ${remainingItems} more`)))}get el(){return(0,_indexDtIEDtZ.a)(this)}static get watchers(){return{type:["handleTypeChange"],resetTrigger:["resetTriggerChanged"]}}};exports.ifx_list=List,List.style=".link-wrapper{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:8px}"}}]);