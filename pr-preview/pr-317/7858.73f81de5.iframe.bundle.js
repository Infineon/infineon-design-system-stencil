"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[7858],{"./dist/esm/ifx-multi-select-input.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ifx_multi_select_input:()=>MultiSelectInput});var _index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-ae19f8dd.js");const MultiSelectInput=class{constructor(hostRef){(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.addActiveMenuItem=e=>{const target=this.getClickedElement(e.composedPath()[0]),isCheckable=e.target.checkable;target&&(isCheckable?this.toggleCheckbox(target):(this.removeActiveMenuItem(),this.handleClassList(target,"add","active"),this.toggleDropdownMenu(e)))},this.Placeholder="",this.isEmpty=!0,this.isOverflowing=!1}handleOutsideClick(event){event.composedPath().includes(this.el)||this.closeDropdownMenu()}handleButtonClose(el){var _a,_b;const target=null===(_a=el.detail)||void 0===_a?void 0:_a.getAttribute("target"),dropdownMenu=this.el.querySelectorAll("ifx-dropdown-item"),selectedItems=this.el.shadowRoot.querySelector(".dropdown").querySelectorAll("ifx-multi-select-input-item");for(let i=0;i<dropdownMenu.length;i++)dropdownMenu[i].index===Number(target)&&(dropdownMenu[i].shadowRoot.querySelector("ifx-checkbox").checked=!1);if(null===(_b=el.detail)||void 0===_b||_b.remove(),el&&el.check)for(let i=0;i<selectedItems.length;i++){let selectedItemIndex=selectedItems[i].getAttribute("target");Number(el.target.index)===Number(selectedItemIndex)&&selectedItems[i].remove()}this.togglePlaceHolder(),this.toggleSlideButtons()}togglePlaceHolder(){const wrapperItems=this.getMultiSelectFieldWrapper().querySelector("ifx-multi-select-input-item");wrapperItems&&this.isEmpty?this.isEmpty=!1:wrapperItems||this.isEmpty||(this.isEmpty=!0)}toggleSlideButtons(){const multiSelectElement=this.getMultiSelectFieldWrapper();this.isOverflown(multiSelectElement)?this.isOverflowing=!0:this.isOverflowing&&(this.isOverflowing=!1)}getDropdownMenu(){let dropdownMenuComponent=this.el.querySelector("ifx-dropdown-menu");if(dropdownMenuComponent){dropdownMenuComponent=this.el.querySelector("ifx-dropdown-menu").shadowRoot;return dropdownMenuComponent.querySelector(".dropdown-menu")}}getDropdownWrapper(){return this.el.shadowRoot.querySelector(".dropdown")}getDropdownItems(){return this.el.querySelectorAll("ifx-dropdown-item")}handleClassList(el,type,className){null==el||el.classList[type](className)}toggleDropdownMenu(e){if(e.composedPath()[0].closest("span"))return;const multiSelectContainer=this.getMultiSelectFieldContainer(),dropdownMenu=this.getDropdownMenu(),dropdownWrapper=this.getDropdownWrapper();this.handleClassList(dropdownMenu,"toggle","show"),this.handleClassList(dropdownWrapper,"toggle","show"),this.handleClassList(multiSelectContainer,"toggle","show")}closeDropdownMenu(){const dropdownMenu=this.getDropdownMenu(),dropdownWrapper=this.getDropdownWrapper(),multiSelectContainer=this.getMultiSelectFieldContainer();this.handleClassList(dropdownMenu,"remove","show"),this.handleClassList(dropdownWrapper,"remove","show"),this.handleClassList(multiSelectContainer,"remove","show")}removeActiveMenuItem(){const dropdownMenuItems=this.getDropdownItems();for(let i=0;i<dropdownMenuItems.length;i++)this.handleClassList(dropdownMenuItems[i].shadowRoot.querySelector("a"),"remove","active")}toggleCheckbox(target){target.querySelector("ifx-checkbox").checked=!target.querySelector("ifx-checkbox").checked}getClickedElement(target){return(target instanceof SVGElement||!target.className.includes("dropdown-menu")&&!target.className.includes("form-check-input"))&&target.closest(".dropdown-item")}getMultiSelectFieldWrapper(){return this.el.shadowRoot.querySelector(".multiSelectInput__content")}getMultiSelectFieldContainer(){return this.el.shadowRoot.querySelector(".multiSelectInput__container")}getMultiSelectFieldIconWrapper(){return this.el.shadowRoot.querySelector(".multiSelectInput__container").querySelector(".multiSelectInput__icon-wrapper")}addSelectItemsToArray(){var menuItems=this.getMultiSelectFieldWrapper().querySelectorAll("ifx-multi-select-input-item");return Array.from(menuItems).reduce((function(acc,item){return acc+item.offsetWidth}),0)}isOverflown(element){return element.scrollWidth>element.clientWidth}addSelectSlider(direction){var wrapper=this.getMultiSelectFieldWrapper(),menuItems=wrapper.querySelectorAll("ifx-multi-select-input-item"),totalWidth=Array.from(menuItems).reduce((function(acc,item){return acc+item.offsetWidth}),0);"left"===direction?wrapper.scrollLeft-=totalWidth:"right"===direction&&(wrapper.scrollLeft+=totalWidth)}async addItemValueToTextField(value){var _a;const multiSelectElement=this.getMultiSelectFieldWrapper(),newItem=document.createElement("ifx-multi-select-input-item");newItem.setAttribute("target",null===(_a=value.target)||void 0===_a?void 0:_a.index),newItem.setAttribute("content",value.value),multiSelectElement.append(newItem),setTimeout((()=>{this.toggleSlideButtons()}),20)}addEventListeners(){const dropdownMenu=this.getDropdownMenu();let dropdownMenuComponent=this.el.querySelector("ifx-dropdown-menu");document.addEventListener("click",this.handleOutsideClick.bind(this)),dropdownMenu.addEventListener("click",this.addActiveMenuItem),dropdownMenuComponent.addEventListener("selectValues",(event=>{this.addItemValueToTextField(event.detail),this.handleButtonClose(event.detail)}))}componentDidLoad(){this.getMultiSelectFieldContainer().addEventListener("click",this.toggleDropdownMenu.bind(this)),this.addEventListeners()}render(){return(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"multiSelect dropdown"},(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"multiSelectInput__container",tabindex:1},this.isOverflowing&&(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"prev",onClick:()=>this.addSelectSlider("left")},(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-icon",{icon:"chevron-left-16"})),this.isOverflowing&&(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"next",onClick:()=>this.addSelectSlider("right")},(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-icon",{icon:"chevron-right-16"})),(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"multiSelectInput__wrapper"},(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"multiSelectInput__content"},this.isEmpty&&(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",null,this.Placeholder))),(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"multiSelectInput__icon-wrapper"},(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-icon",{icon:"chevron-down-16"}))),(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{name:"menu"}))}get el(){return(0,_index_ae19f8dd_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};MultiSelectInput.style=".multiSelect.dropdown{box-sizing:border-box;width:300px;border:1px solid transparent}.multiSelect.dropdown:active{outline:none;border:1px solid #0A8276}.multiSelectInput__container{position:relative;display:flex;flex-direction:column;align-items:flex-start;padding:0px;width:100%;border:1px solid #8D8786;flex:none;order:0;align-self:stretch;flex-grow:0}.multiSelectInput__container:focus:not(.success,:active){outline:2px solid #0A8276;border:1px solid #3C3A39;border-radius:1px;outline-offset:2px}.multiSelectInput__container:hover:not(:disabled,.success){border:1px solid #3C3A39;cursor:pointer}.multiSelectInput__container.success{border:1px solid #4CA460}.multiSelectInput__container.success:focus{outline:none}.multiSelectInput__container .prev{position:absolute;top:7px;left:5px;z-index:1000;cursor:pointer}.multiSelectInput__container .prev ifx-icon svg{width:10px}.multiSelectInput__container .next{position:absolute;top:7px;right:40px;z-index:1000;cursor:pointer}.multiSelectInput__container .next ifx-icon svg{width:10px}.multiSelectInput__container .multiSelectInput__icon-wrapper:hover{cursor:pointer}.multiSelectInput__container.show .multiSelectInput__icon-wrapper ifx-icon{transition:0.3s;transform:rotate(180deg)}.multiSelectInput__container .multiSelectInput__icon-wrapper ifx-icon{position:absolute;top:12px;right:17px;transition:0.3s}.multiSelectInput__container .multiSelectInput__wrapper{position:relative;box-sizing:border-box;display:flex;flex-direction:row;align-items:center;padding:0px;height:40px;left:20px;width:220px;background-color:#ffffff;color:#1D1D1D;border-radius:1px;flex:none;flex-grow:0}.multiSelectInput__container .multiSelectInput__wrapper .multiSelectInput__content{box-sizing:border-box;display:flex;flex-direction:row;width:220px;gap:6px;font-size:14px;overflow:hidden}.multiSelectInput__container .multiSelectInput__wrapper .multiSelectInput__content span{font-style:normal;font-weight:400;font-size:16px;line-height:24px;pointer-events:none;color:#8D8786;flex:none;order:1;flex-grow:1}.multiSelectInput__container .textInput__bottom-wrapper-error{font-style:normal;font-weight:400;font-size:12px;line-height:16px;letter-spacing:0.2px;color:#CD002F;flex:none;order:1;align-self:stretch;flex-grow:0}"}}]);