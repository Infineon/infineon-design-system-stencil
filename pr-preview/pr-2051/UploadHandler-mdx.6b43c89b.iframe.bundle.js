(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[2086,9977],{"../../node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>useMDXComponents,x:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const emptyComponents={},MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyComponents);function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function(){return"function"==typeof components?components(contextComponents):{...contextComponents,...components}},[contextComponents,components])}function MDXProvider(properties){let allComponents;return allComponents=properties.disableParentContext?"function"==typeof properties.components?properties.components(emptyComponents):properties.components||emptyComponents:useMDXComponents(properties.components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},properties.children)}},"../../node_modules/@storybook/blocks/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/blocks/dist sync recursive",module.exports=webpackEmptyContext},"../../node_modules/@storybook/core/dist/components sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/core/dist/components sync recursive",module.exports=webpackEmptyContext},"../../node_modules/@storybook/core/dist/theming sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/core/dist/theming sync recursive",module.exports=webpackEmptyContext},"./src/components/file-upload/UploadHandler.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("../../node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_home_runner_work_infineon_design_system_stencil_infineon_design_system_stencil_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs"),_file_upload_stories__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/file-upload/file-upload.stories.ts");function _createMdxContent(props){const _components={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,_home_runner_work_infineon_design_system_stencil_infineon_design_system_stencil_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.W8,{of:_file_upload_stories__WEBPACK_IMPORTED_MODULE_4__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"technical-integration-with-upload-handler",children:"Technical Integration with Upload Handler"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["This document provides advanced usage patterns and integration examples for the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"<ifx-file-upload>"})," web component. It focuses on how to use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," prop for custom upload logic, track upload progress, and hook into related events."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.blockquote,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Everything related to UI, UX, error display, file validation, and retry logic is fully handled by the component. This guide only covers what developers need to implement themselves for real upload functionality."}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.h2,{id:"purpose-of-uploadhandler",children:["Purpose of ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," is an optional function that lets you control how files are uploaded. It's ideal if you need to:"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Upload files to a custom backend"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Show live progress using a progress bar and uploaded size text"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Handle success and error states manually"}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"function-signature",children:"Function signature"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-ts",children:"uploadHandler?: (file: File, onProgress?: (progress: number) => void) => Promise<void>;\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"file"}),": The selected file to upload"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"onProgress"}),": (Optional) Callback to report percentage (0–100)"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["Returns a ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Promise"})," that resolves when the upload is complete"]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["If you do not call ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"onProgress"}),", a small fake progress is shown automatically."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.blockquote,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["The component will automatically show a progress bar and a readable label such as ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"200 KB / 400 KB uploaded"}),", calculated based on the file size and the reported progress percentage. You only need to call ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"onProgress(percent)"})," — formatting and rendering are handled automatically."]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.h2,{id:"what-uploadhandler-does--and-doesnt",children:["What ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," does – and doesn't"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"The component takes care of all file validation before calling your handler. Here's a breakdown:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.table,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.thead,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:"Feature"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:"Handled by component"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.th,{children:["To do in ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tbody,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Multiple file selection"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"❌ No"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:["Maximum file count (",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"maxFiles"}),")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"❌ No"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:["Max file size (",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"maxFileSizeMB"}),")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"❌ No"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Allowed file types"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"❌ No"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Error display and feedback"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"❌ No"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Trigger actual upload"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ After validation"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ Yes — start upload and resolve or reject"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Mark upload as successful"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ On promise resolve"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:["✅ Yes — call ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"resolve()"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Mark upload as failed"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ On promise reject"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:["✅ Yes — call ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"reject()"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Show upload progress"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"✅ If progress is given"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:["✅ Optional — call ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"onProgress(percent)"})]})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"If a file is invalid (e.g., wrong type or too large), the component will not call your handler."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.h2,{id:"example-real-upload-with-xmlhttprequest",children:["Example: Real upload with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"XMLHttpRequest"})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"const uploader = document.getElementById('uploader');\n\nuploader.uploadHandler = (file, onProgress) => {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', '/upload');\n\n    xhr.upload.addEventListener('progress', (event) => {\n      if (event.lengthComputable) {\n        const percent = Math.round((event.loaded / event.total) * 100);\n        onProgress?.(percent);\n      }\n    });\n\n    xhr.onload = () => {\n      xhr.status < 300 ? resolve() : reject();\n    };\n\n    xhr.onerror = () => reject();\n\n    const formData = new FormData();\n    formData.append('file', file);\n    xhr.send(formData);\n  });\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This example shows how to perform an actual upload with progress tracking."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"retry-on-failure",children:"Retry on Failure"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"If an upload fails (for example, due to a network error or server issue), the component will:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Display the file with a visual error state"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Show a retry button next to the failed file"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["Emit a custom event ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadRetry"})," when retry is triggered"]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Clicking the retry button automatically:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["Reinvokes the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," with the same file"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Clears the error state"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"Resets the progress to start a new upload attempt"}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["No changes are required to your ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," function. It will be called again as if the file was just added."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-ts",children:"document.querySelector('ifx-file-upload')?.addEventListener('ifxFileUploadRetry', (e) => {\n  console.log('Retry requested for file:', e.detail.file);\n});\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This event can be useful to track retry attempts, report metrics, or handle partial state cleanup if needed."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.blockquote,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Retry is handled entirely by the component UI and logic. Your upload handler only needs to support being called more than once with the same file."}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"related-events",children:"Related events"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.table,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.thead,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:"Event"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.th,{children:"Description"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tbody,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadStart"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Fired when upload begins"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.td,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadProgress"}),"*"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.em,{children:"(internal via progress bar only)"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadComplete"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Fired when a file has been fully uploaded"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadError"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Fired when an error occurs (e.g., rejected file, server error)"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadAbort"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Fired when the user cancels the upload"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.tr,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ifxFileUploadRetry"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.td,{children:"Fired when a retry is triggered on a failed upload"})]})]})]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.hr,{}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"notes",children:"Notes"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"All uploads are triggered automatically after file validation."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["You can combine ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," with validation props like ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"maxFiles"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"maxFileSizeMB"}),", and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"allowedFileTypes"}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.li,{children:"The upload UI is automatically updated by the component; no manual DOM changes are needed."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"uploadHandler"})," only needs to focus on uploading a single valid file."]}),"\n"]})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_home_runner_work_infineon_design_system_stencil_infineon_design_system_stencil_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim_mjs__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}},"./src/components/file-upload/file-upload.stories.ts":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.UploadStatesDemo=exports.UploadRequiredError=exports.UploadAreaDragDrop=exports.Default=void 0;var _addonActions=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/index.js");const hideAllControlsExcept=allowedKeys=>{const allProps=["dragAndDrop","label","required","labelRequiredError","disabled","maxFiles","maxFileSizeMB","allowedFileTypes","additionalAllowedFileTypes","allowAnyFileType","allowedFileExtensions","labelBrowseFiles","labelDragAndDrop","labelUploadedFilesHeading","labelFileTooLarge","labelUnsupportedFileType","labelUploaded","labelSupportedFormatsTemplate","labelFileSingular","labelFilePlural","labelMaxFilesInfo","labelMaxFilesExceeded","labelUploadFailed","ariaLabelBrowseFiles","ariaLabelDropzone","ariaLabelFileInput","ariaLabelRemoveFile","ariaLabelCancelUpload","ariaLabelRetryUpload","ariaLabelUploadingStatus","ariaLabelUploadedStatus","ariaLabelUploadFailedStatus"],argTypes={};for(const prop of allProps)allowedKeys.includes(prop)||(argTypes[prop]={table:{disable:!0}});return argTypes},disableCustomEventControls={ifxFileUploadAdd:{table:{disable:!0}},ifxFileUploadRemove:{table:{disable:!0}},ifxFileUploadChange:{table:{disable:!0}},ifxFileUploadError:{table:{disable:!0}},ifxFileUploadInvalid:{table:{disable:!0}},ifxFileUploadStart:{table:{disable:!0}},ifxFileUploadComplete:{table:{disable:!0}},ifxFileUploadAllComplete:{table:{disable:!0}},ifxFileUploadAbort:{table:{disable:!0}},ifxFileUploadDrop:{table:{disable:!0}},ifxFileUploadClick:{table:{disable:!0}},ifxFileUploadMaxFilesExceeded:{table:{disable:!0}},ifxFileUploadValidation:{table:{disable:!0}},ifxFileUploadRetry:{table:{disable:!0}}};exports.default={title:"Components/File Upload",tags:["autodocs"],parameters:{controls:{expanded:!0},docs:{description:{component:"Upload component with different interaction styles: button or drag-and-drop area."}}},argTypes:{dragAndDrop:{description:"Enables drag-and-drop upload area.",control:"boolean",table:{category:"Function",defaultValue:{summary:"false"}}},required:{description:"Marks the upload as required.",control:"boolean",table:{category:"Function",defaultValue:{summary:"false"}}},disabled:{description:"Disables the upload input.",control:"boolean",table:{category:"Function",defaultValue:{summary:"false"}}},maxFileSizeMB:{description:"Maximum file size in MB.",control:"number",table:{category:"Function",defaultValue:{summary:"7"}}},allowedFileTypes:{control:{type:"check"},options:["jpg","png","pdf","mov","mp3","mp4"],description:"Select one or more allowed file extensions. Internally mapped to MIME types. If not set and no other file restrictions are defined, the default values (jpg, jpeg, png, pdf, mov, mp3, mp4) are used for validation.",table:{category:"Function"}},additionalAllowedFileTypes:{description:"Custom MIME types (comma-separated).",control:"text",table:{category:"Function"}},allowAnyFileType:{description:"When true, allows any file type to be uploaded (overrides all other file type restrictions).",control:"boolean",table:{category:"Function",defaultValue:{summary:"false"}}},allowedFileExtensions:{description:'Custom file extensions to allow. Recommended format: "xml,asc,cfg" (without dots). Also accepts ".xml,.asc,.cfg" (with dots). Do not use wildcards like "*.xml".',control:"text",table:{category:"Function"}},maxFiles:{description:"Maximum number of allowed files.",control:"number",table:{category:"Function"}},label:{control:"text",description:"Main label shown above input.",table:{category:"Label"}},labelRequiredError:{control:"text",description:"Shown when required and no file selected.",table:{category:"Label"}},labelBrowseFiles:{control:"text",table:{category:"Label"}},labelDragAndDrop:{control:"text",table:{category:"Label"}},labelUploadedFilesHeading:{control:"text",table:{category:"Label"}},labelFileTooLarge:{control:"text",table:{category:"Label"}},labelUnsupportedFileType:{control:"text",table:{category:"Label"}},labelUploaded:{control:"text",table:{category:"Label"}},labelSupportedFormatsTemplate:{control:"text",table:{category:"Label"}},labelFileSingular:{control:"text",table:{category:"Label"}},labelFilePlural:{control:"text",table:{category:"Label"}},labelMaxFilesInfo:{control:"text",table:{category:"Label"}},labelMaxFilesExceeded:{control:"text",table:{category:"Label"}},labelUploadFailed:{control:"text",table:{category:"Label"}},ariaLabelBrowseFiles:{control:"text",table:{category:"Aria Labels"}},ariaLabelDropzone:{control:"text",table:{category:"Aria Labels"}},ariaLabelFileInput:{control:"text",table:{category:"Aria Labels"}},ariaLabelRemoveFile:{control:"text",table:{category:"Aria Labels"}},ariaLabelCancelUpload:{control:"text",table:{category:"Aria Labels"}},ariaLabelRetryUpload:{control:"text",table:{category:"Aria Labels"}},ariaLabelUploadingStatus:{control:"text",table:{category:"Aria Labels"}},ariaLabelUploadedStatus:{control:"text",table:{category:"Aria Labels"}},ariaLabelUploadFailedStatus:{control:"text",table:{category:"Aria Labels"}},ifxFileUploadAdd:{action:"ifxFileUploadAdd",table:{category:"Custom Events"},description:"Triggered when valid files are added (via browse or drop)."},ifxFileUploadRemove:{action:"ifxFileUploadRemove",table:{category:"Custom Events"},description:"Fired when a user removes a file from the list."},ifxFileUploadChange:{action:"ifxFileUploadChange",table:{category:"Custom Events"},description:"Fired whenever the file list changes (add, remove, retry)."},ifxFileUploadError:{action:"ifxFileUploadError",table:{category:"Custom Events"},description:"Fired when a file is rejected or an upload fails."},ifxFileUploadInvalid:{action:"ifxFileUploadInvalid",table:{category:"Custom Events"},description:"Fired for invalid files (e.g., wrong type or size)."},ifxFileUploadStart:{action:"ifxFileUploadStart",table:{category:"Custom Events"},description:"Fired when an upload starts for a file."},ifxFileUploadComplete:{action:"ifxFileUploadComplete",table:{category:"Custom Events"},description:"Fired when a single file upload finishes successfully."},ifxFileUploadAllComplete:{action:"ifxFileUploadAllComplete",table:{category:"Custom Events"},description:"Fired when all current uploads have completed."},ifxFileUploadAbort:{action:"ifxFileUploadAbort",table:{category:"Custom Events"},description:"Fired when a user cancels an in-progress upload."},ifxFileUploadDrop:{action:"ifxFileUploadDrop",table:{category:"Custom Events"},description:"Fired when files are dropped via drag-and-drop."},ifxFileUploadClick:{action:"ifxFileUploadClick",table:{category:"Custom Events"},description:"Fired when the upload button or dropzone is clicked."},ifxFileUploadMaxFilesExceeded:{action:"ifxFileUploadMaxFilesExceeded",table:{category:"Custom Events"},description:"Fired when the selected files exceed the maxFiles limit."},ifxFileUploadValidation:{action:"ifxFileUploadValidation",table:{category:"Custom Events"},description:"Fired after required validation is checked."},ifxFileUploadRetry:{action:"ifxFileUploadRetry",table:{category:"Custom Events"},description:"Fired when the retry button is clicked for a failed upload."}}};const BaseTemplate=args=>{const el=document.createElement("ifx-file-upload");args.dragAndDrop&&el.setAttribute("drag-and-drop",""),args.allowAnyFileType&&el.setAttribute("allow-any-file-type",""),el.setAttribute("max-file-size-m-b",args.maxFileSizeMB);const mappedTypes=(Array.isArray(args.allowedFileTypes)?args.allowedFileTypes:args.allowedFileTypes?.split(",")||[]).flatMap(type=>"jpg"===type?["jpg","jpeg"]:[type]),uniqueTypes=Array.from(new Set(mappedTypes));if(el.setAttribute("allowed-file-types",uniqueTypes.join(",")),args.additionalAllowedFileTypes){const value=Array.isArray(args.additionalAllowedFileTypes)?args.additionalAllowedFileTypes.join(","):args.additionalAllowedFileTypes;el.setAttribute("additional-allowed-file-types",value)}if(args.allowedFileExtensions){const value=Array.isArray(args.allowedFileExtensions)?args.allowedFileExtensions.join(","):args.allowedFileExtensions;el.setAttribute("allowed-file-extensions",value)}return void 0!==args.maxFiles&&null!==args.maxFiles&&el.setAttribute("max-files",String(args.maxFiles)),args.required?el.setAttribute("required",""):el.removeAttribute("required"),args.disabled?el.setAttribute("disabled",""):el.removeAttribute("disabled"),el.setAttribute("label",args.label),el.setAttribute("label-required-error",args.labelRequiredError),el.setAttribute("label-browse-files",args.labelBrowseFiles),el.setAttribute("label-drag-and-drop",args.labelDragAndDrop),el.setAttribute("label-uploaded-files-heading",args.labelUploadedFilesHeading),el.setAttribute("label-file-too-large",args.labelFileTooLarge),el.setAttribute("label-unsupported-file-type",args.labelUnsupportedFileType),el.setAttribute("label-uploaded",args.labelUploaded),el.setAttribute("label-supported-formats-template",args.labelSupportedFormatsTemplate),el.setAttribute("label-file-singular",args.labelFileSingular),el.setAttribute("label-file-plural",args.labelFilePlural),el.setAttribute("label-max-files-info",args.labelMaxFilesInfo),el.setAttribute("label-max-files-exceeded",args.labelMaxFilesExceeded),el.setAttribute("label-upload-failed",args.labelUploadFailed),el.setAttribute("aria-label-browse-files",args.ariaLabelBrowseFiles),el.setAttribute("aria-label-dropzone",args.ariaLabelDropzone),el.setAttribute("aria-label-file-input",args.ariaLabelFileInput),el.setAttribute("aria-label-remove-file",args.ariaLabelRemoveFile),el.setAttribute("aria-label-cancel-upload",args.ariaLabelCancelUpload),el.setAttribute("aria-label-retry-upload",args.ariaLabelRetryUpload),el.setAttribute("aria-label-uploading-status",args.ariaLabelUploadingStatus),el.setAttribute("aria-label-uploaded-status",args.ariaLabelUploadedStatus),el.setAttribute("aria-label-upload-failed-status",args.ariaLabelUploadFailedStatus),el.addEventListener("ifxFileUploadAdd",(0,_addonActions.action)("ifxFileUploadAdd")),el.addEventListener("ifxFileUploadRemove",(0,_addonActions.action)("ifxFileUploadRemove")),el.addEventListener("ifxFileUploadChange",(0,_addonActions.action)("ifxFileUploadChange")),el.addEventListener("ifxFileUploadError",(0,_addonActions.action)("ifxFileUploadError")),el.addEventListener("ifxFileUploadInvalid",(0,_addonActions.action)("ifxFileUploadInvalid")),el.addEventListener("ifxFileUploadStart",(0,_addonActions.action)("ifxFileUploadStart")),el.addEventListener("ifxFileUploadComplete",(0,_addonActions.action)("ifxFileUploadComplete")),el.addEventListener("ifxFileUploadAbort",(0,_addonActions.action)("ifxFileUploadAbort")),el.addEventListener("ifxFileUploadDrop",(0,_addonActions.action)("ifxFileUploadDrop")),el.addEventListener("ifxFileUploadClick",(0,_addonActions.action)("ifxFileUploadClick")),el.addEventListener("ifxFileUploadMaxFilesExceeded",(0,_addonActions.action)("ifxFileUploadMaxFilesExceeded")),el.addEventListener("ifxFileUploadValidation",(0,_addonActions.action)("ifxFileUploadValidation")),el.addEventListener("ifxFileUploadRetry",(0,_addonActions.action)("ifxFileUploadRetry")),el},Default=exports.Default=BaseTemplate.bind({});Default.args={dragAndDrop:!1,label:"Label",required:!1,labelRequiredError:"You must upload at least one file.",disabled:!1,maxFileSizeMB:7,allowedFileTypes:["jpg","png","pdf"],additionalAllowedFileTypes:"application/zip,text/csv",allowAnyFileType:!1,allowedFileExtensions:"",labelBrowseFiles:"Browse files",labelDragAndDrop:"Drag & Drop or browse files to upload",labelUploadedFilesHeading:"Uploaded files",labelFileTooLarge:"Upload failed. Max file size: {{size}}MB.",labelUnsupportedFileType:"Unsupported file type.",labelUploaded:"Successfully uploaded",labelSupportedFormatsTemplate:"Supported file formats: {{types}}. Max file size: {{size}}MB.",labelFileSingular:"file",labelFilePlural:"files",labelMaxFilesInfo:"You can upload up to {{count}} {{files}}.",labelMaxFilesExceeded:"You have exceeded the maximum of {{count}} {{files}}.",labelUploadFailed:"Upload failed. Please try again.",ariaLabelBrowseFiles:"Browse files",ariaLabelDropzone:"Upload area. Click to browse or drag and drop files.",ariaLabelFileInput:"Upload file",ariaLabelRemoveFile:"Remove file",ariaLabelCancelUpload:"Cancel upload",ariaLabelRetryUpload:"Retry upload",ariaLabelUploadingStatus:"Upload in progress",ariaLabelUploadedStatus:"Upload completed",ariaLabelUploadFailedStatus:"Upload failed"};(exports.UploadAreaDragDrop=BaseTemplate.bind({})).args={...Default.args,dragAndDrop:!0};const UploadStatesDemo=exports.UploadStatesDemo=BaseTemplate.bind({});UploadStatesDemo.args={...Default.args,dragAndDrop:!0},UploadStatesDemo.parameters={docs:{description:{story:"Visual preview of all file states (success, upload in progress, rejected)."}}},UploadStatesDemo.decorators=[storyFn=>{const el=storyFn();return setTimeout(()=>el?.injectDemoState?.(),0),el}],UploadStatesDemo.argTypes={...hideAllControlsExcept(["dragAndDrop"]),...disableCustomEventControls};const UploadRequiredError=exports.UploadRequiredError=BaseTemplate.bind({});UploadRequiredError.args={...Default.args,required:!0},UploadRequiredError.parameters={docs:{description:{story:"Demonstrates the error state when the upload is required but no files have been added."}}},UploadRequiredError.decorators=[storyFn=>{const el=storyFn();return setTimeout(()=>el?.triggerDemoValidation?.(),100),el}],UploadRequiredError.argTypes={...hideAllControlsExcept(["dragAndDrop"]),...disableCustomEventControls},module.exports.__namedExportsOrder=["UploadStatesDemo","UploadRequiredError","UploadAreaDragDrop","Default"]}}]);