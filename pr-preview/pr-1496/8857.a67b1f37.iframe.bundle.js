"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[8857],{"./dist/esm/ifx-template.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ifx_template:()=>Template});var _index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-3a99c8dc.js");const Template=class{constructor(hostRef){(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.toggleTemplates=(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"toggleTemplates",7),this.repoDetails={name:"",desc:"",framework:""},this.repoUrl=null,this.showDetails=!1,this.name=void 0}authUser(){window.open("https://github.com/login/oauth/authorize?client_id=Ov23lixmXiNTTNb6V5W6&redirect_uri=http://localhost:6262/?path=/docs/dds-templates--development&scope=repo&state=template123","_blank")}componentWillLoad(){const code=new URL(window.location.href).searchParams.get("code"),selectedTemplate=localStorage.getItem("selectedTemplate");code&&this.name===selectedTemplate&&this.getUserToken(code)}async getUserToken(authCode){const repoName=localStorage.getItem("repo_name"),repoDesc=localStorage.getItem("repo_desc"),repoFramework=localStorage.getItem("repo_framework"),templateName=localStorage.getItem("selectedTemplate");fetch(`http://localhost:5000/token/${authCode}/${repoName}/${repoDesc}/${repoFramework}/${templateName}`).then((response=>response.ok?response.text():response.text().then((errorMessage=>{throw new Error(errorMessage)})))).then((data=>{data&&(console.log(data),this.repoUrl=new URL(data),localStorage.clear())})).catch((error=>console.error("Error:",error.message)))}handleUserInput(e,type){"name"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{name:e.target.value}):"desc"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{desc:e.target.value}):"framework"===type&&(this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{framework:e.target.value}))}submitUserData(){this.repoDetails.name&&this.repoDetails.desc&&this.repoDetails.framework?(localStorage.setItem("repo_name",this.repoDetails.name),localStorage.setItem("repo_desc",this.repoDetails.desc),localStorage.setItem("repo_framework",this.repoDetails.framework),localStorage.setItem("selectedTemplate",this.name),this.authUser()):console.log("its empty")}handleCurrentTemplate(e){if(e){const targetTemplate=e.target;this.toggleTemplates.emit(targetTemplate),this.showDetails=!0}else this.toggleTemplates.emit(!1),this.showDetails=!1}async toggleTemplate(type){this.el.shadowRoot.querySelector(".react__template-wrapper").classList[type]("hide")}render(){return(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"05f4d12e74da295c16459a01069ecfdf9382e2dd"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"cac1ec5673cb09f21d46475c97fefa8462c7e8be",class:"react__template-wrapper",onClick:e=>this.handleCurrentTemplate(e)},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"94c8205df4b27e0eb942bd56959de1803e2190d9"},this.name)),this.showDetails&&(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"98d3d05f3b84b73679955d2214b72f41e26f5971"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"a11ea8bf340db02772823392d7eeeed98cdc0e0b",variant:"primary",onClick:()=>this.handleCurrentTemplate(null)},"Go Back"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"5d433ab9119ff53f17d1227a5cb194e178d8a66a"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"f3b6b6696385c698a3ccd1aad4cb45d0e9dce4e6",type:"radio",id:"react",name:"chosen_framework",value:"react",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"053e741631081147c7cea14834ecd16794749661",htmlFor:"react"},"React")," ",(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("br",{key:"0964fdcbd53e0276ab909435501b660729dd280f"}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"76fd3726182a64da0eb19762bd5f994faf3716c2",type:"radio",id:"vue",name:"chosen_framework",value:"vue",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"12b8a0d1876d806976e20c58d230ed8350c8553d",htmlFor:"vue"},"Vue")),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"3f46e52adb4667b8b4cf4403f9cfcfc812e7a95f",onInput:e=>this.handleUserInput(e,"name"),size:"m",icon:"c-info-16",placeholder:"Your repository name"},"Repository Name"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"ecbea6a8cc36d6092f089801787121c734e288b7",size:"m",icon:"c-info-16",onInput:e=>this.handleUserInput(e,"desc"),placeholder:"Your repository description"},"Repository Description"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"264794048a49fc7e595288d6ce71a35731426ac0",onClick:()=>this.submitUserData(),variant:"primary"},"Generate template"),this.repoUrl&&(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("a",{key:"59e681c2a14decea84e0f208429d1ee13420fb16",target:"_blank",href:`${this.repoUrl}`},"Your Repository URL")))}get el(){return(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};Template.style=".react__template-wrapper{display:flex;width:300px;height:200px;border-radius:4px;border:1px solid}.react__template-wrapper.hide{display:none}.react__template-wrapper:hover{cursor:pointer}"}}]);