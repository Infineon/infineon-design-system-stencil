"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[8857],{"./dist/esm/ifx-template.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ifx_template:()=>Template});var _index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-3a99c8dc.js");const Template=class{constructor(hostRef){(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.toggleTemplates=(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"toggleTemplates",7),this.repoDetails={name:"",desc:"",framework:""},this.repoUrl=null,this.showDetails=!1,this.name=void 0}authUser(){window.open("https://github.com/login/oauth/authorize?client_id=Ov23lixmXiNTTNb6V5W6&redirect_uri=http://localhost:6262/?path=/docs/dds-templates--development&scope=repo&state=template123","_blank")}componentWillLoad(){const code=new URL(window.location.href).searchParams.get("code"),selectedTemplate=localStorage.getItem("selectedTemplate");code&&this.name===selectedTemplate&&this.getUserToken(code)}async getUserToken(authCode){const repoName=localStorage.getItem("repo_name"),repoDesc=localStorage.getItem("repo_desc"),repoFramework=localStorage.getItem("repo_framework"),templateName=localStorage.getItem("selectedTemplate");fetch(`http://localhost:5000/token/${authCode}/${repoName}/${repoDesc}/${repoFramework}/${templateName}`).then((response=>response.ok?response.text():response.text().then((errorMessage=>{throw new Error(errorMessage)})))).then((data=>{data&&(console.log(data),this.repoUrl=new URL(data),localStorage.clear())})).catch((error=>console.error("Error:",error.message)))}handleUserInput(e,type){"name"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{name:e.target.value}):"desc"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{desc:e.target.value}):"framework"===type&&(this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{framework:e.target.value}))}submitUserData(){this.repoDetails.name&&this.repoDetails.desc&&this.repoDetails.framework?(localStorage.setItem("repo_name",this.repoDetails.name),localStorage.setItem("repo_desc",this.repoDetails.desc),localStorage.setItem("repo_framework",this.repoDetails.framework),localStorage.setItem("selectedTemplate",this.name),this.authUser()):console.log("its empty")}handleCurrentTemplate(e){if(e){const targetTemplate=e.target;this.toggleTemplates.emit(targetTemplate),this.showDetails=!0}else this.toggleTemplates.emit(!1),this.showDetails=!1}async toggleTemplate(type){this.el.shadowRoot.querySelector(".react__template-wrapper").classList[type]("hide")}render(){return(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"838c910023b3e291bc661b42bc28308111caaf48"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"46e84fd1a057f3f6b65aba16fdbac11389ee5acf",class:"react__template-wrapper",onClick:e=>this.handleCurrentTemplate(e)},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"5e2a5ef6c9efb23ce8bbf6ab36a9e313bab790a7"},this.name)),this.showDetails&&(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"69a79c08504d5581f97ef86c6cdd8667e9aae026"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"12e4ca8fa5e24e8e7553cc43d41af817954888ca",variant:"primary",onClick:()=>this.handleCurrentTemplate(null)},"Go Back"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"837c83c99abcd30317411212757dab027a90cdd9"},(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"a5c15cc900c7d842473261ffdc87f9d0bd34455a",type:"radio",id:"react",name:"chosen_framework",value:"react",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"246ca697d463e71f8c56ec746adaf7eadc81ae9a",htmlFor:"react"},"React")," ",(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("br",{key:"bb08e5589481d0ee062141d8ee98a3feb78e8597"}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"c424360fa4a04046933708924dee706ed7884f26",type:"radio",id:"vue",name:"chosen_framework",value:"vue",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"f2d5becd1e7cc3fbf96104f9920992344c4418b2",htmlFor:"vue"},"Vue")),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"8fd8a0fc3014a0bd50e619bfc42d16d02fe2cbf6",onInput:e=>this.handleUserInput(e,"name"),size:"m",icon:"c-info-16",placeholder:"Your repository name"},"Repository Name"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"0a3065276c16a8687ce70341e7866c078c2238f5",size:"m",icon:"c-info-16",onInput:e=>this.handleUserInput(e,"desc"),placeholder:"Your repository description"},"Repository Description"),(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"99407bba72655dd2f1cfee23fe3c75746c602b1e",onClick:()=>this.submitUserData(),variant:"primary"},"Generate template"),this.repoUrl&&(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.h)("a",{key:"84ff69b666e8445bfc61cfde5913f73bdc33193d",target:"_blank",href:`${this.repoUrl}`},"Your Repository URL")))}get el(){return(0,_index_3a99c8dc_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};Template.style=".react__template-wrapper{display:flex;width:300px;height:200px;border-radius:4px;border:1px solid}.react__template-wrapper.hide{display:none}.react__template-wrapper:hover{cursor:pointer}"}}]);