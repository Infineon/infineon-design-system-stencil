"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[8857],{"./dist/esm/ifx-template.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ifx_template:()=>Template});var _index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-30c509de.js");const Template=class{constructor(hostRef){(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.toggleTemplates=(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"toggleTemplates",7),this.repoDetails={name:"",desc:"",framework:""},this.repoUrl=void 0,this.showDetails=!1,this.isTemplatePage=!1,this.isLoading=!0,this.name=void 0}authUser(){window.open("https://github.com/login/oauth/authorize?client_id=Ov23lixmXiNTTNb6V5W6&redirect_uri=http://localhost:6262/?path=/docs/dds-templates--development&scope=repo&state=template123","_blank")}componentDidLoad(){const code=new URL(window.location.href).searchParams.get("code"),{templateName}=this.getLocalStorageValues();code&&this.name===templateName&&(this.isTemplatePage=!0,this.toggleTemplates.emit(templateName),this.getUserToken(code))}getLocalStorageValues(){return{repoName:localStorage.getItem("repo_name"),repoDesc:localStorage.getItem("repo_desc"),repoFramework:localStorage.getItem("repo_framework"),templateName:localStorage.getItem("selectedTemplate")}}async getUserToken(authCode){const{repoName,repoDesc,repoFramework,templateName}=this.getLocalStorageValues();fetch(`http://localhost:5000/token/${authCode}/${repoName}/${repoDesc}/${repoFramework}/${templateName}`).then((response=>response.ok?response.text():response.text().then((errorMessage=>{throw new Error(errorMessage)})))).then((data=>{data&&(this.isLoading=!1,this.repoUrl=data,localStorage.clear())})).catch((error=>console.error("Error:",error.message)))}handleUserInput(e,type){"name"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{name:e.target.value}):"desc"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{desc:e.target.value}):"framework"===type&&(this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{framework:e.target.value}))}submitUserData(){this.repoDetails.name&&this.repoDetails.desc&&this.repoDetails.framework?(localStorage.setItem("repo_name",this.repoDetails.name),localStorage.setItem("repo_desc",this.repoDetails.desc),localStorage.setItem("repo_framework",this.repoDetails.framework),localStorage.setItem("selectedTemplate",this.name),this.authUser()):console.error("its empty")}handleCurrentTemplate(e){if(e){const targetTemplate=e.target;this.toggleTemplates.emit(targetTemplate),this.showDetails=!0}else this.toggleTemplates.emit(!1),this.showDetails=!1}async toggleTemplate(currTemp){const templateWrapper=this.el.shadowRoot.querySelector(".react__template-wrapper");templateWrapper&&(!templateWrapper.classList.contains("hide")&&currTemp?templateWrapper!==currTemp&&templateWrapper.classList.add("hide"):templateWrapper.classList.remove("hide"))}render(){return(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"2b958bb2bbb310ae99e887c045c6743f8f485cb5"},this.isTemplatePage?(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"template__page-wrapper"},!this.repoUrl&&(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,"Your repository is getting ready.. this will only take a minute."),this.isLoading&&(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-spinner",{variant:"default",size:"s"})),this.repoUrl&&(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("p",null,(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("a",{href:this.repoUrl},"Your Repository URL"))):(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"react__template-wrapper",onClick:e=>this.handleCurrentTemplate(e)},(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,this.name)),this.showDetails&&(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{variant:"primary",onClick:()=>this.handleCurrentTemplate(null)},"Go Back"),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",null,(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{type:"radio",id:"react",name:"chosen_framework",value:"react",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{htmlFor:"react"},"React")," ",(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("br",null),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{disabled:!0,type:"radio",id:"vue",name:"chosen_framework",value:"vue",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{htmlFor:"vue"},"Vue")," (Soon)"),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{onInput:e=>this.handleUserInput(e,"name"),size:"m",icon:"c-info-16",placeholder:"Your repository name"},"Repository Name"),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{size:"m",icon:"c-info-16",onInput:e=>this.handleUserInput(e,"desc"),placeholder:"Your repository description"},"Repository Description"),(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{onClick:()=>this.submitUserData(),variant:"primary"},"Generate template"),this.repoUrl&&(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.h)("a",{target:"_blank",href:`${this.repoUrl}`},"Your Repository URL"))))}get el(){return(0,_index_30c509de_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};Template.style=".react__template-wrapper{display:flex;width:300px;height:200px;border-radius:4px;border:1px solid}.react__template-wrapper.hide{display:none}.react__template-wrapper:hover{cursor:pointer}"}}]);