"use strict";(self.webpackChunk_infineon_infineon_design_system_stencil=self.webpackChunk_infineon_infineon_design_system_stencil||[]).push([[8857],{"./dist/esm/ifx-template.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ifx_template:()=>Template});var _index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-3655ed9e.js");const Template=class{constructor(hostRef){(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.toggleTemplates=(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"toggleTemplates",7),this.repoDetails={name:"",desc:"",framework:""},this.repoUrl=null,this.showDetails=!1,this.name=void 0}authUser(){window.open("https://github.com/login/oauth/authorize?client_id=Ov23lixmXiNTTNb6V5W6&redirect_uri=http://localhost:6262/?path=/docs/dds-templates--development&scope=repo&state=template123","_blank")}componentWillLoad(){const code=new URL(window.location.href).searchParams.get("code"),selectedTemplate=localStorage.getItem("selectedTemplate");code&&this.name===selectedTemplate&&this.getUserToken(code)}async getUserToken(authCode){const repoName=localStorage.getItem("repo_name"),repoDesc=localStorage.getItem("repo_desc"),repoFramework=localStorage.getItem("repo_framework"),templateName=localStorage.getItem("selectedTemplate");fetch(`http://localhost:5000/token/${authCode}/${repoName}/${repoDesc}/${repoFramework}/${templateName}`).then((response=>response.ok?response.text():response.text().then((errorMessage=>{throw new Error(errorMessage)})))).then((data=>{data&&(console.log(data),this.repoUrl=new URL(data),localStorage.clear())})).catch((error=>console.error("Error:",error.message)))}handleUserInput(e,type){"name"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{name:e.target.value}):"desc"===type?this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{desc:e.target.value}):"framework"===type&&(this.repoDetails=Object.assign(Object.assign({},this.repoDetails),{framework:e.target.value}))}submitUserData(){this.repoDetails.name&&this.repoDetails.desc&&this.repoDetails.framework?(localStorage.setItem("repo_name",this.repoDetails.name),localStorage.setItem("repo_desc",this.repoDetails.desc),localStorage.setItem("repo_framework",this.repoDetails.framework),localStorage.setItem("selectedTemplate",this.name),this.authUser()):console.log("its empty")}handleCurrentTemplate(e){if(e){const targetTemplate=e.target;this.toggleTemplates.emit(targetTemplate),this.showDetails=!0}else this.toggleTemplates.emit(!1),this.showDetails=!1}async toggleTemplate(type){this.el.shadowRoot.querySelector(".react__template-wrapper").classList[type]("hide")}render(){return(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"0281ac1e1aeb98084b1ab7711c90cb57d705b106"},(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"7401972c26036a4583d092d57460689cecfc4e08",class:"react__template-wrapper",onClick:e=>this.handleCurrentTemplate(e)},(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"ff0e30b49f4ea52f0a3b3d5082822cc6fe67c1f6"},this.name)),this.showDetails&&(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"4f71f934de704c6ecb4c94581164cfc645e29477"},(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"b56f77507ac4ee4e60c7d94e430e2be748591bba",variant:"primary",onClick:()=>this.handleCurrentTemplate(null)},"Go Back"),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"b911aa901517cdd9f259c76e4f66d854d75bb59b"},(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"862e105755e54e22a8f02b303b2d010c4b4d4249",type:"radio",id:"react",name:"chosen_framework",value:"react",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"06d5badc6fcd7507b8754c8d3d81b1c09dee0897",htmlFor:"react"},"React")," ",(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("br",{key:"8a2829d5d4690e7cfb13d6045d4ecc70b51f04a0"}),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",{key:"1cf9d0a977ab12d998e4f02df2a55df09cd96d94",type:"radio",id:"vue",name:"chosen_framework",value:"vue",onInput:e=>this.handleUserInput(e,"framework")}),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"3408dc77f6b41c04aa2f4ccb5160aa0da0432686",htmlFor:"vue"},"Vue")),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"d08eedd3eab3d6741987d9c7203fb64921166a55",onInput:e=>this.handleUserInput(e,"name"),size:"m",icon:"c-info-16",placeholder:"Your repository name"},"Repository Name"),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-text-field",{key:"249484d7f51a48ecc88d43d3637c7f699a4a8b60",size:"m",icon:"c-info-16",onInput:e=>this.handleUserInput(e,"desc"),placeholder:"Your repository description"},"Repository Description"),(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("ifx-button",{key:"017ea8618d1f7a88a261c2c29d5a400cacda9e24",onClick:()=>this.submitUserData(),variant:"primary"},"Generate template"),this.repoUrl&&(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.h)("a",{key:"870d915671365339f6646913183cc74f480aa4c4",target:"_blank",href:`${this.repoUrl}`},"Your Repository URL")))}get el(){return(0,_index_3655ed9e_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};Template.style=".react__template-wrapper{display:flex;width:300px;height:200px;border-radius:4px;border:1px solid}.react__template-wrapper.hide{display:none}.react__template-wrapper:hover{cursor:pointer}"}}]);