{"version":3,"file":"ifx-filter-type-group.entry-CXz3pngW.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.11.1--canary.2195.22056662435.0/node_modules/@infineon/infineon-design-system-stencil/dist/esm/ifx-filter-type-group.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, a as getElement, h, d as Host } from './index-CrLZ0MNV.js';\n\nconst filterTypeGroupCss = \":host{display:flex}.filter-type-group{width:260px;align-items:flex-start;gap:8px}.filter-type-group>::slotted(*){margin-bottom:8px}\";\n\nconst IfxFilterTypeGroup = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ifxSidebarFilterChange = createEvent(this, \"ifxSidebarFilterChange\", 7);\n    }\n    get el() { return getElement(this); }\n    selectedOptions = [];\n    ifxSidebarFilterChange;\n    /* If the component is ever removed and then reattached to the DOM,\n  connectedCallback ensures that the event listeners are properly set up again */\n    connectedCallback() {\n        this.el.addEventListener(\"ifxFilterAccordionChange\", this.handleAccordionChange);\n        this.el.addEventListener(\"ifxFilterSearchChange\", this.handleSearchChange);\n        window.addEventListener(\"ifxResetFiltersEvent\", this.handleResetEvent);\n        window.addEventListener(\"ifxUpdateSidebarFilter\", this.handleUpdateSidebarFilter);\n    }\n    componentWillUnload() {\n        this.el.removeEventListener(\"ifxFilterAccordionChange\", this.handleAccordionChange);\n        this.el.removeEventListener(\"ifxFilterSearchChange\", this.handleSearchChange);\n        window.removeEventListener(\"ifxResetFiltersEvent\", this.handleResetEvent);\n    }\n    handleResetEvent = () => {\n        const accordionSlot = this.el.shadowRoot.querySelector('slot[name=\"filter-accordion\"]');\n        const filterAccordionSlottedElements = accordionSlot.assignedElements({ flatten: true });\n        filterAccordionSlottedElements.forEach((accordionElement) => {\n            const ifxLists = accordionElement.querySelectorAll(\"ifx-list\");\n            ifxLists.forEach((ifxListElement) => {\n                ifxListElement.resetTrigger = !ifxListElement.resetTrigger;\n            });\n        });\n        const filterSearchSlot = this.el.shadowRoot.querySelector('slot[name=\"filter-search\"]');\n        const filterSearchSlottedElements = filterSearchSlot.assignedElements({ flatten: true });\n        filterSearchSlottedElements.forEach((filterSearchWrapper) => {\n            const filterSearch = filterSearchWrapper.querySelector(\"ifx-filter-search\");\n            const searchField = filterSearch.shadowRoot.querySelectorAll(\"ifx-search-field\");\n            if (searchField.length > 0) {\n                searchField.forEach((searchFieldElement) => {\n                    searchFieldElement.value = \"\";\n                });\n            }\n        });\n        this.selectedOptions = [];\n        // Emit the change to inform any parent components that the filters have been reset\n        this.ifxSidebarFilterChange.emit(this.selectedOptions);\n    };\n    handleUpdateSidebarFilter = (event) => {\n        const { filterName } = event.detail;\n        const accordionSlot = this.el.shadowRoot.querySelector('slot[name=\"filter-accordion\"]');\n        const filterAccordionSlottedElements = accordionSlot\n            ? accordionSlot.assignedElements({ flatten: true })\n            : [];\n        filterAccordionSlottedElements.forEach((accordionElement) => {\n            const ifxLists = accordionElement.querySelectorAll(\"ifx-list\");\n            ifxLists.forEach((ifxListElement) => {\n                if (ifxListElement.getAttribute(\"name\") === filterName) {\n                    ifxListElement.resetTrigger = !ifxListElement.resetTrigger;\n                }\n            });\n        });\n        // Clear the search bar within the filter-search slot\n        const searchSlot = this.el.shadowRoot.querySelector('slot[name=\"filter-search\"]');\n        const filterSearchSlottedElements = searchSlot\n            ? searchSlot.assignedNodes({ flatten: true })\n            : [];\n        filterSearchSlottedElements.forEach((searchElement) => {\n            if (searchElement.nodeType === Node.ELEMENT_NODE) {\n                // Identify the ifx-filter-search component within the slot\n                const filterSearchComponent = searchElement;\n                const searchField = filterSearchComponent.firstElementChild;\n                if (searchField) {\n                    searchField.setAttribute(\"value\", \"\");\n                    searchField.dispatchEvent(new CustomEvent(\"ifxInput\", {\n                        bubbles: true,\n                        composed: true,\n                        detail: \"\",\n                    })); // Trigger ifxInput event to reset\n                }\n            }\n        });\n        const newSelectedOptions = this.selectedOptions.map((option) => {\n            if (option.filterGroupName === filterName) {\n                return { ...option, selectedItems: [], value: \"\" };\n            }\n            return option;\n        });\n        this.selectedOptions = newSelectedOptions;\n        this.ifxSidebarFilterChange.emit(this.selectedOptions);\n    };\n    handleAccordionChange = (event) => {\n        this.handleFilterChange(event);\n    };\n    handleSearchChange = (event) => {\n        // Call handleFilterChange with the created CustomEvent object\n        this.handleFilterChange(event);\n    };\n    handleFilterChange = (event) => {\n        // Create a new array to hold the new state\n        const newSelectedOptions = [...this.selectedOptions];\n        // Check the type of the event\n        if (event.type === \"ifxFilterSearchChange\") {\n            // Handle the ifxFilterSearchChange event\n            const { filterName, filterValue } = event.detail;\n            // Find the existing filter with the same filterName\n            const existingOptionIndex = newSelectedOptions.findIndex((option) => typeof option !== \"string\" && option.filterGroupName === filterName);\n            if (existingOptionIndex !== -1) {\n                // If an existing filter is found, update its value\n                newSelectedOptions[existingOptionIndex].value = filterValue;\n            }\n            else {\n                // If no existing filter is found, append the new filter\n                newSelectedOptions.push({\n                    filterGroupName: filterName,\n                    value: filterValue,\n                });\n            }\n        }\n        else if (event.type === \"ifxFilterAccordionChange\") {\n            const { filterGroupName, selectedItems } = event.detail;\n            // Find the existing filter group with the same filterGroupName\n            const existingOptionIndex = newSelectedOptions.findIndex((option) => option.filterGroupName === filterGroupName);\n            if (existingOptionIndex !== -1) {\n                // If an existing filter group is found, update its selectedItems\n                newSelectedOptions[existingOptionIndex] = {\n                    filterGroupName,\n                    selectedItems,\n                };\n            }\n            else {\n                // If no existing filter group is found, append the new filter group\n                newSelectedOptions.push({ filterGroupName, selectedItems });\n            }\n        }\n        // Update the state with the new selected options\n        this.selectedOptions = newSelectedOptions;\n        // Emit the entire selectedOptions array\n        this.ifxSidebarFilterChange.emit(this.selectedOptions);\n    };\n    render() {\n        return (h(Host, { key: 'fa23a5623122875d0fb73f00e3137eb8d5b3b2d8' }, h(\"div\", { key: '26ccb7ed20d68e0a5ed26edb224700bf93502470', class: \"filter-type-group\" }, h(\"slot\", { key: '9e0ccf0628230109ff143c1037bca05b01e962d1', name: \"filter-search\" }), h(\"slot\", { key: 'e124f556423c8c255df6fbacce64a922767142dc', name: \"filter-accordion\" }))));\n    }\n};\nIfxFilterTypeGroup.style = filterTypeGroupCss;\n\nexport { IfxFilterTypeGroup as ifx_filter_type_group };\n//# sourceMappingURL=ifx-filter-type-group.entry.js.map\n"],"names":["filterTypeGroupCss","IfxFilterTypeGroup","hostRef","registerInstance","createEvent","getElement","accordionElement","ifxListElement","filterSearchWrapper","searchField","searchFieldElement","event","filterName","accordionSlot","searchSlot","searchElement","newSelectedOptions","option","filterValue","existingOptionIndex","filterGroupName","selectedItems","h","Host"],"mappings":"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","x_google_ignoreList":[0]}