{"version":3,"file":"ifx-list.entry-B5MS70XI.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.12.0--canary.2200.22141066329.0/node_modules/@infineon/infineon-design-system-stencil/dist/esm/ifx-list.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, a as getElement, h } from './index-CA_siwAQ.js';\n\nconst listCss = () => `.link-wrapper{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:8px}`;\n\nconst List = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ifxListUpdate = createEvent(this, \"ifxListUpdate\", 7);\n    }\n    get el() { return getElement(this); }\n    expanded = false;\n    showMore = false;\n    selectedCount = 0;\n    totalItems = 0;\n    name = \"\";\n    maxVisibleItems = 6;\n    type = \"checkbox\"; //default value\n    resetTrigger;\n    internalResetTrigger = false;\n    ifxListUpdate;\n    observer;\n    handleTypeChange(newType) {\n        this.updateListEntriesType(newType);\n    }\n    resetTriggerChanged(newValue) {\n        if (newValue) {\n            this.reset();\n            this.resetTrigger = false; // Resetting the trigger after the action is performed\n        }\n    }\n    componentWillLoad() {\n        this.setupListenersAndObservers();\n        this.initializeList();\n    }\n    disconnectedCallback() {\n        this.cleanupListenersAndObservers();\n    }\n    reset() {\n        this.resetListEntries();\n        this.expanded = false;\n        this.showMore = false;\n        this.selectedCount = 0;\n        this.ifxListUpdate.emit({ name: this.name, selectedItems: [] });\n    }\n    render() {\n        return this.renderList();\n    }\n    // Refactored methods for clarity and maintainability\n    setupListenersAndObservers() {\n        this.el.addEventListener(\"ifxListEntryChange\", this.handleCheckedChange);\n        this.observer = new MutationObserver(this.handleMutation);\n        this.observer.observe(this.el, { childList: true });\n    }\n    cleanupListenersAndObservers() {\n        this.el.removeEventListener(\"ifxListEntryChange\", this.handleCheckedChange);\n        this.observer.disconnect();\n    }\n    initializeList() {\n        this.selectedCount = this.getSelectedItems(this.el).length;\n        this.totalItems = this.getTotalItems();\n        this.updateListEntriesType(this.type);\n        this.checkRadioButtonConstraint();\n    }\n    updateListEntriesType(newType) {\n        const listEntries = Array.from(this.el.querySelectorAll(\"ifx-list-entry\"));\n        listEntries.forEach((entry) => entry.setAttribute(\"type\", newType));\n    }\n    resetListEntries() {\n        const listEntries = Array.from(this.el.querySelectorAll(\"ifx-list-entry\"));\n        listEntries.forEach((entry) => {\n            entry.value = false;\n            entry.setAttribute(\"value\", \"false\");\n        });\n    }\n    handleMutation = () => {\n        const newTotalItems = this.getTotalItems();\n        if (newTotalItems !== this.totalItems) {\n            this.totalItems = newTotalItems;\n            this.handleCheckedChange();\n        }\n        this.updateListEntriesType(this.type);\n    };\n    checkRadioButtonConstraint() {\n        if (this.type === \"radio-button\" && this.selectedCount > 1) {\n            this.resetListEntries(); // Reset all and let the user select again\n            this.selectedCount = 0;\n        }\n    }\n    getTotalItems() {\n        return this.el.querySelectorAll(\"ifx-list-entry\").length;\n    }\n    toggleList = (event) => {\n        event.stopPropagation();\n        this.expanded = !this.expanded;\n    };\n    toggleShowMore = (event) => {\n        event.stopPropagation();\n        this.showMore = !this.showMore;\n    };\n    getSelectedItems(el) {\n        return Array.from(el.querySelectorAll(\"ifx-list-entry\"))\n            .filter((entry) => entry.getAttribute(\"value\") === \"true\")\n            .map((entry) => ({\n            label: entry.getAttribute(\"label\"),\n            value: entry.getAttribute(\"value\"),\n            type: entry.getAttribute(\"type\"),\n            element: entry,\n        }));\n    }\n    handleCheckedChange = (event) => {\n        // If the type of the changed entry is 'radio-button' and its value is true, deselect all other radio buttons\n        if (event && event.detail.type === \"radio-button\" && event.detail.value) {\n            const otherRadioButtons = Array.from(this.el.querySelectorAll(\"ifx-list-entry\")).filter((entry) => entry.getAttribute(\"type\") === \"radio-button\" &&\n                entry !== event.target);\n            otherRadioButtons.forEach((radioButton) => radioButton.setAttribute(\"value\", \"false\"));\n        }\n        const selectedItems = this.getSelectedItems(this.el);\n        this.selectedCount = selectedItems.length;\n        this.ifxListUpdate.emit({ name: this.name, selectedItems });\n    };\n    renderList() {\n        const listEntries = Array.from(this.el.querySelectorAll(\"ifx-list-entry\"));\n        const visibleItems = this.showMore\n            ? listEntries\n            : listEntries.slice(0, this.maxVisibleItems);\n        const remainingItems = listEntries.length - visibleItems.length;\n        return (h(\"div\", { class: \"list-wrapper\" }, visibleItems.map((entry) => (h(\"slot\", { name: entry.getAttribute(\"slot\") }))), (remainingItems > 0 || this.showMore) && (h(\"div\", { class: \"link-wrapper\", onClick: this.toggleShowMore }, h(\"ifx-icon\", { key: this.showMore.toString(), icon: this.showMore ? \"chevron-up-16\" : \"chevron-down-16\" }), h(\"ifx-link\", { size: \"s\", href: \"\", target: \"_blank\", variant: \"underlined\", disabled: false }, this.showMore ? \"Show less\" : `Show ${remainingItems} more`)))));\n    }\n    static get watchers() { return {\n        \"type\": [{\n                \"handleTypeChange\": 0\n            }],\n        \"resetTrigger\": [{\n                \"resetTriggerChanged\": 0\n            }]\n    }; }\n};\nList.style = listCss();\n\nexport { List as ifx_list };\n//# sourceMappingURL=ifx-list.entry.js.map\n\n//# sourceMappingURL=ifx-list.entry.js.map"],"names":["listCss","List","hostRef","registerInstance","createEvent","getElement","newType","newValue","entry","newTotalItems","event","el","radioButton","selectedItems","listEntries","visibleItems","remainingItems","h"],"mappings":"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","x_google_ignoreList":[0]}