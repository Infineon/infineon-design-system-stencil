{"version":3,"file":"framework-detection-DcmcuUOA-BMsXG9Ok.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.3.1--canary.2100.19756642557.0/node_modules/@infineon/infineon-design-system-stencil/dist/esm/framework-detection-DcmcuUOA.js"],"sourcesContent":["typeof process !== 'undefined' &&\n    process.env &&\n    \"production\" === 'test';\nfunction initializeTracking() {\n    (function (t, r, _kk, n, pp) {\n        if (typeof window.btntConfig !== \"object\") {\n            window.btntConfig = {\n                domain: \"https://ssgtm.infineon.com\",\n                withCookies: true,\n                maxBatchSize: 10\n            };\n        }\n        if (window[\"btnt\"])\n            return;\n        window[\"btnt\"] = function (z) {\n            if (typeof z !== \"object\") {\n                z = {};\n            }\n            if (typeof window.btntQueue !== \"object\") {\n                window.btntQueue = [];\n            }\n            window.btntQueue.push(z);\n        };\n        n = t.createElement(r);\n        // Add safety check for test environments\n        pp = t.getElementsByTagName(r)[0];\n        if (pp && pp.parentNode) {\n            n.async = 1;\n            n.src = window.btntConfig.domain + \"/btnt.js\";\n            pp.parentNode.insertBefore(n, pp);\n        }\n    })(document, \"script\");\n}\nfunction trackComponent(componentName, environment) {\n    const skipEnvironments = ['jest', 'localhost', 'error'];\n    if (skipEnvironments.includes(environment)) {\n        return;\n    }\n    if (!window.INFINEON_TRACKED_COMPONENTS) {\n        window.INFINEON_TRACKED_COMPONENTS = new Set();\n    }\n    if (window.INFINEON_TRACKED_COMPONENTS.has(componentName)) {\n        return;\n    }\n    window.INFINEON_TRACKED_COMPONENTS.add(componentName);\n    if (!window.btnt)\n        initializeTracking();\n    window.btnt({\n        event_name: \"component_initialized\",\n        component_name: componentName,\n        environment: environment\n    });\n}\n\nconst waitForDOMReady = () => {\n    return new Promise((resolve) => {\n        if (document.readyState === 'complete' || document.readyState === 'interactive') {\n            resolve();\n        }\n        else {\n            const onReady = () => {\n                resolve();\n                document.removeEventListener('DOMContentLoaded', onReady);\n            };\n            document.addEventListener('DOMContentLoaded', onReady);\n        }\n    });\n};\n\nlet frameworkCache = null;\nconst detectFramework = async () => {\n    if (frameworkCache)\n        return frameworkCache;\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n        frameworkCache = 'non-browser';\n        return frameworkCache;\n    }\n    const win = window;\n    const doc = document;\n    typeof process !== 'undefined' &&\n        process.env &&\n        \"production\" === 'test';\n    const isStorybook = win.location.search.includes('viewMode') ||\n        win.location.href.includes('viewMode') ||\n        win.__STORYBOOK_ENV__;\n    if (isStorybook) {\n        frameworkCache = 'Storybook';\n        return frameworkCache;\n    }\n    const isLocalhost = ['localhost', '127.0.0.1'].includes(win.location.hostname);\n    if (isLocalhost) {\n        frameworkCache = 'localhost';\n        return frameworkCache;\n    }\n    try {\n        if (win.React || win.ReactDOM) {\n            frameworkCache = 'React';\n            return frameworkCache;\n        }\n        if (win.ng || win.getAllAngularRootElements) {\n            frameworkCache = 'Angular';\n            return frameworkCache;\n        }\n        if (win.Vue || win.__VUE__) {\n            frameworkCache = 'Vue';\n            return frameworkCache;\n        }\n        await waitForDOMReady();\n        const reactRoot = doc.querySelector('[data-reactroot], [data-reactid]');\n        if (reactRoot) {\n            frameworkCache = 'React';\n            return frameworkCache;\n        }\n        const rootContainers = Array.from(doc.querySelectorAll('body > div'));\n        const hasReactRoot = rootContainers.some(container => {\n            const keys = Object.keys(container);\n            return keys.some(key => key.startsWith('__reactContainer'));\n        });\n        if (hasReactRoot) {\n            frameworkCache = 'React';\n            return frameworkCache;\n        }\n        if (doc.querySelector('[ng-version], [ng-app]')) {\n            frameworkCache = 'Angular';\n            return frameworkCache;\n        }\n        if (doc.querySelector('[data-v-app]')) {\n            frameworkCache = 'Vue';\n            return frameworkCache;\n        }\n        frameworkCache = 'Vanilla';\n        return frameworkCache;\n    }\n    catch (e) {\n        frameworkCache = 'error';\n        return frameworkCache;\n    }\n};\n\nexport { detectFramework as d, trackComponent as t };\n//# sourceMappingURL=framework-detection-DcmcuUOA.js.map\n\n//# sourceMappingURL=framework-detection-DcmcuUOA.js.map"],"names":["initializeTracking","t","r","_kk","n","pp","z","trackComponent","componentName","environment","waitForDOMReady","resolve","onReady","frameworkCache","detectFramework","win","doc","container","key"],"mappings":"AAGA,SAASA,GAAqB,EACzB,SAAUC,EAAGC,EAAGC,EAAKC,EAAGC,EAAI,CACrB,OAAO,OAAO,YAAe,WAC7B,OAAO,WAAa,CAChB,OAAQ,6BACR,YAAa,GACb,aAAc,EAAA,GAGlB,QAAO,OAEX,OAAO,KAAU,SAAUC,EAAG,CACtB,OAAOA,GAAM,WACbA,EAAI,CAAA,GAEJ,OAAO,OAAO,WAAc,WAC5B,OAAO,UAAY,CAAA,GAEvB,OAAO,UAAU,KAAKA,CAAC,CAC3B,EACAF,EAAIH,EAAE,cAAcC,CAAC,EAErBG,EAAKJ,EAAE,qBAAqBC,CAAC,EAAE,CAAC,EAC5BG,GAAMA,EAAG,aACTD,EAAE,MAAQ,EACVA,EAAE,IAAM,OAAO,WAAW,OAAS,WACnCC,EAAG,WAAW,aAAaD,EAAGC,CAAE,GAExC,GAAG,SAAU,QAAQ,CACzB,CACA,SAASE,EAAeC,EAAeC,EAAa,CACvB,CAAC,OAAQ,YAAa,OAAO,EACjC,SAASA,CAAW,IAGpC,OAAO,8BACR,OAAO,gCAAkC,KAEzC,QAAO,4BAA4B,IAAID,CAAa,IAGxD,OAAO,4BAA4B,IAAIA,CAAa,EAC/C,OAAO,MACRR,EAAA,EACJ,OAAO,KAAK,CACR,WAAY,wBACZ,eAAgBQ,EAChB,YAAAC,CAAA,CACH,GACL,CAEA,MAAMC,EAAkB,IACb,IAAI,QAASC,GAAY,CAC5B,GAAI,SAAS,aAAe,YAAc,SAAS,aAAe,cAC9DA,EAAA,MAEC,CACD,MAAMC,EAAU,IAAM,CAClBD,EAAA,EACA,SAAS,oBAAoB,mBAAoBC,CAAO,CAC5D,EACA,SAAS,iBAAiB,mBAAoBA,CAAO,CACzD,CACJ,CAAC,EAGL,IAAIC,EAAiB,KACrB,MAAMC,EAAkB,SAAY,CAChC,GAAID,EACA,OAAOA,EACX,GAAI,OAAO,OAAW,KAAe,OAAO,SAAa,IACrD,OAAAA,EAAiB,cACVA,EAEX,MAAME,EAAM,OACNC,EAAM,SAOZ,GAHoBD,EAAI,SAAS,OAAO,SAAS,UAAU,GACvDA,EAAI,SAAS,KAAK,SAAS,UAAU,GACrCA,EAAI,kBAEJ,OAAAF,EAAiB,YACVA,EAGX,GADoB,CAAC,YAAa,WAAW,EAAE,SAASE,EAAI,SAAS,QAAQ,EAEzE,OAAAF,EAAiB,YACVA,EAEX,GAAI,CACA,OAAIE,EAAI,OAASA,EAAI,UACjBF,EAAiB,QACVA,GAEPE,EAAI,IAAMA,EAAI,2BACdF,EAAiB,UACVA,GAEPE,EAAI,KAAOA,EAAI,SACfF,EAAiB,MACVA,IAEX,MAAMH,EAAA,EACYM,EAAI,cAAc,kCAAkC,GAK/C,MAAM,KAAKA,EAAI,iBAAiB,YAAY,CAAC,EAChC,KAAKC,GACxB,OAAO,KAAKA,CAAS,EACtB,KAAKC,GAAOA,EAAI,WAAW,kBAAkB,CAAC,CAC7D,GAEGL,EAAiB,QACVA,GAEPG,EAAI,cAAc,wBAAwB,GAC1CH,EAAiB,UACVA,GAEPG,EAAI,cAAc,cAAc,GAChCH,EAAiB,MACVA,IAEXA,EAAiB,UACVA,GACX,MACU,CACN,OAAAA,EAAiB,QACVA,CACX,CACJ","x_google_ignoreList":[0]}