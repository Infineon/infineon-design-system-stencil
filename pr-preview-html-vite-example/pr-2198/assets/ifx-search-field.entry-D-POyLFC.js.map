{"version":3,"file":"ifx-search-field.entry-D-POyLFC.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.11.1--canary.2198.22093142488.0/node_modules/@infineon/infineon-design-system-stencil/dist/esm/ifx-search-field.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, a as getElement, h } from './index-CrLZ0MNV.js';\nimport { c as classNames } from './index-BfTCfPZ1.js';\nimport { i as isNestedInIfxComponent } from './dom-utils-CtINY9El.js';\nimport { d as detectFramework, t as trackComponent } from './tracking-DNHOWgWh.js';\n\nconst searchFieldCss = \":host {\\n  display: flex;\\n}\\n\\n.search-field {\\n  box-sizing: border-box;\\n  background-color: #FFFFFF;\\n  width: 100%;\\n  font-family: var(--ifx-font-family);\\n  position: relative;\\n}\\n.search-field .search-field__wrapper {\\n  box-sizing: border-box;\\n  height: 40px;\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid #8d8786;\\n  border-radius: 1px;\\n  padding: 8px 16px;\\n  gap: 12px;\\n  flex: none;\\n  order: 0;\\n  align-self: stretch;\\n  flex-grow: 0;\\n  position: relative;\\n  width: 100%;\\n  outline: none;\\n}\\n.search-field .search-field__wrapper:focus-visible:not(.disabled) {\\n  outline: 2px solid #0A8276;\\n  outline-offset: 2px;\\n}\\n.search-field .search-field__wrapper.search-field__wrapper-s {\\n  height: 36px;\\n}\\n.search-field .search-field__wrapper:hover:not(.focused, :focus) {\\n  border: 1px solid #3c3a39;\\n}\\n.search-field .search-field__wrapper .delete-icon {\\n  outline: 1px solid transparent;\\n  right: 12px;\\n  cursor: pointer;\\n}\\n.search-field .search-field__wrapper .delete-icon:focus-visible {\\n  outline: 2px solid #0A8276;\\n  outline-offset: 1px;\\n}\\n.search-field .search-field__wrapper input[type=text] {\\n  font-style: normal;\\n  font-weight: 400;\\n  font-size: 16px;\\n  color: #8d8786;\\n  border: none;\\n  width: 100%;\\n  outline: none;\\n  height: 16px;\\n}\\n.search-field .search-field__wrapper input[type=text]:focus {\\n  outline: none;\\n  color: #1d1d1d;\\n}\\n.search-field .search-field__wrapper input[type=text]:disabled {\\n  background: #BFBBBB;\\n  color: #FFFFFF;\\n}\\n.search-field .search-field__wrapper input[type=text]:disabled::placeholder {\\n  color: #FFFFFF;\\n}\\n.search-field .search-field__wrapper.disabled {\\n  background: #BFBBBB;\\n  border: none;\\n  color: #FFFFFF;\\n}\\n.search-field .search-field__wrapper.disabled:hover {\\n  border: none;\\n  outline: none;\\n}\\n.search-field .search-field__wrapper.disabled .delete-icon {\\n  cursor: default;\\n}\\n.search-field .search-field__wrapper.disabled .delete-icon:focus-visible {\\n  outline: 1px solid transparent;\\n}\\n.search-field .suggestions-dropdown {\\n  position: absolute;\\n  top: 100%;\\n  left: 0;\\n  right: 0;\\n  background: #FFFFFF;\\n  margin-top: 4px;\\n  border: 1px solid #EEEDED;\\n  box-shadow: 0px 6px 9px 0px rgba(29, 29, 29, 0.1);\\n  z-index: 1000;\\n  max-height: 300px;\\n  overflow-y: auto;\\n  container-type: inline-size;\\n}\\n.search-field .suggestions-dropdown .suggestions-header {\\n  font-family: Source Sans 3;\\n  font-size: 0.8125rem;\\n  font-weight: 600;\\n  line-height: 1.25rem;\\n  letter-spacing: 0.25em;\\n  text-transform: uppercase;\\n  color: #575352;\\n  border-bottom: 1px solid #EEEDED;\\n  padding: 12px 16px;\\n}\\n.search-field .suggestions-dropdown .suggestion-item {\\n  padding: 12px 16px;\\n  cursor: pointer;\\n  transition: background-color 0.2s ease;\\n}\\n.search-field .suggestions-dropdown .suggestion-item:last-child {\\n  border-bottom: none;\\n}\\n.search-field .suggestions-dropdown .suggestion-item:hover, .search-field .suggestions-dropdown .suggestion-item--selected {\\n  background-color: #EEEDED;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-icon {\\n  color: #575352;\\n  flex-shrink: 0;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-icon--history {\\n  color: #575352;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text {\\n  flex: 1;\\n  display: flex;\\n  align-items: center;\\n  min-width: 0;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text .suggestion-main-text {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  flex-shrink: 1;\\n  min-width: 0;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text .suggestion-scope {\\n  color: #8D8786;\\n  flex-shrink: 0;\\n  white-space: nowrap;\\n  margin-left: 2px;\\n  font-weight: 600;\\n  font-size: 0.75rem;\\n}\\n@container (max-width: 320px) {\\n  .search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text {\\n    flex-direction: column;\\n    align-items: flex-start;\\n  }\\n  .search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text .suggestion-main-text {\\n    width: 100%;\\n    max-width: 100%;\\n  }\\n  .search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-text .suggestion-scope {\\n    margin-left: 0;\\n    margin-top: 0;\\n    width: 100%;\\n    max-width: 100%;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    flex-shrink: 1;\\n  }\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-count {\\n  color: #8D8786;\\n  margin-left: auto;\\n  flex-shrink: 0;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-delete-icon {\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: opacity 0.2s ease, visibility 0.2s ease;\\n  cursor: pointer;\\n  margin-left: auto;\\n  flex-shrink: 0;\\n  color: #575352;\\n}\\n.search-field .suggestions-dropdown .suggestion-item .suggestion-content .suggestion-delete-icon:hover {\\n  color: #3C3A39;\\n}\\n.search-field .suggestions-dropdown .suggestion-item:hover .suggestion-delete-icon {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.search-field .search-field__wrapper.dropdown-open {\\n  border-radius: 1px 1px 0 0;\\n  border-color: #0A8276;\\n}\";\n\nconst SearchField = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ifxInput = createEvent(this, \"ifxInput\", 7);\n        this.ifxSuggestionRequested = createEvent(this, \"ifxSuggestionRequested\", 7);\n        this.ifxSuggestionSelected = createEvent(this, \"ifxSuggestionSelected\", 7);\n        this.ifxFocus = createEvent(this, \"ifxFocus\", 7);\n        this.ifxBlur = createEvent(this, \"ifxBlur\", 7);\n    }\n    get el() { return getElement(this); }\n    inputElement;\n    dropdownElement;\n    value = \"\";\n    suggestions = [];\n    showSuggestions = false;\n    maxSuggestions = 10;\n    maxHistoryItems = 5;\n    enableHistory = true;\n    historyKey = \"ifx-search-history\";\n    historyHeaderText = \"Recent Searches\";\n    // ARIA Labels and Accessibility Props\n    ariaLabel = \"Search Field\";\n    ariaLabelledBy;\n    ariaDescribedBy;\n    deleteIconAriaLabel = \"Clear search\";\n    historyDeleteAriaLabel = \"Remove from history\";\n    dropdownAriaLabel = \"Search suggestions and history\";\n    suggestionAriaLabel = \"Search suggestion\";\n    historyItemAriaLabel = \"Search history item\";\n    ifxInput;\n    ifxSuggestionRequested;\n    ifxSuggestionSelected;\n    ifxFocus;\n    ifxBlur;\n    showDropdown = false;\n    filteredSuggestions = [];\n    selectedSuggestionIndex = -1;\n    searchHistory = [];\n    showDeleteIcon = false;\n    showDeleteIconInternalState = false;\n    disabled = false;\n    size = \"l\";\n    isFocused = false;\n    placeholder = \"Search...\";\n    autocomplete = \"off\";\n    maxlength = null;\n    focusEmitted = false;\n    handleOutsideClick(event) {\n        const path = event.composedPath();\n        if (!path.includes(this.inputElement) &&\n            !path.includes(this.dropdownElement)) {\n            this.hideDropdown();\n        }\n    }\n    handleKeyDown(event) {\n        if (!this.showDropdown)\n            return;\n        switch (event.key) {\n            case \"ArrowDown\":\n                event.preventDefault();\n                this.navigateSuggestions(1);\n                break;\n            case \"ArrowUp\":\n                event.preventDefault();\n                this.navigateSuggestions(-1);\n                break;\n            case \"Enter\":\n                event.preventDefault();\n                if (this.selectedSuggestionIndex >= 0) {\n                    this.selectSuggestion(this.filteredSuggestions[this.selectedSuggestionIndex]);\n                }\n                else {\n                    this.handleSearch();\n                }\n                break;\n            case \"Escape\":\n                this.hideDropdown();\n                break;\n        }\n    }\n    valueWatcher(newValue) {\n        if (this.inputElement && newValue !== this.inputElement.value) {\n            this.inputElement.value = newValue;\n        }\n        this.updateSuggestions();\n    }\n    suggestionsWatcher() {\n        this.updateSuggestions();\n    }\n    handleInput = () => {\n        const query = this.inputElement.value;\n        this.value = query;\n        this.ifxInput.emit(this.value);\n        if (this.showSuggestions) {\n            this.showDropdown = true;\n            this.selectedSuggestionIndex = -1;\n            this.requestSuggestions(query);\n        }\n    };\n    handleDelete = () => {\n        if (!this.disabled) {\n            this.inputElement.value = \"\";\n            this.value = \"\";\n            this.ifxInput.emit(this.value);\n            this.hideDropdown();\n        }\n    };\n    handleSearch = () => {\n        if (this.value.trim() && this.enableHistory) {\n            // Only add to history if there are actual results\n            if (this.filteredSuggestions.length > 0) {\n                this.addToHistory(this.value);\n            }\n        }\n        this.hideDropdown();\n    };\n    focusInput() {\n        // Only emit focus event if it hasn't been emitted already\n        if (!this.focusEmitted) {\n            this.focusEmitted = true;\n            this.isFocused = true;\n            this.ifxFocus.emit();\n        }\n        if (this.showSuggestions) {\n            // On focus without input: Show only history\n            if (this.value.length === 0) {\n                this.showHistoryDropdown();\n                // Only show dropdown if history is actually present\n                this.showDropdown = this.enableHistory && this.searchHistory.length > 0;\n            }\n            else {\n                // With existing input: Normal suggestion logic\n                this.updateSuggestions();\n                this.showDropdown = this.filteredSuggestions.length > 0;\n            }\n        }\n    }\n    blurInput() {\n        setTimeout(() => {\n            this.isFocused = false;\n            this.focusEmitted = false; // Reset focus flag when blur occurs\n            this.ifxBlur.emit();\n        }, 150);\n    }\n    // Public method to update history from external sources\n    loadSearchHistory() {\n        if (this.enableHistory && typeof localStorage !== \"undefined\") {\n            const stored = localStorage.getItem(this.historyKey);\n            this.searchHistory = stored ? JSON.parse(stored) : [];\n            // Update suggestions when history is loaded\n            this.updateSuggestions();\n            // If no input and no history left, close dropdown\n            if (this.value.length === 0 && this.searchHistory.length === 0) {\n                this.showDropdown = false;\n            }\n        }\n    }\n    // Public method to completely clear history\n    clearSearchHistory() {\n        if (this.enableHistory && typeof localStorage !== \"undefined\") {\n            // Clear from localStorage\n            localStorage.removeItem(this.historyKey);\n            // Clear internal history\n            this.searchHistory = [];\n            // Reset all dropdown-relevant states\n            this.filteredSuggestions = [];\n            this.selectedSuggestionIndex = -1;\n            this.showDropdown = false;\n            // Update suggestions after reset\n            this.updateSuggestions();\n        }\n    }\n    // Suggestion Management Methods\n    addToHistory(term) {\n        if (!this.enableHistory || !term.trim())\n            return;\n        const history = [...this.searchHistory];\n        const existingIndex = history.indexOf(term);\n        if (existingIndex > -1) {\n            history.splice(existingIndex, 1);\n        }\n        history.unshift(term);\n        // Limit history to maxHistoryItems (default 5)\n        this.searchHistory = history.slice(0, this.maxHistoryItems);\n        if (typeof localStorage !== \"undefined\") {\n            localStorage.setItem(this.historyKey, JSON.stringify(this.searchHistory));\n        }\n    }\n    // Remove individual history entry\n    removeFromHistory(term) {\n        if (!this.enableHistory)\n            return;\n        const history = [...this.searchHistory];\n        const index = history.indexOf(term);\n        if (index > -1) {\n            history.splice(index, 1);\n            this.searchHistory = history;\n            // Update localStorage\n            if (typeof localStorage !== \"undefined\") {\n                localStorage.setItem(this.historyKey, JSON.stringify(this.searchHistory));\n            }\n            // Update suggestions after removal\n            this.updateSuggestions();\n            // Close dropdown if no history remains\n            if (this.searchHistory.length === 0 && this.value.length === 0) {\n                this.showDropdown = false;\n            }\n        }\n    }\n    // Handle click on history delete button\n    handleHistoryDelete = (event, term) => {\n        event.stopPropagation(); // Prevent selection of the entry\n        this.removeFromHistory(term);\n    };\n    requestSuggestions(query) {\n        this.ifxSuggestionRequested.emit(query);\n        this.updateSuggestions();\n    }\n    updateSuggestions() {\n        const query = this.value.toLowerCase();\n        let suggestions = [];\n        if (query.length > 0) {\n            // For text input: Mix external suggestions and relevant history\n            // 1. Filter external suggestions\n            if (this.suggestions && this.suggestions.length > 0) {\n                const filteredExternal = this.suggestions.filter((s) => s.text.toLowerCase().includes(query));\n                suggestions = [...suggestions, ...filteredExternal];\n            }\n            // 2. Filter relevant history entries\n            if (this.enableHistory && this.searchHistory.length > 0) {\n                const filteredHistory = this.searchHistory\n                    .filter((term) => term.toLowerCase().includes(query))\n                    .map((term, index) => ({\n                    id: `history-${index}`,\n                    text: term,\n                    type: \"history\",\n                }));\n                suggestions = [...suggestions, ...filteredHistory];\n            }\n            // 3. Sort by relevance (exact matches first, then prefix matches)\n            suggestions.sort((a, b) => {\n                const aText = a.text.toLowerCase();\n                const bText = b.text.toLowerCase();\n                // Exact match has highest priority\n                if (aText === query && bText !== query)\n                    return -1;\n                if (bText === query && aText !== query)\n                    return 1;\n                // Prefix match has second highest priority\n                const aStartsWith = aText.startsWith(query);\n                const bStartsWith = bText.startsWith(query);\n                if (aStartsWith && !bStartsWith)\n                    return -1;\n                if (bStartsWith && !aStartsWith)\n                    return 1;\n                // With equal relevance: external suggestions before history\n                if (a.type === \"suggestion\" && b.type === \"history\")\n                    return -1;\n                if (a.type === \"history\" && b.type === \"suggestion\")\n                    return 1;\n                // Alphabetical sorting as last criterion\n                return aText.localeCompare(bText);\n            });\n        }\n        else {\n            // For empty query: Show only history (no external suggestions)\n            if (this.enableHistory && this.searchHistory.length > 0) {\n                const historySuggestions = this.searchHistory.map((term, index) => ({\n                    id: `history-${index}`,\n                    text: term,\n                    type: \"history\",\n                }));\n                suggestions = historySuggestions;\n            }\n            // For empty query DO NOT show external suggestions\n        }\n        // Remove duplicates based on text and scope combination (history takes precedence over external)\n        const uniqueSuggestions = suggestions.reduce((unique, current) => {\n            const existingIndex = unique.findIndex((item) => item.text.toLowerCase() === current.text.toLowerCase() &&\n                item.scope === current.scope);\n            if (existingIndex === -1) {\n                unique.push(current);\n            }\n            else {\n                // If already exists, prefer history over external suggestions\n                if (current.type === \"history\" &&\n                    unique[existingIndex].type !== \"history\") {\n                    unique[existingIndex] = current;\n                }\n            }\n            return unique;\n        }, []);\n        this.filteredSuggestions = uniqueSuggestions.slice(0, this.maxSuggestions);\n        this.selectedSuggestionIndex = -1;\n    }\n    navigateSuggestions(direction) {\n        const maxIndex = this.filteredSuggestions.length - 1;\n        if (direction > 0) {\n            this.selectedSuggestionIndex =\n                this.selectedSuggestionIndex < maxIndex\n                    ? this.selectedSuggestionIndex + 1\n                    : 0;\n        }\n        else {\n            this.selectedSuggestionIndex =\n                this.selectedSuggestionIndex > 0\n                    ? this.selectedSuggestionIndex - 1\n                    : maxIndex;\n        }\n    }\n    selectSuggestion(suggestion) {\n        this.value = suggestion.text;\n        this.inputElement.value = suggestion.text;\n        this.ifxSuggestionSelected.emit(suggestion);\n        this.ifxInput.emit(this.value);\n        if (this.enableHistory) {\n            // Always add selected suggestions to history since they are valid results\n            this.addToHistory(suggestion.text);\n        }\n        this.hideDropdown();\n    }\n    hideDropdown() {\n        this.showDropdown = false;\n        this.selectedSuggestionIndex = -1;\n        this.isFocused = false;\n    }\n    // Show only history in dropdown (e.g. on focus without input)\n    showHistoryDropdown() {\n        if (this.enableHistory && this.searchHistory.length > 0) {\n            // Show only history entries\n            const historySuggestions = this.searchHistory.map((term, index) => ({\n                id: `history-${index}`,\n                text: term,\n                type: \"history\",\n            }));\n            this.filteredSuggestions = historySuggestions.slice(0, this.maxSuggestions);\n            this.selectedSuggestionIndex = -1;\n        }\n        else {\n            this.filteredSuggestions = [];\n        }\n    }\n    // Check if only history entries are displayed (without text input)\n    isShowingOnlyHistory() {\n        return (this.value.length === 0 &&\n            this.filteredSuggestions.length > 0 &&\n            this.filteredSuggestions.every((s) => s.type === \"history\"));\n    }\n    // Render text with highlighted matches\n    renderHighlightedText(text, query) {\n        if (!query || query.length === 0) {\n            return text;\n        }\n        const lowerText = text.toLowerCase();\n        const lowerQuery = query.toLowerCase();\n        const index = lowerText.indexOf(lowerQuery);\n        if (index === -1) {\n            return text;\n        }\n        const before = text.substring(0, index);\n        const match = text.substring(index, index + query.length);\n        const after = text.substring(index + query.length);\n        return [before, h(\"strong\", null, match), after];\n    }\n    componentWillLoad() {\n        this.loadSearchHistory();\n    }\n    async componentDidLoad() {\n        if (!isNestedInIfxComponent(this.el)) {\n            const framework = detectFramework();\n            trackComponent(\"ifx-search-field\", await framework);\n        }\n    }\n    componentWillUpdate() {\n        if (this.value !== \"\") {\n            this.showDeleteIconInternalState = true;\n        }\n        else\n            this.showDeleteIconInternalState = false;\n    }\n    render() {\n        return (h(\"div\", { key: '66c476bf3422fcbd9635cc915f04899df42662bd', \"aria-disabled\": this.disabled, \"aria-value\": this.value, class: \"search-field\" }, h(\"div\", { key: '3187e061b558cfdd03fdef7fbf70149d77280cca', class: this.getWrapperClassNames(), tabindex: 1, onClick: () => this.focusInput() }, h(\"ifx-icon\", { key: '0ed0693f1bf7221e4cb5871adf539f2ceeb16eac', icon: \"search-16\", class: \"search-icon\" }), h(\"input\", { key: 'b7d3ddb78f427826d71e1df1f3f32eab6029775d', ref: (el) => (this.inputElement = el), type: \"text\", autocomplete: this.autocomplete, onInput: () => this.handleInput(), onFocus: () => this.focusInput(), onBlur: () => this.blurInput(), placeholder: this.placeholder, disabled: this.disabled, maxlength: this.maxlength, value: this.value, role: \"combobox\", \"aria-controls\": this.showDropdown ? \"suggestions-dropdown\" : undefined, \"aria-expanded\": this.showDropdown, \"aria-autocomplete\": \"list\", \"aria-haspopup\": \"listbox\", \"aria-label\": this.ariaLabel, \"aria-labelledby\": this.ariaLabelledBy, \"aria-describedby\": this.ariaDescribedBy, \"aria-owns\": this.showDropdown ? \"suggestions-dropdown\" : undefined, \"aria-activedescendant\": this.selectedSuggestionIndex >= 0\n                ? `suggestion-${this.selectedSuggestionIndex}`\n                : undefined }), this.showDeleteIcon && this.showDeleteIconInternalState ? (h(\"ifx-icon\", { icon: \"cRemove16\", class: \"delete-icon\", onClick: this.handleDelete, role: \"button\", tabindex: \"0\", \"aria-label\": this.deleteIconAriaLabel, onKeyDown: (event) => {\n                if (event.key === \"Enter\" || event.key === \" \") {\n                    event.preventDefault();\n                    this.handleDelete();\n                }\n            } })) : null), this.showDropdown && this.filteredSuggestions.length > 0 && (h(\"div\", { key: 'fedbb257a482a8a9ad688d963dfce2e3c8dfa2ec', ref: (el) => (this.dropdownElement = el), id: \"suggestions-dropdown\", class: \"suggestions-dropdown\", role: \"listbox\", \"aria-label\": this.dropdownAriaLabel }, this.isShowingOnlyHistory() && (h(\"div\", { key: '5cc34117bc963dbf35fe7b7c4b4e7883081c6754', class: \"suggestions-header\" }, this.historyHeaderText)), this.filteredSuggestions.map((suggestion, index) => (h(\"div\", { key: suggestion.id, id: `suggestion-${index}`, class: this.getSuggestionClassNames(index), role: \"option\", \"aria-selected\": index === this.selectedSuggestionIndex, \"aria-label\": `${suggestion.type === \"history\" ? this.historyItemAriaLabel : this.suggestionAriaLabel}: ${suggestion.text}${suggestion.scope ? `, ${suggestion.scope}` : \"\"}${suggestion.resultCount ? `, ${suggestion.resultCount} results` : \"\"}`, onClick: () => this.selectSuggestion(suggestion), onMouseEnter: () => (this.selectedSuggestionIndex = index) }, h(\"div\", { class: \"suggestion-content\" }, suggestion.type === \"history\" && (h(\"ifx-icon\", { icon: \"history-16\", class: \"suggestion-icon suggestion-icon--history\" })), suggestion.type === \"suggestion\" && (h(\"ifx-icon\", { icon: \"search-16\", class: \"suggestion-icon suggestion-icon--suggestion\" })), h(\"span\", { class: \"suggestion-text\" }, h(\"span\", { class: \"suggestion-main-text\" }, this.renderHighlightedText(suggestion.text, this.value)), suggestion.scope && (h(\"span\", { class: \"suggestion-scope\" }, \"\\u2013 \", suggestion.scope))), suggestion.resultCount !== undefined && suggestion.scope && (h(\"span\", { class: \"suggestion-count\" }, suggestion.resultCount)), suggestion.type === \"history\" && (h(\"ifx-icon\", { icon: \"cross16\", class: \"suggestion-delete-icon\", role: \"button\", tabindex: \"0\", \"aria-label\": `${this.historyDeleteAriaLabel}: ${suggestion.text}`, onClick: (event) => this.handleHistoryDelete(event, suggestion.text), onKeyDown: (event) => {\n                if (event.key === \"Enter\" || event.key === \" \") {\n                    event.preventDefault();\n                    this.handleHistoryDelete(event, suggestion.text);\n                }\n            } }))))))))));\n    }\n    getSizeClass() {\n        return `${this.size}` === \"s\" ? \"search-field__wrapper-s\" : \"\";\n    }\n    getWrapperClassNames() {\n        return classNames(`search-field__wrapper`, `search-field__wrapper ${this.getSizeClass()}`, `${this.isFocused ? \"focused\" : \"\"}`, `${this.showDropdown ? \"dropdown-open\" : \"\"}`, `${this.disabled ? \"disabled\" : \"\"}`);\n    }\n    getSuggestionClassNames(index) {\n        return classNames(\"suggestion-item\", {\n            \"suggestion-item--selected\": index === this.selectedSuggestionIndex,\n            \"suggestion-item--history\": this.filteredSuggestions[index]?.type === \"history\",\n        });\n    }\n    static get watchers() { return {\n        \"value\": [\"valueWatcher\"],\n        \"suggestions\": [\"suggestionsWatcher\"]\n    }; }\n};\nSearchField.style = searchFieldCss;\n\nexport { SearchField as ifx_search_field };\n//# sourceMappingURL=ifx-search-field.entry.js.map\n"],"names":["searchFieldCss","SearchField","hostRef","registerInstance","createEvent","getElement","event","path","newValue","query","stored","term","history","existingIndex","index","suggestions","filteredExternal","s","filteredHistory","a","b","aText","bText","aStartsWith","bStartsWith","uniqueSuggestions","unique","current","item","direction","maxIndex","suggestion","historySuggestions","text","lowerText","lowerQuery","before","match","after","h","isNestedInIfxComponent","framework","detectFramework","trackComponent","el","classNames"],"mappings":"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","x_google_ignoreList":[0]}