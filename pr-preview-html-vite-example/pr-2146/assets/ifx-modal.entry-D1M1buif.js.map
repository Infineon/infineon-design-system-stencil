{"version":3,"file":"ifx-modal.entry-D1M1buif.js","sources":["../../../../node_modules/.pnpm/@infineon+infineon-design-system-stencil@39.13.1--canary.2146.22478055041.0/node_modules/@infineon/infineon-design-system-stencil/dist/esm/ifx-modal.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, a as getElement, h, d as Host } from './index-Dgx6LsCd.js';\nimport { i as isNestedInIfxComponent } from './dom-utils-CtINY9El.js';\nimport { d as detectFramework, t as trackComponent } from './tracking-DNHOWgWh.js';\n\nfunction animationTo(element, keyframes, options) {\n    const animated = element.animate(keyframes, { ...options, fill: \"both\" });\n    animated.addEventListener(\"finish\", () => {\n        animated.commitStyles();\n        animated.cancel();\n    });\n    return animated;\n}\nconst keyframeDefaults = {\n    easing: \"cubic-bezier(0.390, 0.575, 0.565, 1.000)\",\n};\nconst KEYFRAMES = {\n    fadeIn: [\n        {\n            offset: 0,\n            ...keyframeDefaults,\n            opacity: 0,\n        },\n        {\n            offset: 1,\n            ...keyframeDefaults,\n            opacity: 1,\n        },\n    ],\n    fadeOut: [\n        {\n            offset: 0,\n            ...keyframeDefaults,\n            opacity: 1,\n        },\n        {\n            offset: 1,\n            ...keyframeDefaults,\n            opacity: 0,\n        },\n    ],\n};\n\n/**\n * Copy/pasted from https://github.com/andreasbm/focus-trap\n */\n/**\n * Traverses the slots of the open shadowroots and returns all children matching the query.\n * We need to traverse each child-depth one at a time because if an element should be skipped\n * (for example because it is hidden) we need to skip all of it's children. If we use querySelectorAll(\"*\")\n * the information of whether the children is within a hidden parent is lost.\n * @param {ShadowRoot | HTMLElement} root\n * @param skipNode\n * @param isMatch\n * @param {number} maxDepth\n * @param {number} depth\n * @returns {HTMLElement[]}\n */\nfunction queryShadowRoot(root, skipNode, isMatch, maxDepth = 20, depth = 0) {\n    const matches = [];\n    // If the depth is above the max depth, abort the searching here.\n    if (depth >= maxDepth) {\n        return matches;\n    }\n    // Traverses a slot element\n    const traverseSlot = ($slot) => {\n        // Only check nodes that are of the type Node.ELEMENT_NODE\n        // Read more here https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n        const assignedNodes = $slot\n            .assignedNodes()\n            .filter((node) => node.nodeType === 1);\n        if (assignedNodes.length > 0) {\n            const $slotParent = assignedNodes[0].parentElement;\n            return queryShadowRoot($slotParent, skipNode, isMatch, maxDepth, depth + 1);\n        }\n        return [];\n    };\n    // Go through each child and continue the traversing if necessary\n    // Even though the typing says that children can't be undefined, Edge 15 sometimes gives an undefined value.\n    // Therefore we fallback to an empty array if it is undefined.\n    const children = Array.from(root.children || []);\n    for (const $child of children) {\n        // Check if the element and its descendants should be skipped\n        if (skipNode($child)) {\n            // console.log('-- SKIP', $child);\n            continue;\n        }\n        // console.log('$child', $child);\n        // If the element matches we always add it\n        if (isMatch($child)) {\n            matches.push($child);\n        }\n        if ($child.shadowRoot != null) {\n            // If the element has a shadow root we need to traverse it\n            matches.push(...queryShadowRoot($child.shadowRoot, skipNode, isMatch, maxDepth, depth + 1));\n        }\n        else if ($child.tagName === \"SLOT\") {\n            // If the child is a slot we need to traverse each assigned node\n            matches.push(...traverseSlot($child));\n        }\n        else {\n            // Traverse the children of the element\n            matches.push(...queryShadowRoot($child, skipNode, isMatch, maxDepth, depth + 1));\n        }\n    }\n    return matches;\n}\n/**\n * Returns whether the element is hidden.\n * @param $elem\n */\nfunction isHidden($elem) {\n    return ($elem.hasAttribute(\"hidden\") ||\n        ($elem.hasAttribute(\"aria-hidden\") &&\n            $elem.getAttribute(\"aria-hidden\") !== \"false\") ||\n        // A quick and dirty way to check whether the element is hidden.\n        // For a more fine-grained check we could use \"window.getComputedStyle\" but we don't because of bad performance.\n        // If the element has visibility set to \"hidden\" or \"collapse\", display set to \"none\" or opacity set to \"0\" through CSS\n        // we won't be able to catch it here. We accept it due to the huge performance benefits.\n        $elem.style.display === `none` ||\n        $elem.style.opacity === `0` ||\n        $elem.style.visibility === `hidden` ||\n        $elem.style.visibility === `collapse`);\n    // If offsetParent is null we can assume that the element is hidden\n    // https://stackoverflow.com/questions/306305/what-would-make-offsetparent-null\n    // || $elem.offsetParent == null;\n}\n/**\n * Returns whether the element is disabled.\n * @param $elem\n */\nfunction isDisabled($elem) {\n    return ($elem.hasAttribute(\"disabled\") ||\n        ($elem.hasAttribute(\"aria-disabled\") &&\n            $elem.getAttribute(\"aria-disabled\") !== \"false\"));\n}\n/**\n * Determines whether an element is focusable.\n * Read more here: https://stackoverflow.com/questions/1599660/which-html-elements-can-receive-focus/1600194#1600194\n * Or here: https://stackoverflow.com/questions/18261595/how-to-check-if-a-dom-element-is-focusable\n * @param $elem\n */\nfunction isFocusable($elem) {\n    // Discard elements that are removed from the tab order.\n    if ($elem.getAttribute(\"tabindex\") === \"-1\" ||\n        isHidden($elem) ||\n        isDisabled($elem)) {\n        return false;\n    }\n    return (\n    // At this point we know that the element can have focus (eg. won't be -1) if the tabindex attribute exists\n    $elem.hasAttribute(\"tabindex\") ||\n        // Anchor tags or area tags with a href set\n        (($elem instanceof HTMLAnchorElement || $elem instanceof HTMLAreaElement) &&\n            $elem.hasAttribute(\"href\")) ||\n        // Form elements which are not disabled\n        $elem instanceof HTMLButtonElement ||\n        $elem instanceof HTMLInputElement ||\n        $elem instanceof HTMLTextAreaElement ||\n        $elem instanceof HTMLSelectElement ||\n        // IFrames\n        $elem instanceof HTMLIFrameElement);\n}\n\nconst modalCss = () => `:host{display:block}.modal-container{display:none;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;z-index:1060;overflow-y:auto;font-family:var(--ifx-font-family)}.modal-container.open{display:flex}.modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#1D1D1D;opacity:0.5;z-index:0}.modal-content-container{position:absolute;display:flex;justify-content:center;width:90%;min-height:218px;background-color:#fff;border-radius:0;box-shadow:0 2px 10px rgba(0, 0, 0, 0.1);box-sizing:border-box;align-items:stretch}.modal-content-container.no-overflow{overflow:hidden}.modal-content-container.no-overflow .modal-body{overflow-y:auto}@media screen and (min-width: 768px){.modal-content-container{width:540px;min-height:132px}.modal-content-container.m,.modal-content-container.l,.modal-content-container.s{width:90%}}@media screen and (min-width: 1024px){.modal-content-container.s{width:47vw}.modal-content-container.m{width:63vw}.modal-content-container.l{width:80%}}.modal-content{display:flex;flex-direction:column;width:100%;max-height:90vh}.modal-icon-container{display:flex;align-items:center;justify-content:center;width:32px;background-color:#0A8276;align-self:stretch}.modal-icon-container.danger{background-color:#CD002F}.modal-icon-container ifx-icon{color:#FFFFFF}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;min-height:76px;max-height:105px;box-sizing:border-box;border-radius:1px 1px 0px 0px;border-bottom:1px solid #EEEDED}.modal-caption{max-height:56px;display:-webkit-box;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;-webkit-line-clamp:2;-webkit-box-orient:vertical}.modal-header h2{margin:0;font-weight:600;font-size:1.25rem;line-height:28px}.modal-header button{background:none;border:none;font-size:1.5em;padding:0;cursor:pointer}.modal-close-button{align-self:flex-start;margin-right:-8px}.modal-body{padding:16px 24px;min-height:56px;box-sizing:border-box;flex:1}.modal-footer.buttons-present ::slotted(*){display:flex;justify-content:flex-end;gap:16px;padding:16px 24px 32px 16px}.modal-border{display:flex;align-items:center;justify-content:center;width:100%;font-size:1.5em;flex-grow:1}.modal-border.primary{background-color:#0A8276}.modal-border.secondary{background-color:#575352}.modal-border.danger{background-color:#CD002F}.modal-border.success{background-color:#4CA460}.modal-border.warning{background-color:#E16B25}.modal-border.orange{background-color:#E16B25}.modal-border.ocean{background-color:#0A8276}.modal-border.grey{background-color:#575352}.modal-border.grey-200{background-color:#EEEDED}.modal-border.red{background-color:#CD002F}.modal-border.green{background-color:#4CA460}.modal-border.berry{background-color:#9C216E}`;\n\nconst IfxModal = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.ifxOpen = createEvent(this, \"ifxOpen\", 7);\n        this.ifxClose = createEvent(this, \"ifxClose\", 7);\n    }\n    opened = false;\n    showModal = this.opened || false;\n    caption = \"Modal Title\";\n    captionAriaLabel;\n    closeOnOverlayClick = true;\n    ifxOpen;\n    ifxClose;\n    variant = \"default\";\n    size = \"s\";\n    alertIcon = \"\";\n    okButtonLabel = \"OK\";\n    cancelButtonLabel = \"Cancel\";\n    closeButtonAriaLabel;\n    get hostElement() { return getElement(this); }\n    slotButtonsPresent = false;\n    showCloseButton = true;\n    modalContainer;\n    focusableElements = [];\n    closeButton;\n    resizeTimeout;\n    handleResize = () => {\n        clearTimeout(this.resizeTimeout);\n        this.resizeTimeout = setTimeout(() => {\n            if (this.showModal) {\n                this.handleComponentOverflow();\n            }\n        }, 100);\n    };\n    async componentDidLoad() {\n        if (!isNestedInIfxComponent(this.hostElement)) {\n            const framework = detectFramework();\n            trackComponent(\"ifx-modal\", await framework);\n        }\n        // Query all focusable elements and store them in `focusableElements`.\n        // Needed for the \"focus trap\" functionality.\n        this.focusableElements = queryShadowRoot(this.hostElement.shadowRoot, (el) => isHidden(el) || el.matches(\"[data-focus-trap-edge]\"), isFocusable);\n        window.addEventListener(\"resize\", this.handleResize);\n    }\n    disconnectedCallback() {\n        window.removeEventListener(\"resize\", this.handleResize);\n    }\n    componentWillRender() {\n        if (this.showModal) {\n            this.handleComponentOverflow();\n        }\n    }\n    async handleComponentOverflow() {\n        const modalContentContainer = this.hostElement.shadowRoot.querySelector(\".modal-content-container\");\n        if (this.showModal &&\n            (await this.isModalContentContainerHeightReachedViewport())) {\n            modalContentContainer.classList.add(\"no-overflow\");\n        }\n        else if (modalContentContainer?.classList.contains(\"no-overflow\")) {\n            modalContentContainer?.classList.remove(\"no-overflow\");\n        }\n    }\n    getFirstFocusableElement() {\n        return this.focusableElements[0];\n    }\n    getLastFocusableElement() {\n        return this.focusableElements[this.focusableElements.length - 1];\n    }\n    handleTopFocus = () => {\n        this.attemptFocus(this.getLastFocusableElement());\n    };\n    handleBottomFocus = () => {\n        this.attemptFocus(this.getFirstFocusableElement());\n    };\n    attemptFocus(element) {\n        if (element == null) {\n            setTimeout(() => {\n                //wait until DOM is fully loaded\n                this.closeButton.focus();\n            });\n            return;\n        }\n        setTimeout(() => {\n            //wait until DOM is fully loaded\n            element.focus();\n        }, 0);\n    }\n    open() {\n        this.showModal = true;\n        try {\n            const anim = animationTo(this.modalContainer, KEYFRAMES.fadeIn, {\n                duration: 200,\n            });\n            anim.addEventListener(\"finish\", () => {\n                // Setting focus on last item and removing immediately\n                // so, on tab press first element is focused\n                setTimeout(() => {\n                    this.getLastFocusableElement()?.focus();\n                    this.getLastFocusableElement()?.blur();\n                }, 0);\n                this.ifxOpen.emit();\n            });\n            this.hostElement.addEventListener(\"keydown\", this.handleKeypress);\n        }\n        catch (err) {\n            this.ifxOpen.emit();\n        }\n    }\n    close() {\n        try {\n            const anim = animationTo(this.modalContainer, KEYFRAMES.fadeOut, {\n                duration: 200,\n            });\n            anim.addEventListener(\"finish\", () => {\n                this.showModal = false;\n                this.ifxClose.emit();\n            });\n            this.hostElement.removeEventListener(\"keydown\", this.handleKeypress);\n        }\n        catch (err) {\n            this.showModal = false;\n            this.ifxClose.emit();\n        }\n    }\n    handleKeypress = (event) => {\n        if (!this.showModal) {\n            return;\n        }\n        if (event.key === \"Escape\") {\n            this.doBeforeClose(\"ESCAPE_KEY\");\n        }\n    };\n    doBeforeClose(trigger) {\n        const triggers = [];\n        triggers.push(trigger);\n        const prevented = triggers.some((event) => event.defaultPrevented);\n        if (!prevented) {\n            this.opened = false;\n        }\n    }\n    openedChanged(newValue) {\n        if (newValue === true) {\n            this.open();\n        }\n        else {\n            this.close();\n        }\n    }\n    handleOverlayClick() {\n        if (this.closeOnOverlayClick) {\n            this.doBeforeClose(\"BACKDROP\");\n        }\n    }\n    handleContentUpdate(e) {\n        const slotElement = e.target;\n        const nodes = slotElement.assignedNodes();\n        if (nodes.length > 0) {\n            nodes.forEach((node) => {\n                if (node.observer) {\n                    node.observer.disconnect();\n                    delete node.observer;\n                }\n                const observer = new MutationObserver((mutationsList, _) => {\n                    for (const mutation of mutationsList) {\n                        if (mutation.type === \"childList\") {\n                            if (this.showModal) {\n                                this.handleComponentOverflow();\n                            }\n                        }\n                    }\n                });\n                observer.observe(node, {\n                    attributes: true,\n                    childList: true,\n                    subtree: true,\n                });\n                node.observer = observer;\n            });\n        }\n    }\n    handleButtonsSlotChange(e) {\n        if (e.currentTarget.assignedElements()[0]?.childElementCount > 0) {\n            this.slotButtonsPresent = true;\n        }\n        else {\n            this.slotButtonsPresent = false;\n        }\n    }\n    isModalContentContainerHeightReachedViewport() {\n        //Adding timeout for proper height detection on Edge browser\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                const modalContent = this.hostElement.shadowRoot.querySelector(\".modal-content\");\n                const modalContentHeight = modalContent.offsetHeight;\n                const viewportHeight = window.innerHeight;\n                const extraMarginForEdgeBrowser = 3;\n                resolve(modalContentHeight + extraMarginForEdgeBrowser >=\n                    viewportHeight * 0.9);\n            }, 100);\n        });\n    }\n    render() {\n        const isAlertVariant = this.variant !== \"default\";\n        return (h(Host, { key: 'be9ce3a421591a384480a9b7a9d5b49dce5c148d' }, h(\"div\", { key: 'e0a4af9adfd48603c93ef4adef3ee4c45b90f26f', ref: (el) => (this.modalContainer = el), class: `modal-container ${this.showModal ? \"open\" : \"\"}` }, h(\"div\", { key: '25d489a9ef78b28ba91fca1e12c2c71b11ef7eb2', class: \"modal-overlay\", onClick: () => this.handleOverlayClick() }), h(\"div\", { key: '67b4c9237bf3ffc125e04b4380cd7233d8fdecd1', \"data-focus-trap-edge\": true, onFocus: this.handleTopFocus, tabindex: \"0\" }), h(\"div\", { key: 'e4014775c7eee20387321ee0f662ce8d783858bb', class: `modal-content-container ${this.size}`, role: \"dialog\", \"aria-modal\": \"true\", \"aria-label\": this.captionAriaLabel }, isAlertVariant ? (h(\"div\", { class: `modal-icon-container ${this.variant === \"alert-brand\" ? \"\" : \"danger\"}` }, this.alertIcon ? h(\"ifx-icon\", { icon: this.alertIcon }) : null)) : null, h(\"div\", { key: '3639d0ee72fda7f4eee4cc14ae9d014d3cb2a131', class: \"modal-content\" }, h(\"div\", { key: '987ac63d3bb5cfc430bc7b8509fef10a3b79f0fd', class: \"modal-header\" }, h(\"h2\", { key: 'd1e6c08e8b0a8d47420468e6e223e6a05d989e15', class: \"modal-caption\" }, this.caption), this.showCloseButton && (h(\"ifx-icon-button\", { key: 'e412e2578e5a13177996bdab3483110601ca9581', class: \"modal-close-button\", ref: (el) => (this.closeButton = el), icon: \"cross-16\", variant: \"tertiary\", onClick: () => this.doBeforeClose(\"CLOSE_BUTTON\") }))), h(\"div\", { key: '4929e0abb8c3c08f714edfedc4738a27a8b5ea5f', class: \"modal-body\" }, h(\"slot\", { key: 'ff55f846614c3c667ec733885dc283236b0af62a', name: \"content\", onSlotchange: (e) => this.handleContentUpdate(e) })), h(\"div\", { key: '7b03de0fd1a0b4bff0ec7f9263ed1a80eb7641ef', class: `modal-footer ${this.slotButtonsPresent ? \"buttons-present\" : \"\"}` }, h(\"slot\", { key: 'c30ea0a31f1f9d1c66c0aab91e7f851c0ee8bec6', name: \"buttons\", onSlotchange: (e) => this.handleButtonsSlotChange(e) })))), h(\"div\", { key: '966d127acd3e1bcb57ffddd5b7bae1fe3cf4fa55', \"data-focus-trap-edge\": true, onFocus: this.handleBottomFocus, tabindex: \"0\" }))));\n    }\n    static get watchers() { return {\n        \"opened\": [{\n                \"openedChanged\": 0\n            }]\n    }; }\n};\nIfxModal.style = modalCss();\n\nexport { IfxModal as ifx_modal };\n//# sourceMappingURL=ifx-modal.entry.js.map\n\n//# sourceMappingURL=ifx-modal.entry.js.map"],"names":["animationTo","element","keyframes","options","animated","keyframeDefaults","KEYFRAMES","queryShadowRoot","root","skipNode","isMatch","maxDepth","depth","matches","traverseSlot","$slot","assignedNodes","node","$slotParent","children","$child","isHidden","$elem","isDisabled","isFocusable","modalCss","IfxModal","hostRef","registerInstance","createEvent","getElement","isNestedInIfxComponent","framework","detectFramework","trackComponent","el","modalContentContainer","event","trigger","triggers","newValue","nodes","observer","mutationsList","_","mutation","resolve","modalContentHeight","viewportHeight","isAlertVariant","h","Host","e"],"mappings":"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","x_google_ignoreList":[0]}