"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[916],{9916:(m,d,c)=>{c.r(d),c.d(d,{ifx_multi_select_input:()=>u});var p=c(5861),i=c(7821);const u=class{constructor(e){(0,i.r)(this,e),this.addActiveMenuItem=t=>{const n=this.getClickedElement(t.composedPath()[0]);if(n){if(t.target.checkable)return void this.toggleCheckbox(n);this.removeActiveMenuItem(),this.handleClassList(n,"add","active"),this.toggleDropdownMenu(t)}},this.Placeholder="",this.isEmpty=!0,this.isOverflowing=!1}handleOutsideClick(e){e.composedPath().includes(this.el)||this.closeDropdownMenu()}handleButtonClose(e){var t,n;const l=null===(t=e.detail)||void 0===t?void 0:t.getAttribute("target"),o=this.el.querySelectorAll("ifx-dropdown-item"),s=this.el.shadowRoot.querySelector(".dropdown").querySelectorAll("ifx-multi-select-input-item");for(let r=0;r<o.length;r++)o[r].index===Number(l)&&(o[r].shadowRoot.querySelector("ifx-checkbox").checked=!1);if(null===(n=e.detail)||void 0===n||n.remove(),e&&e.check)for(let r=0;r<s.length;r++){let h=s[r].getAttribute("target");Number(e.target.index)===Number(h)&&s[r].remove()}this.togglePlaceHolder(),this.toggleSlideButtons()}togglePlaceHolder(){const t=this.getMultiSelectFieldWrapper().querySelector("ifx-multi-select-input-item");t&&this.isEmpty?this.isEmpty=!1:!t&&!this.isEmpty&&(this.isEmpty=!0)}toggleSlideButtons(){const e=this.getMultiSelectFieldWrapper();this.isOverflown(e)?this.isOverflowing=!0:this.isOverflowing&&(this.isOverflowing=!1)}getDropdownMenu(){let e=this.el.querySelector("ifx-dropdown-menu");if(e)return e=this.el.querySelector("ifx-dropdown-menu").shadowRoot,e.querySelector(".dropdown-menu")}getDropdownWrapper(){return this.el.shadowRoot.querySelector(".dropdown")}getDropdownItems(){return this.el.querySelectorAll("ifx-dropdown-item")}handleClassList(e,t,n){e?.classList[t](n)}toggleDropdownMenu(e){if(e.composedPath()[0].closest("span"))return;const n=this.getMultiSelectFieldContainer(),l=this.getDropdownMenu(),o=this.getDropdownWrapper();this.handleClassList(l,"toggle","show"),this.handleClassList(o,"toggle","show"),this.handleClassList(n,"toggle","show")}closeDropdownMenu(){const e=this.getDropdownMenu(),t=this.getDropdownWrapper(),n=this.getMultiSelectFieldContainer();this.handleClassList(e,"remove","show"),this.handleClassList(t,"remove","show"),this.handleClassList(n,"remove","show")}removeActiveMenuItem(){const e=this.getDropdownItems();for(let t=0;t<e.length;t++)this.handleClassList(e[t].shadowRoot.querySelector("a"),"remove","active")}toggleCheckbox(e){e.querySelector("ifx-checkbox").checked=!e.querySelector("ifx-checkbox").checked}getClickedElement(e){return(e instanceof SVGElement||!e.className.includes("dropdown-menu")&&!e.className.includes("form-check-input"))&&e.closest(".dropdown-item")}getMultiSelectFieldWrapper(){return this.el.shadowRoot.querySelector(".multiSelectInput__content")}getMultiSelectFieldContainer(){return this.el.shadowRoot.querySelector(".multiSelectInput__container")}getMultiSelectFieldIconWrapper(){return this.el.shadowRoot.querySelector(".multiSelectInput__container").querySelector(".multiSelectInput__icon-wrapper")}addSelectItemsToArray(){var t=this.getMultiSelectFieldWrapper().querySelectorAll("ifx-multi-select-input-item");return Array.from(t).reduce(function(l,o){return l+o.offsetWidth},0)}isOverflown(e){return e.scrollWidth>e.clientWidth}addSelectSlider(e){var t=this.getMultiSelectFieldWrapper(),n=t.querySelectorAll("ifx-multi-select-input-item"),l=Array.from(n).reduce(function(o,s){return o+s.offsetWidth},0);"left"===e?t.scrollLeft-=l:"right"===e&&(t.scrollLeft+=l)}addItemValueToTextField(e){var t=this;return(0,p.Z)(function*(){var n;const l=t.getMultiSelectFieldWrapper(),o=document.createElement("ifx-multi-select-input-item");o.setAttribute("target",null===(n=e.target)||void 0===n?void 0:n.index),o.setAttribute("content",e.value),l.append(o),setTimeout(()=>{t.toggleSlideButtons()},20)})()}addEventListeners(){const e=this.getDropdownMenu();let t=this.el.querySelector("ifx-dropdown-menu");document.addEventListener("click",this.handleOutsideClick.bind(this)),e.addEventListener("click",this.addActiveMenuItem),t.addEventListener("selectValues",n=>{this.addItemValueToTextField(n.detail),this.handleButtonClose(n.detail)})}componentDidLoad(){this.getMultiSelectFieldContainer().addEventListener("click",this.toggleDropdownMenu.bind(this)),this.addEventListeners()}render(){return(0,i.h)("div",{class:"multiSelect dropdown"},(0,i.h)("div",{class:"multiSelectInput__container",tabindex:1},this.isOverflowing&&(0,i.h)("span",{class:"prev",onClick:()=>this.addSelectSlider("left")},(0,i.h)("ifx-icon",{icon:"chevron-left-16"})),this.isOverflowing&&(0,i.h)("span",{class:"next",onClick:()=>this.addSelectSlider("right")},(0,i.h)("ifx-icon",{icon:"chevron-right-16"})),(0,i.h)("div",{class:"multiSelectInput__wrapper"},(0,i.h)("div",{class:"multiSelectInput__content"},this.isEmpty&&(0,i.h)("span",null,this.Placeholder))),(0,i.h)("div",{class:"multiSelectInput__icon-wrapper"},(0,i.h)("ifx-icon",{icon:"chevron-down-16"}))),(0,i.h)("slot",{name:"menu"}))}get el(){return(0,i.g)(this)}};u.style=".multiSelect.dropdown{box-sizing:border-box;width:300px;border:1px solid transparent}.multiSelect.dropdown:active{outline:none;border:1px solid #0A8276}.multiSelectInput__container{position:relative;display:flex;flex-direction:column;align-items:flex-start;padding:0px;width:100%;border:1px solid #8D8786;flex:none;order:0;align-self:stretch;flex-grow:0}.multiSelectInput__container:focus:not(.success,:active){outline:2px solid #0A8276;border:1px solid #3C3A39;border-radius:1px;outline-offset:2px}.multiSelectInput__container:hover:not(:disabled,.success){border:1px solid #3C3A39;cursor:pointer}.multiSelectInput__container.success{border:1px solid #4CA460}.multiSelectInput__container.success:focus{outline:none}.multiSelectInput__container .prev{position:absolute;top:7px;left:5px;z-index:1000;cursor:pointer}.multiSelectInput__container .prev ifx-icon svg{width:10px}.multiSelectInput__container .next{position:absolute;top:7px;right:40px;z-index:1000;cursor:pointer}.multiSelectInput__container .next ifx-icon svg{width:10px}.multiSelectInput__container .multiSelectInput__icon-wrapper:hover{cursor:pointer}.multiSelectInput__container.show .multiSelectInput__icon-wrapper ifx-icon{transition:0.3s;transform:rotate(180deg)}.multiSelectInput__container .multiSelectInput__icon-wrapper ifx-icon{position:absolute;top:12px;right:17px;transition:0.3s}.multiSelectInput__container .multiSelectInput__wrapper{position:relative;box-sizing:border-box;display:flex;flex-direction:row;align-items:center;padding:0px;height:40px;left:20px;width:220px;background-color:#ffffff;color:#1D1D1D;border-radius:1px;flex:none;flex-grow:0}.multiSelectInput__container .multiSelectInput__wrapper .multiSelectInput__content{box-sizing:border-box;display:flex;flex-direction:row;width:220px;gap:6px;font-size:14px;overflow:hidden}.multiSelectInput__container .multiSelectInput__wrapper .multiSelectInput__content span{font-style:normal;font-weight:400;font-size:16px;line-height:24px;pointer-events:none;color:#8D8786;flex:none;order:1;flex-grow:1}.multiSelectInput__container .textInput__bottom-wrapper-error{font-style:normal;font-weight:400;font-size:12px;line-height:16px;letter-spacing:0.2px;color:#CD002F;flex:none;order:1;align-self:stretch;flex-grow:0}"}}]);