import { Meta, Primary, Controls, Canvas, Story } from '@storybook/blocks';
import * as TableStories from './table.stories';
 
<Meta of={TableStories} />

# Table

<Canvas of={TableStories.Pagination} sourceState="shown" />

<Controls />


## Stories

### Including pagination
<Canvas of={TableStories.Pagination} sourceState="shown" />

### Including custom components

It is possible to fill table cells with custom Ifx web components.
Currently, following components can be included:
* Button
* Icon Button
* Link
* Badge
* Status

For this, column definitions need to include the corresponding field name and be passed in the following format:
Rows that should display a button, need to have a reference to the button column and include the desired configuration of the button component.

```javascript
const columnDefsWithButtonCol = [
  { headerName: 'Model', field: 'model', sortable: true, unSortIcon: true },
  { headerName: '', field: 'button' }
  ...
];


const rowDataWithButtonCol = [
  {
    make: 'Porsche', model: 'Boxster', price: 72000, button: {
      disabled: false, (optional)
      variant: "secondary", (optional)
      size: "s", (optional)
      target: "_blank", (optional)
      color: "secondary", (optional)
      text: "Button"
      // ... you can extend this as per the properties of `ifx-button`
    }
  }
];
```


#### Button column

<Canvas of={TableStories.IncludesButtons} sourceState="shown" />


<b>Hint for Vue Developers:</b> 
The Radio Button component is not usable in combination with v-model. Instead, use v-bind/v-on.

```js
`<ifx-table 
row-height='${args.rowHeight}'
cols='${JSON.stringify(args.columnDefs)}' 
rows='${JSON.stringify(args.rowData)}'>
</ifx-table>`
```


### Set filter

Advanced filtering can be done including our set-filter component via a named slot within the table.
The set filter can be of type 'text', 'single-select', or 'multi-select'. An additional type to offer filtering using chips will be available in the future.
Filtering using our select components requires an input array in the following format:

```
const columnFilterOptions = [{
  value: "a",
  label: "option a",
  selected: false
},
{
  value: "b",
  label: "option b",
  selected: false
},
{
  value: "c",
  label: "option c",
  selected: false
}];
```

<Canvas of={TableStories.SetFilter} sourceState="shown" />


```js
    `<ifx-table 
    row-height='${args.rowHeight}'
    cols='${JSON.stringify(args.columnDefs)}' 
    rows='${JSON.stringify(args.rowData)}'
    table-height='${args.tableHeight}'
    pagination='${args.pagination}'
    pagination-page-size='${args.paginationPageSize}'>
    <ifx-set-filter slot="set-filter" filter-name="${columnName}" type="text"></ifx-set-filter>
    <ifx-set-filter slot="set-filter" filter-name="${columnName}"  type="multi-select" options='${JSON.stringify(columnFilterOptions)}'></ifx-set-filter>
    <ifx-set-filter slot="set-filter" filter-name="${columnName}"  type="single-select" options='${JSON.stringify(ccolumnFilterOptions)}'></ifx-set-filter>
    </ifx-table>`
```
