{"file":"ifx-table.js","mappings":";;;AASO,MAAM,UAAU,GAAiC,CAAC,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;;MCNrG,kBAAkB;;EAQ7B,IAAI,CAAC,MAA2B;IAC9B,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAE1C,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE;;MAEhC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG;;;qBAGP,MAAM,CAAC,QAAQ;oBAChB,MAAM,CAAC,OAAO;iBACjB,MAAM,CAAC,IAAI;mBACT,MAAM,CAAC,MAAM;kBACd,MAAM,CAAC,KAAK;YAClB,MAAM,CAAC,IAAI;;;QAGf,CAAC;;MAGH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;KACtD;;;;SAII;MACH,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG;;UAElB,MAAM;;MAEV,CAAC;KACF;GACF;EAGD,MAAM;IACJ,OAAO,IAAI,CAAC,IAAI,CAAC;GAClB;;EAGD,OAAO,CAAC,MAA2B;;IAEjC,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IAClC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,EAAE;;MAEhC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG;;;qBAGP,MAAM,CAAC,QAAQ;oBAChB,MAAM,CAAC,OAAO;iBACjB,MAAM,CAAC,IAAI;mBACT,MAAM,CAAC,MAAM;kBACd,MAAM,CAAC,KAAK;YAClB,MAAM,CAAC,IAAI;;;QAGf,CAAC;;MAGH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;KACtD;;;;SAII;MACH,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG;;UAElB,MAAM;;MAEV,CAAC;KACF;;IAED,OAAO,IAAI,CAAC;GACb;;EAGD,OAAO;;IAEL,IAAI,IAAI,CAAC,OAAO,EAAE;;MAEhB,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;KAC/D;GACF;EAED,sBAAsB,CAAC,MAA2B;IAChD,OAAO,MAAM,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,GAAG,MAAM,CAAC,KAAK,CAAC;GACrE;EAED,QAAQ,CAAC,KAAU;IACjB,OAAO,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,WAAW,KAAK,MAAM,CAAC;GAC3E;EAED,eAAe,CAAC,GAAQ;IACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;MAAE,OAAO,KAAK,CAAC;IACtC,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,CAAC,CAAC;GAC5C;;;AC3GH,MAAM,QAAQ,GAAG,+qiNAA+qiN;;MCUnriN,KAAK;;;;;;;sBAIY,EAAE;mBACL,EAAE;qBACC,SAAS;;uBAEP,MAAM;sBACN,KAAK;8BACE,EAAE;;EAIvC,iBAAiB;IACf,IAAI,CAAC,SAAS,GAAG,UAAU,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;IACjE,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;MAClE,IAAI;QACF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;OACtC;MAAC,OAAO,GAAG,EAAE;QACZ,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;OAC9C;KACF;SAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,MAAM,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,EAAE;MACrI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;MAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;KAE1B;SAAM;MACL,OAAO,CAAC,KAAK,CAAC,qCAAqC,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAC5E;IACD,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAGzB,IAAI,CAAC,WAAW,GAAG;MACjB,SAAS,EAAE,IAAI,CAAC,SAAS,KAAK,SAAS,GAAG,EAAE,GAAG,EAAE;MACjD,YAAY,EAAE,EAAE;MAChB,aAAa,EAAE;QACb,SAAS,EAAE,IAAI;OAChB;MACD,6BAA6B,EAAE,IAAI;MACnC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB;MAC7C,UAAU,EAAE,IAAI,CAAC,UAAU;MAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;MACrB,KAAK,EAAE;QACL,aAAa,EAAE,gDAAgD;QAC/D,cAAc,EAAE,kDAAkD;QAClE,UAAU,EAAE,8FAA8F;OAC3G;MACD,cAAc,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK;MAClF,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,IAAI,CAAC,GAAG,IAAI,GAAG,KAAK;MAC/E,UAAU,EAAE,IAAI,CAAC,UAAU;MAC3B,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;KAC5C,CAAC;GAEH;EAGD,mBAAmB,CAAC,MAA8B;IAChD,MAAM,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;GAC/B;EAGD,mBAAmB;IACjB,IAAI,CAAC,WAAW,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IAC9C,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACxC,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;MACxB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;MAC9C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KACrD;GACF;EAED,gBAAgB;IACd,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,YAAY,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAClF,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;MACxB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;KACzC;GACF;EAGD,MAAM;;;;IAIJ,QACE,WAAK,EAAE,EAAC,cAAc,EAAC,KAAK,EAAE,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,KAAK,MAAM,GAAG,IAAI,GAAG,KAAK,EAAE,IAEzF,WAAK,EAAE,EAAE,YAAY,IAAI,CAAC,SAAS,EAAE,EAAE,KAAK,EAAC,iBAAiB,EAAC,KAAK,EAAE;QACpE,QAAQ,EAAE,GAAG,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,MAAM;OAC/C,GAAS,CACL,EACP;GAGH;EAGD,YAAY;IACV,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC;GAClE;EAID,iBAAiB;IACf,MAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC;IAC/E,IAAI,YAAY,EAAE;MAChB,YAAY,CAAC,YAAY,GAAG,kBAAkB,CAAC;KAChD;GACF;;;;;;;;;;;;;EAkBD,UAAU,CAAC,KAAK;IACd,IAAI,aAAa,GAAG,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC;IAE9C,IAAI,aAAa,EAAE;MACjB,KAAK,CAAC,YAAY,CAAC,UAAU,GAAG,MAAM,CAAC;KACxC;IAED,KAAK,CAAC,cAAc,EAAE,CAAC;GACxB;EAED,MAAM,CAAC,KAAK;IACV,IAAI,QAAQ,GAAG,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;IAE9D,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC7C,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACnC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;IAE9B,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;IAE3D,YAAY,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACnC,KAAK,CAAC,cAAc,EAAE,CAAC;GACxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/table/interfaces.ts","src/components/table/buttonCellRenderer.ts","src/components/table/table.scss?tag=ifx-table","src/components/table/table.tsx"],"sourcesContent":["export interface ButtonInterface {\n  disabled?: boolean;\n  variant?: string,\n  size?: string,\n  target?: string,\n  color?: string,\n  text: string\n}\n\nexport const ButtonKeys: Array<keyof ButtonInterface> = ['disabled', 'variant', 'size', 'target', 'color', 'text'];\n\n\n","import { ICellRendererComp, ICellRendererParams } from 'ag-grid-community';\nimport { ButtonInterface, ButtonKeys } from './interfaces';\n\nexport class ButtonCellRenderer implements ICellRendererComp {\n  eGui!: HTMLDivElement;\n  eButton: any;\n  eValue: any;\n  cellValue: any;\n  eventListener!: () => void;\n\n  // gets called once before the renderer is used\n  init(params: ICellRendererParams) {\n    const config = params.data.button;\n    this.eGui = document.createElement('div');\n\n    if (this.hasRequiredKeys(config)) {\n      // create the cell\n      this.eGui.innerHTML = `\n        <span>\n          <ifx-button\n          disabled=${config.disabled}\n          variant=${config.variant}\n          size=${config.size}\n          target=${config.target}\n          color=${config.color}>\n          ${config.text}\n        </ifx-button>\n        </span>\n       `;\n\n      // get references to the elements we want\n      this.eButton = this.eGui.querySelector('ifx-button');\n    }\n    // // add event listener to button\n    // this.eventListener = () => alert('Button clicked!');\n    // this.eButton?.addEventListener('click', this.eventListener);\n    else {\n      this.eGui.innerHTML = `\n      <span>\n        ${config}\n      </span>\n     `;\n    }\n  }\n\n\n  getGui() {\n    return this.eGui;\n  }\n\n  // gets called whenever the cell refreshes\n  refresh(params: ICellRendererParams) {\n    // set value into cell again\n    const config = params.data.button;\n    this.eGui = document.createElement('div');\n    if (this.hasRequiredKeys(config)) {\n      // create the cell\n      this.eGui.innerHTML = `\n        <span>\n          <ifx-button\n          disabled=${config.disabled}\n          variant=${config.variant}\n          size=${config.size}\n          target=${config.target}\n          color=${config.color}>\n          ${config.text}\n        </ifx-button>\n        </span>\n       `;\n\n      // get references to the elements we want\n      this.eButton = this.eGui.querySelector('ifx-button');\n    }\n    // // add event listener to button\n    // this.eventListener = () => alert('Button clicked!');\n    // this.eButton?.addEventListener('click', this.eventListener);\n    else {\n      this.eGui.innerHTML = `\n      <span>\n        ${config}\n      </span>\n     `;\n    }\n    // return true to tell the grid we refreshed successfully\n    return true;\n  }\n\n  // gets called when the cell is removed from the grid\n  destroy() {\n    // do cleanup, remove event listener from button\n    if (this.eButton) {\n      // check that the button element exists as destroy() can be called before getGui()\n      this.eButton.removeEventListener('click', this.eventListener);\n    }\n  }\n\n  getFieldValueToDisplay(params: ICellRendererParams) {\n    return params.valueFormatted ? params.valueFormatted : params.value;\n  }\n\n  isObject(value: any): value is Object {\n    return value && typeof value === 'object' && value.constructor === Object;\n  }\n\n  hasRequiredKeys(obj: any): obj is ButtonInterface {\n    if (!this.isObject(obj)) return false;\n    return ButtonKeys.every(key => key in obj);\n  }\n\n}","@use \"~@infineon/design-system-tokens/dist/tokens\";\n@use \"../../global/font.scss\";\n\n@import \"~ag-grid-community/styles/ag-grid.css\";\n@import \"~ag-grid-community/styles/ag-theme-alpine.css\";\n\n\n\n.auto-height .ag-theme-alpine .ag-root-wrapper-body {\n  height: auto !important;\n}\n\n\n\n.ag-root-wrapper {\n  border: none;\n}\n\n\n.ag-header {\n  background-color: tokens.$ifxColorEngineering100;\n  border-bottom: none;\n}\n\n.ag-header-cell {\n  padding-left: 16px;\n  padding-right: 16px;\n  gap: 4px;\n}\n\n\n\n.ag-header-cell-text {\n  font-size: 13px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  color: tokens.$ifxColorBaseBlack;\n}\n\n.ag-theme-alpine .ag-row-focus {\n  background-color: inherit !important;\n  /* Reset the hover color to the row's original color */\n}\n\n.ag-theme-alpine .ag-row-hover {\n  background-color: inherit !important;\n  /* Reset the hover color to the row's original color */\n}\n\n.ag-theme-alpine .ag-cell-focus {\n  border: none !important;\n  outline: none !important;\n\n}\n\n.ag-theme-alpine .ag-cell-focus {\n  border: none !important;\n  background-color: inherit !important;\n}\n\n\n\n.ag-row {\n  background-color: tokens.$ifxColorBaseWhite;\n  border-bottom: 1px solid tokens.$ifxColorEngineering200;\n  font-size: 13;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n\n}\n\n.ag-row-odd {\n  background-color: tokens.$ifxColorBaseWhite;\n}\n\n.ag-cell {\n  padding-left: 16px;\n  padding-right: 16px;\n}\n\n.ag-ltr .ag-sort-indicator-icon {\n  padding-left: 0px;\n}\n\n.unsort-icon-custom-color {\n  color: tokens.$ifxColorEngineering400;\n}","import { Component, h, Prop, State } from '@stencil/core';\nimport { FirstDataRenderedEvent, Grid, GridOptions } from 'ag-grid-community';\nimport { ButtonCellRenderer } from './buttonCellRenderer';\n\n\n@Component({\n  tag: 'ifx-table',\n  styleUrl: 'table.scss',\n  shadow: false // only works with shadowdom off because we are using an external library\n})\nexport class Table {\n  @State() gridOptions: GridOptions;\n  @Prop() cols: any[] | string;\n  @Prop() rows: any[] | string;\n  @Prop() columnDefs: any[] = [];\n  @Prop() rowData: any[] = [];\n  @Prop() rowHeight: string = 'default'; //default or compact\n  @Prop() uniqueKey: string;\n  @Prop() tableHeight: string = 'auto';\n  @Prop() pagination: boolean = false;\n  @Prop() paginationPageSize: number = 10;\n\n\n\n  componentWillLoad() {\n    this.uniqueKey = `unique-${Math.floor(Math.random() * 1000000)}`;\n    if (typeof this.rows === 'string' && typeof this.cols === 'string') {\n      try {\n        this.columnDefs = JSON.parse(this.cols);\n        this.rowData = JSON.parse(this.rows);\n      } catch (err) {\n        console.error('Failed to parse input:', err);\n      }\n    } else if ((Array.isArray(this.rows) || typeof this.rows === 'object') && (Array.isArray(this.cols) || typeof this.cols === 'object')) {\n      this.columnDefs = this.cols;\n      this.rowData = this.rows;\n\n    } else {\n      console.error('Unexpected value for cols and rows:', this.rows, this.cols);\n    }\n    this.setButtonRenderer();\n\n\n    this.gridOptions = {\n      rowHeight: this.rowHeight === 'default' ? 40 : 32,\n      headerHeight: 40,\n      defaultColDef: {\n        resizable: true,\n      },\n      suppressDragLeaveHidesColumns: true,\n      onFirstDataRendered: this.onFirstDataRendered,\n      columnDefs: this.columnDefs,\n      rowData: this.rowData,\n      icons: {\n        sortAscending: '<ifx-icon icon=\"arrowtriangleup16\"></ifx-icon>',\n        sortDescending: '<ifx-icon icon=\"arrowtriangledown16\"></ifx-icon>',\n        sortUnSort: '<a class=\"unsort-icon-custom-color\"><ifx-icon icon=\"arrowtrianglevertikal16\"></ifx-icon></a>'\n      },\n      rowDragManaged: this.columnDefs.some(col => col.dndSource === true) ? true : false,\n      animateRows: this.columnDefs.some(col => col.dndSource === true) ? true : false,\n      pagination: this.pagination,\n      paginationPageSize: this.paginationPageSize,\n    };\n\n  }\n\n\n  onFirstDataRendered(params: FirstDataRenderedEvent) {\n    params.api.sizeColumnsToFit();\n  }\n\n\n  componentWillUpdate() {\n    this.gridOptions.columnDefs = this.columnDefs;\n    this.gridOptions.rowData = this.rowData;\n    if (this.gridOptions.api) {\n      this.gridOptions.api.setRowData(this.rowData);\n      this.gridOptions.api.setColumnDefs(this.columnDefs);\n    }\n  }\n\n  componentDidLoad() {\n    new Grid(document.getElementById(`ifxTable-${this.uniqueKey}`), this.gridOptions);\n    if (this.gridOptions.api) {\n      this.gridOptions.api.sizeColumnsToFit();\n    }\n  }\n\n\n  render() {\n    // if (this.gridOptions.rowDragManaged) {\n    //   // console.log(\"draggable table render\")\n    // }\n    return (\n      <div id=\"grid-wrapper\" class={{ 'auto-height': this.tableHeight === 'auto' ? true : false }}>\n\n        <div id={`ifxTable-${this.uniqueKey}`} class=\"ag-theme-alpine\" style={{\n          'height': `${this.tableHeight}`, width: '100%'\n        }}></div >\n      </div >\n    );\n\n\n  }\n\n\n  hasButtonCol(): boolean {\n    return this.columnDefs.some(column => column.field === 'button');\n  }\n\n\n\n  setButtonRenderer() {\n    const buttonColumn = this.columnDefs.find(column => column.field === 'button');\n    if (buttonColumn) {\n      buttonColumn.cellRenderer = ButtonCellRenderer;\n    }\n  }\n\n  // setIconButtonRenderer() {\n  //   const iconButtonColumn = this.columnDefs.find(column => column.field === 'iconButton');\n  //   if (iconButtonColumn) {\n  //     iconButtonColumn.cellRenderer = IconButtonCellRenderer;\n  //   }\n  // }\n\n  // setLinkRenderer() {\n  //   const linkColumn = this.columnDefs.find(column => column.field === 'link');\n  //   if (linkColumn) {\n  //     linkColumn.cellRenderer = LinkCellRenderer;\n  //   }\n  // }\n\n\n\n  onDragOver(event) {\n    var dragSupported = event.dataTransfer.length;\n\n    if (dragSupported) {\n      event.dataTransfer.dropEffect = 'move';\n    }\n\n    event.preventDefault();\n  }\n\n  onDrop(event) {\n    var jsonData = event.dataTransfer.getData('application/json');\n\n    var eJsonRow = document.createElement('div');\n    eJsonRow.classList.add('json-row');\n    eJsonRow.innerText = jsonData;\n\n    var eJsonDisplay = document.querySelector('#eJsonDisplay');\n\n    eJsonDisplay.appendChild(eJsonRow);\n    event.preventDefault();\n  }\n\n}\n"],"version":3}