import{a as d}from"./chunk-YG34CYR7.js";import{a as n,b as c}from"./chunk-3ZREPG4E.js";import{a,b as o,f as s,h,j as p,k as _,l as f,m as u}from"./chunk-PZIZRO2O.js";var b=()=>':host{display:inline-block}.chip{position:relative}.chip__wrapper{display:inline-flex;align-items:center;justify-content:center;gap:8px;box-sizing:border-box;border-radius:9999px;background:#FFFFFF;cursor:pointer;transition:border 100ms ease;font:400 0.875rem/1.25rem "Source Sans 3"}.chip__wrapper .icon__wrapper{display:flex}.chip__wrapper.outlined,.chip__wrapper.filled-dark,.chip__wrapper.filled-light{outline:2px solid transparent}.chip__wrapper.outlined:focus-visible,.chip__wrapper.filled-dark:focus-visible,.chip__wrapper.filled-light:focus-visible{outline:2px solid #0A8276;outline-offset:2px}.chip__wrapper.outlined.chip__wrapper--opened .wrapper__open-button,.chip__wrapper.filled-dark.chip__wrapper--opened .wrapper__open-button,.chip__wrapper.filled-light.chip__wrapper--opened .wrapper__open-button{transform:rotate(-180deg)}.chip__wrapper.outlined.chip__wrapper--selected .wrapper__label .label__selected-options,.chip__wrapper.filled-dark.chip__wrapper--selected .wrapper__label .label__selected-options,.chip__wrapper.filled-light.chip__wrapper--selected .wrapper__label .label__selected-options{font:400 0.875rem/1.25rem "Source Sans 3"}.chip__wrapper.filled-dark.chip__wrapper--selected:not(.read-only),.chip__wrapper.filled-light.chip__wrapper--selected:not(.read-only){background-color:#0A8276;color:white}.chip__wrapper.filled-dark.chip__wrapper--selected:not(.read-only):hover,.chip__wrapper.filled-light.chip__wrapper--selected:not(.read-only):hover{background-color:#08665C}.chip__wrapper.filled-dark.chip__wrapper--selected:not(.read-only):hover.disabled,.chip__wrapper.filled-light.chip__wrapper--selected:not(.read-only):hover.disabled{background-color:#0A8276}.chip__wrapper.outlined{border:1px solid #8D8786}.chip__wrapper.outlined:hover:not(.read-only){border-color:#575352;background-color:#F7F7F7}.chip__wrapper.outlined:active:not(.read-only){border-color:#575352;background-color:#BFBBBB}.chip__wrapper.outlined.chip__wrapper--opened{border:1px solid #0A8276}.chip__wrapper.outlined.chip__wrapper--selected{outline:3px solid #0A8276;border:1px solid transparent;background-color:white}.chip__wrapper.outlined.chip__wrapper--selected:focus-visible{outline-offset:0px}.chip__wrapper.outlined.chip__wrapper--selected:hover:not(.read-only){outline-color:#08665C}.chip__wrapper.outlined.chip__wrapper--selected.read-only{outline:none;border:1px solid black}.chip__wrapper.outlined.chip__wrapper--selected.read-only.disabled{border:1px solid #BFBBBB}.chip__wrapper.outlined.disabled{outline:none;color:#BFBBBB;border:1px solid #BFBBBB}.chip__wrapper.outlined.disabled:hover{outline:none;border-color:#BFBBBB;background-color:white}.chip__wrapper.outlined.read-only{border:1px solid #8D8786}.chip__wrapper.outlined.read-only:focus-visible{outline:2px solid #0A8276;outline-offset:2px}.chip__wrapper.outlined.read-only.disabled{border:1px solid #BFBBBB}.chip__wrapper.filled-dark{background-color:#3C3A39;color:white}.chip__wrapper.filled-dark:hover:not(.chip__wrapper--selected,.disabled,.read-only){background-color:#575352}.chip__wrapper.filled-dark:active:not(.chip__wrapper--selected,.disabled,.read-only){background-color:#8D8786;color:black}.chip__wrapper.filled-dark.disabled{outline:none;color:#BFBBBB}.chip__wrapper.filled-dark.disabled:hover:not(.chip__wrapper--selected){background-color:#3C3A39}.chip__wrapper.filled-dark.chip__wrapper--selected.read-only{border:1px solid #8D8786}.chip__wrapper.filled-dark.read-only{border:1px solid #8D8786}.chip__wrapper.filled-light{background-color:#EEEDED}.chip__wrapper.filled-light:hover:not(.read-only){background-color:#BFBBBB}.chip__wrapper.filled-light:active:not(.read-only){background-color:#8D8786}.chip__wrapper.filled-light.disabled{outline:none;color:#BFBBBB}.chip__wrapper.filled-light.disabled:hover:not(.chip__wrapper--selected){background-color:#EEEDED}.chip__wrapper.filled-light.chip__wrapper--selected.read-only{border:1px solid black}.chip__wrapper.filled-light.chip__wrapper--selected.read-only.disabled{border:none}.chip__wrapper.filled-light.read-only{border:1px solid black}.chip__wrapper.filled-light.read-only.disabled{border:none}.chip__wrapper.chip__wrapper--small{padding:4px 8px;height:24px}.chip__wrapper.chip__wrapper--medium{padding:4px 12px;height:28px}.chip__wrapper.chip__wrapper--large{padding:8px 12px;height:36px}.wrapper__label{display:inline-flex;align-items:center;gap:4px}.wrapper__label .label__selected-options{font:600 0.875rem/1.25rem "Source Sans 3"}.wrapper__open-button{display:flex;align-items:center}.wrapper__unselect-button{display:flex;align-items:center}.chip__dropdown{position:absolute;z-index:1;box-shadow:0px 6px 9px 0px rgba(29, 29, 29, 0.1019607843);border:1px solid #EEEDED;border-radius:1px;padding:8px 0;min-width:222px;background-color:#FFFFFF}',w=class{constructor(e){h(this,e),this.ifxChange=u(this,"ifxChange",7)}get chip(){return f(this)}ifxChange;placeholder="";size="medium";value=void 0;variant="single";theme="outlined";readOnly=!1;ariaLabelText;disabled=!1;icon="";opened=!1;selectedOptions=[];handleValueChange(e){this.syncSelectedOptionsWithProp(e)}handleReadOnlyChange(e){e&&(this.opened=!1)}closeDropdownOnOutsideClick(e){let i=e.composedPath(),t=this.chip.shadowRoot.querySelector(".chip__wrapper"),r=this.chip.shadowRoot.querySelector(".chip__dropdown");!i.includes(r)&&!i.includes(t)&&this.opened&&this.toggleDropdownMenu()}handleKeyDown(e){e.code!=="Tab"&&e.preventDefault(),e.target.tagName==="IFX-CHIP"?this.handleWrapperKeyDown(e):e.target.tagName==="IFX-CHIP-ITEM"&&this.handleDropdownKeyDown(e)}updateSelectedOptions(e){let i=e.detail,t=[...this.selectedOptions];this.variant!=="multi"?(i.selected?(this.opened=!1,this.getChipItems().forEach(l=>{l.selected&&l!==e.target&&(l.chipState=o(a({},l.chipState),{emitIfxChipItemSelect:!1}),l.selected=!1)}),this.selectedOptions=[i]):this.selectedOptions=[],this.value=this.selectedOptions[0]?this.selectedOptions[0].value:void 0):(i.selected?this.selectedOptions.find(r=>r.value===i.value)||(this.selectedOptions=[...this.selectedOptions,i]):this.selectedOptions=this.selectedOptions.filter(r=>r.value!==i.value),this.value=this.selectedOptions.map(r=>r.value)),i.emitIfxChange&&this.ifxChange.emit({previousSelection:t,currentSelection:this.selectedOptions,name:this.placeholder})}getChipItems(){return this.chip.querySelectorAll("ifx-chip-item")}getSelectedOptions(){return this.variant!=="multi"?this.selectedOptions.map(e=>e.label).join(""):this.selectedOptions.slice(0,2).map(e=>e.label).join(", ")}toggleDropdownMenu(){this.readOnly||(this.opened=!this.opened)}focusChipItemAt(e=0){this.opened=!0;let i=this.getChipItems(),t;if(e===-1)t=i.item(i.length-1);else if(e>=0&&e<i.length)t=i.item(e);else{console.error(`Invalid index: ${e}`);return}let r=t.shadowRoot.querySelector(".chip-item");r&&setTimeout(()=>{r.focus()},1)}focusChip(){this.chip.shadowRoot.querySelector(".chip__wrapper").focus()}handleUnselectButtonClick(e){e.stopPropagation(),this.opened=!1;let i=!1;if(this.getChipItems().forEach(r=>{r.selected&&(i=!0,r.chipState=o(a({},r.chipState),{emitIfxChipItemSelect:!1}),r.selected=!1)}),i){let r=this.selectedOptions;this.selectedOptions=[],this.value=[],this.ifxChange.emit({previousSelection:r,currentSelection:[],name:this.placeholder})}}handleWrapperClick(){this.readOnly||this.toggleDropdownMenu()}handleWrapperKeyDown(e){if(!this.readOnly)if(this.opened)switch(e.code){case"Escape":this.opened=!1,this.focusChip();break}else switch(e.code){case"Space":case"Enter":case"ArrowDown":this.focusChipItemAt(0);break;case"ArrowUp":this.focusChipItemAt(-1);break}}handleDropdownKeyDown(e){let i=this.getChipItems(),t=Array.from(i).indexOf(e.target);if(t===-1){console.error("Target not found in chip items");return}switch(e.code){case"ArrowDown":if(t===i.length-1)break;this.focusChipItemAt(t+1);break;case"ArrowUp":if(t===0)break;this.focusChipItemAt(t-1);break;case"Escape":this.opened=!1,this.focusChip();break;case"Space":this.variant==="single"&&(this.opened=!1,this.focusChip());break;case"Enter":this.opened=!1,this.focusChip();break}}syncChipState(){let e=this.getChipItems(),i=0;e.forEach(t=>{t.chipState={emitIfxChipItemSelect:!0,size:this.size?this.size:"medium",variant:this.variant==="multi"?"multi":"single",key:i++}})}syncSelectedOptionsWithProp(e){this.selectedOptions=[];let i=(()=>{let t=0;return()=>t++})();Array.isArray(e)?this.selectedOptions=e.map(t=>({value:t,label:t,selected:!0,key:i(),emitIfxChange:!0})):typeof e=="string"&&(this.selectedOptions=[{value:e,label:e,selected:!0,key:i(),emitIfxChange:!0}]),this.syncChipState()}componentWillLoad(){this.syncSelectedOptionsWithProp(this.value)}componentDidLoad(){return s(this,null,function*(){if(!d(this.chip)){let e=n();c("ifx-chip",yield e)}})}render(){return p(_,{key:"47322fb3db73d5b439cc1ea1381aaf0293eb9f4c",OnKeyDown:this.handleKeyDown},p("div",{key:"5fda90fa399bd3925fc693ea3973d5f1a2c95f8e",class:"chip"},p("div",{key:"75e110229bf483217724b7348c0ecc19d9fbe9f6",class:`chip__wrapper chip__wrapper--${this.size?this.size:"medium"}
                  chip__wrapper--${this.variant==="multi"?"multi":"single"}
                  ${this.opened&&!this.readOnly?"chip__wrapper--opened":""}
                  ${this.selectedOptions.length?"chip__wrapper--selected":""}
                  ${this.theme?this.theme:"outlined"}
                  ${this.disabled?"disabled":""}
                  ${this.readOnly?"read-only":""}`,tabIndex:0,onClick:!this.readOnly&&!this.disabled?()=>{this.handleWrapperClick()}:void 0,role:"combobox","aria-label-text":this.ariaLabelText,"aria-value":this.getSelectedOptions(),"aria-haspopup":this.readOnly?void 0:"listbox","aria-expanded":this.readOnly?void 0:this.opened.toString(),"aria-controls":this.readOnly?void 0:"dropdown","aria-readonly":this.readOnly?"true":void 0,"aria-multiselectable":this.variant==="multi"?"true":void 0},this.icon&&p("div",{key:"e02a4a72d22e8eaf2cb8ca3d70b0fe6aad7203a9",class:"icon__wrapper"},p("ifx-icon",{key:"06cfaf3cf986c0edab5ad720e1d6616d7e21121f",icon:this.icon})),p("div",{key:"c50e49f41db6f1e23adde2ac5eb3306cdd5c9872",class:"wrapper__label"},this.selectedOptions.length===0&&`${this.placeholder}`,this.selectedOptions.length!==0&&this.variant==="multi"&&this.placeholder!==""&&`${this.placeholder}:`,this.selectedOptions.length!==0&&p("div",{key:"e41b4e5f240397eefc4ec29717bd3d930083f1b0",class:"label__selected-options"},this.getSelectedOptions()),this.selectedOptions.length>2&&this.variant==="multi"&&p("ifx-indicator",{key:"85cc1ba7d6e3fb41a88410100e0ec6b2db6ea437",variant:"number",inverted:this.theme!=="outlined",number:this.selectedOptions.length-2})),!this.readOnly&&(this.variant!=="multi"||this.variant==="multi"&&this.selectedOptions.length===0)&&p("div",{key:"d8a21984cf91a1a197dcd24b6d91c1ec0c3e9048",class:"wrapper__open-button"},p("ifx-icon",{key:1,icon:"chevron-down-16"})),this.selectedOptions.length>=1&&this.variant==="multi"&&p("div",{key:"118a48627d8ad3248af532dcdd7da106ef1941fc",class:"wrapper__unselect-button",onClick:!this.readOnly&&!this.disabled?e=>{this.handleUnselectButtonClick(e)}:void 0},p("ifx-icon",{key:2,icon:"cross16"}))),this.opened&&!this.readOnly&&p("div",{key:"011c5a3fee658abbc8bcb82e3ae2de5490192303",id:"dropdown",role:"listbox",class:"chip__dropdown"},p("slot",{key:"46c9606a9166f174d084e6ecfd6bb8e172486a51"}))))}static get watchers(){return{value:[{handleValueChange:0}],readOnly:[{handleReadOnlyChange:0}]}}};w.style=b();export{w as ifx_chip};
